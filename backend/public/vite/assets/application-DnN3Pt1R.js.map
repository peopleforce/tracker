{"version":3,"mappings":"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","names":["prototype","submitter","validateSubmitter","form","raise","errorConstructor","message","name","submittersByForm","findSubmitterFromClickTarget","target","element","candidate","clickCaptured","event","prototypeOfSubmitEvent","FrameLoadingStyle","_FrameElement","__publicField","value","frameLoadingStyleFromString","_a","_b","FrameElement","style","drive","activateScriptElement","createdScriptElement","cspNonce","getCspNonce","copyElementAttributes","destinationElement","sourceElement","createDocumentFragment","html","template","dispatch","eventName","cancelable","detail","cancelEvent","nextRepaint","nextEventLoopTick","nextAnimationFrame","resolve","nextMicrotask","parseHTMLDocument","unindent","strings","values","lines","interpolate","match","indent","line","result","string","i","uuid","_","getAttribute","attributeName","elements","hasAttribute","markAsBusy","clearBusyState","waitForLoad","timeoutInMilliseconds","onComplete","getHistoryMethodForAction","action","isAction","getVisitAction","getMetaElement","getMetaContent","nonce","content","setMetaContent","findClosestRecursively","selector","elementIsFocusable","queryAutofocusableElement","elementOrDocumentFragment","around","callback","reader","before","after","doesNotTargetIFrame","findLinkFromClickTarget","getLocationForLink","link","expandURL","debounce","fn","delay","timeoutId","args","_submitter","Config$1","config","__privateAdd","__privateGet","__privateSet","forms","Config","locatable","getAnchor","url","anchorMatch","getAction$1","getExtension","getLastPathComponent","isPrefixedBy","baseURL","prefix","getPrefix","locationIsVisitable","location","rootLocation","getRequestURL","anchor","toCacheKey","urlsAreEqual","left","right","getPathComponents","addTrailingSlash","FetchResponse","response","LimitedSet","maxSize","oldestValue","recentRequests","nativeFetch","fetchWithTurboHeaders","options","modifiedHeaders","requestUID","fetchMethodFromString","method","FetchMethod","fetchEnctypeFromString","encoding","FetchEnctype","_resolveRequestPromise","_FetchRequest_instances","allowRequestToBeIntercepted_fn","willDelegateErrorHandling_fn","FetchRequest","delegate","requestBody","enctype","_value","body","buildResourceAndBody","fetchBody","fetchMethod","fetchOptions","__privateMethod","error","fetchResponse","isSafe","mimeType","requestInterception","resource","searchParams","entriesExcludingFiles","mergeIntoURLSearchParams","entries","AppearanceObserver","lastEntry","StreamMessage","fragment","importStreamElements","streamElement","inertScriptElement","PREFETCH_DELAY","_prefetchTimeout","_prefetched","PrefetchCache","request","ttl","cacheTtl","prefetchCache","FormSubmissionState","FormSubmission","formElement","mustRedirect","getMethod","getAction","getFormAction","buildFormData","getEnctype","initialized","requesting","confirmationMessage","stopping","stopped","token","getCookieValue","_request","responseSucceededWithoutRedirect","input","formData","cookieName","cookie","formElementAction","formAction","Snapshot","queryPermanentElementsAll","id","getPermanentElementById","snapshot","permanentElementMap","currentPermanentElement","newPermanentElement","node","FormSubmitObserver","eventTarget","submissionDoesNotDismissDialog","submissionDoesNotTargetIFrame","_resolveRenderPromise","_resolveInterceptionPromise","View","x","y","renderer","isPreview","shouldRender","willRender","shouldInvalidate","renderInterception","reason","direction","FrameView","LinkInterceptor","_event","LinkClickObserver","FormLinkClickObserver","originalEvent","type","turboFrame","turboAction","turboConfirm","Bardo","bardo","permanentElement","placeholder","createPlaceholderForPermanentElement","clone","_activeElement","Renderer","currentSnapshot","newSnapshot","reject","currentElement","newElement","FrameRenderer","destinationRange","frameElement","sourceRange","renderElement","block","readScrollLogicalPosition","behavior","readScrollBehavior","activatedScriptElement","defaultValue","Idiomorph","noOp","defaults","elt","morph","oldNode","newContent","normalizeElement","newNode","normalizeParent","ctx","createMorphContext","morphedNodes","saveAndRestoreFocus","withHeadBlocking","morphChildren","morphOuterHTML","oldParent","childNodes","index","rightMargin","activeElement","activeElementId","selectionStart","selectionEnd","results","newParent","insertionPoint","endPoint","newChild","bestMatch","findBestMatch","removeNodesBetween","morphNode","movedChild","moveBeforeById","insertedNode","createNode","tempNode","removeNode","newEmptyChild","newClonedChild","startPoint","softMatch","nextSibling","siblingSoftMatchCount","cursor","isSoftMatch","isIdSetMatch","oldSet","newSet","oldElt","newElt","moveBefore","startInclusive","endExclusive","parentNode","removeElementFromAncestorsIdMaps","idSet","handleHeadElement","morphAttributes","ignoreValueOfActiveElement","oldAttributes","newAttributes","newAttribute","ignoreAttribute","oldAttribute","syncInputValue","oldElement","newValue","oldValue","syncBooleanAttribute","newLiveValue","oldLiveValue","ignoreUpdate","attr","updateType","possibleActiveElement","oldHead","newHead","promises","newCtx","added","removed","preserved","nodesToAppend","srcToNewHeadNodes","newHeadChild","currentHeadElt","inNewContent","isReAppended","isPreserved","promise","_resolve","removedElement","persistentIds","idMap","createIdMaps","mergedConfig","mergeDefaults","morphStyle","createPantry","finalConfig","pantry","findIdElements","root","populateIdMapWithTree","current","oldContent","oldIdElements","newIdElements","createPersistentIds","newRoot","duplicateIds","oldIdTagNameMap","tagName","generatedByIdiomorph","parseContent","createDuckTypedParent","dummyParent","s","n","r","parser","contentWithSvgsRemoved","htmlElement","morphElements","callbacks","DefaultIdiomorphCallbacks","_beforeNodeMorphed","beforeNodeMorphed","mutationType","MorphingFrameRenderer","_ProgressBar","ProgressBar","HeadSnapshot","elementIsNoscript","elementWithoutNonce","outerHTML","details","elementType","elementIsTracked","matchedType","tracked","elementIsMetaElementWithName","elementIsScript","elementIsStylesheet","PageSnapshot","documentElement","head","headSnapshot","clonedElement","selectElements","clonedSelectElements","source","option","clonedPasswordInput","_viewTransitionStarted","_lastOperation","ViewTransitioner","useViewTransition","render","defaultOptions","TimingMetric","VisitState","SystemStatusCode","Direction","Visit","restorationIdentifier","historyChanged","referrer","snapshotHTML","visitCachedSnapshot","updateHistory","shouldCacheSnapshot","acceptsStreamResponse","actionForHistory","statusCode","isSuccessful","responseHTML","_response","redirected","_error","scrollPosition","metric","BrowserAdapter","session","visit","_visit","_formSubmission","CacheObserver","_FrameRedirector_instances","shouldSubmit_fn","shouldRedirect_fn","findFrameElement_fn","FrameRedirector","_location","frame","meta","History","turbo","restorationIndex","state","additionalData","restorationData","_prefetchedLink","_enable","_tryToPrefetchRequest","_cancelRequestIfObsolete","_cancelPrefetchRequest","_tryToUsePrefetchedRequest","_LinkPrefetchObserver_instances","cacheTtl_get","isPrefetchable_fn","LinkPrefetchObserver","fetchRequest","cached","turboFrameTarget","unfetchableLink","linkToTheSamePage","linkOptsOut","nonSafeLink","eventPrevented","turboPrefetchParent","turboMethod","isUJS","_Navigator_instances","getActionForFormSubmission_fn","getDefaultAction_fn","Navigator","formSubmission","visitOptions","currentAnchor","isRestorationToTop","oldURL","newURL","PageStage","PageObserver","readyState","ScrollObserver","position","StreamMessageRenderer","getPermanentElementMapForFragment","withAutofocusFromFragment","withPreservedFocus","permanentElementsInDocument","permanentElementInDocument","elementInStream","generatedID","turboStreams","elementWithAutofocus","firstAutofocusableElementInStreams","willAutofocusId","elementToAutofocus","activeElementBeforeRender","activeElementAfterRender","restoreFocusTo","elementToFocus","nodeListOfStreamElements","_started","StreamObserver","fetchResponseFromEvent","fetchResponseIsStream","ErrorRenderer","replaceableElement","_PageRenderer_instances","setLanguage_fn","PageRenderer","mergedHeadElements","newStylesheetElements","loadingElements","newHeadElements","elementList","lang","MorphingPageRenderer","canRefreshFrame","SnapshotCache","size","key","PageView","rendererClass","cachedSnapshot","_preloadAll","Preloader","snapshotCache","_Cache_instances","setCacheControl_fn","Cache","_pageRefreshDebouncePeriod","Session","adapter","requestId","isRecentRequest","isCurrentUrl","isUnsafe","isStream","frameTarget","extendURLWithDeprecatedProperties","defaultPrevented","_snapshot","_isPreview","renderMethod","ev","newBody","timing","submitterIsNavigatable","container","withinFrame","deprecatedLocationPropertyDescriptors","cache","navigator$1","start","registerAdapter","connectStreamSource","disconnectStreamSource","renderStreamMessage","clearCache","setProgressBarDelay","setConfirmMethod","confirmMethod","setFormMode","mode","Turbo","TurboFrameMissingError","_currentFetchRequest","_resolveVisitPromise","_connected","_hasBeenLoaded","_ignoredAttributes","_shouldMorphFrame","_FrameController_instances","loadSourceURL_fn","loadFrameResponse_fn","visit_fn","navigateFrame_fn","handleUnvisitableFrameResponse_fn","willHandleFrameMissingFromResponse_fn","handleFrameMissingFromResponse_fn","throwFrameMissingError_fn","visitResponse_fn","formActionIsVisitable_fn","shouldInterceptNavigation_fn","isIgnoringChangesTo_fn","ignoringChangesToAttribute_fn","withCurrentNavigationElement_fn","FrameController","_fetchResponse","refresh","src","document","newFrame","_renderMethod","_newElement","pageSnapshot","activateElement","sourceURL","newFrameElement","wrapped","getFrameElementById","currentURL","StreamActions","e","targetElement","_StreamElement_instances","raise_fn","_StreamElement","c","existingChildren","newChildrenIds","actionFunction","StreamElement","StreamSourceElement","consumer","getConsumer","setConsumer","createConsumer","newConsumer","__vitePreload","subscribeTo","channel","mixin","subscriptions","walk","obj","acc","camel","m","TurboCableStreamSourceElement","data","signed_stream_name","snakeize","encodeMethodIntoRequestBody","isBodyInit","determineFetchMethod","formMethod","determineFormMethod","overrideMethod","EventListener","eventOptions","binding","extendedEvent","extendEvent","leftIndex","rightIndex","stopImmediatePropagation","Dispatcher","application","eventListener","listeners","map","clearEventListeners","eventListenerMap","cacheKey","parts","defaultActionDescriptorFilters","descriptorPattern","parseActionDescriptorString","descriptorString","matches","keyFilter","parseEventTarget","parseEventOptions","eventTargetName","stringifyEventTarget","camelize","char","namespaceCamelize","capitalize","dasherize","tokenize","isSomething","object","hasProperty","property","allModifiers","Action","descriptor","schema","getDefaultEventNameForElement","eventFilter","filters","standardFilter","params","pattern","typecast","ctrl","alt","shift","modifier","defaultEventNames","Binding","context","actionEvent","actionDescriptorFilters","controller","passes","filter","currentTarget","identifier","ElementObserver","mutations","mutation","nodes","tree","processor","AttributeObserver","add","fetch","del","prune","Multimap","set","_key","_values","SelectorObserver","selectors","_attributeName","matchedBefore","StringMapObserver","attribute","TokenListObserver","unmatchedTokens","matchedTokens","tokens","previousTokens","currentTokens","firstDifferingIndex","zip","previousToken","currentToken","tokensAreEqual","tokenString","parseTokenString","length","ValueListObserver","parseResult","valuesByToken","BindingObserver","ValueObserver","receiver","writer","rawValue","rawOldValue","changedMethodName","changedMethod","valueDescriptorMap","descriptors","hasMethodName","TargetObserver","readInheritableStaticArrayValues","constructor","propertyName","ancestors","getAncestorsForConstructor","getOwnStaticArrayValues","readInheritableStaticObjectPairs","pairs","getOwnStaticObjectPairs","definition","OutletObserver","outletName","observer","_selector","outlet","hasOutlet","hasOutletController","_element","selectorObserver","attributeObserver","dependencies","module","identifiers","Context","scope","functionName","methodName","bless","shadow","getBlessedProperties","properties","shadowConstructor","extend","shadowProperties","getShadowProperties","blessedProperties","blessing","getOwnKeys","getShadowedDescriptor","shadowingDescriptor","extendWithReflect","extended","testReflectExtension","b","blessDefinition","Module","ClassMap","DataMap","Guide","logger","warnedKeys","attributeValueContainsToken","TargetSet","targetName","targetNames","targets","targetDescriptor","revisedAttributeName","OutletSet","controllerElement","outletNames","outlets","controllerAttribute","Scope","ScopeObserver","scopesByIdentifier","referenceCount","Router","contexts","afterLoad","defaultSchema","objectFromEntries","array","memo","k","v","Application","domReady","controllerConstructor","rest","ClassPropertiesBlessing","classDefinition","propertiesForClassDefinition","classes","OutletPropertiesBlessing","outletDefinition","propertiesForOutletDefinition","getOutletController","getControllerAndEnsureConnectedScope","outletController","camelizedName","outletElement","TargetPropertiesBlessing","targetDefinition","propertiesForTargetDefinition","ValuePropertiesBlessing","valueDefinitionPairs","propertyDescriptorMap","valueDefinitionPair","valueDescriptor","parseValueDefinitionPair","propertiesForValueDefinitionPair","read","write","typeDefinition","valueDescriptorForTokenAndTypeDefinition","parseValueTypeConstant","constant","parseValueTypeDefault","parseValueTypeObject","payload","typeObject","hasType","hasDefault","fullObject","onlyType","onlyDefault","typeFromObject","typeFromDefaultValue","propertyPath","parseValueTypeDefinition","typeFromConstant","defaultValueForDefinition","defaultValuesByType","constantFromType","readers","writers","writeString","writeJSON","Controller","_identifier","_application","bubbles","round","lim","l","h","p2b","n2b","b2n","n2p","map$1","hex","h1","h2","eq","isShort","hexParse","str","len","ret","alpha","a","f","hexString","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","hueValue","g","d","max","rgb2hsl","min","calln","hsl2rgb","hwb2rgb","hsv2rgb","hue","hueParse","p1","p2","rotate","deg","hslString","names$1","unpack","unpacked","keys","tkeys","j","ok","nk","names","nameParse","RGB_RE","rgbParse","rgbString","to","from","rgb1","rgb2","t","modHSL","ratio","tmp","proto","fromObject","functionParse","Color","color","weight","c1","c2","w2","p","w1","val","noop","uid","isNullOrUndef","isArray","isObject","isNumberFinite","finiteOrDefault","valueOrDefault","toPercentage","dimension","toDimension","thisArg","each","loopable","reverse","_elementsEqual","a0","a1","ilen","v0","v1","klen","isValidKey","_merger","tval","sval","merge","sources","merger","mergeIf","_mergerIf","keyResolvers","o","_splitKey","part","_getKeyResolver","resolveObjectKey","_capitalize","defined","isFunction","setsEqual","item","_isClickEvent","PI","TAU","PITAU","INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","almostEquals","epsilon","niceNum","range","roundedRange","niceRange","fraction","_factorize","sqrt","isNonPrimitive","isNumber","almostWhole","rounded","_setMinAndMaxByKey","toRadians","degrees","toDegrees","radians","_decimalPlaces","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","angle","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","end","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_int16Range","_isBetween","_lookup","table","cmp","hi","lo","mid","_lookupByKey","last","ti","_rlookupByKey","_filterBetween","arrayEvents","listenArrayEvents","listener","base","res","unlistenArrayEvents","stub","_arrayUnique","items","requestAnimFrame","throttled","argsToUse","ticking","timeout","_toLeftRightCenter","align","_alignStartEnd","_textX","rtl","_getStartAndCountOfVisiblePoints","points","animationsDisabled","pointCount","count","iScale","vScale","_parsed","spanGaps","axis","minDefined","maxDefined","distanceToDefinedLo","point","distanceToDefinedHi","_scaleRangesChanged","xScale","yScale","_scaleRanges","newRanges","changed","atEdge","elasticIn","elasticOut","effects","isPatternOrGradient","getHoverColor","numbers","colors","applyAnimationsDefaults","applyLayoutsDefaults","intlCache","getNumberFormat","locale","formatter","formatNumber","num","formatters","tickValue","ticks","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","remain","Ticks","applyScaleDefaults","_ctx","overrides","getScope$1","Defaults","_descriptors","_appliers","targetScope","scopeObject","targetScopeObject","privateName","local","appliers","apply","toFontString","font","_measureText","gc","longest","textWidth","_longestText","arrayOfThings","jlen","thing","nestedThing","gcLen","_alignPixel","chart","pixel","width","devicePixelRatio","halfWidth","clearCanvas","canvas","drawPoint","drawPointLegend","xOffset","yOffset","cornerRadius","xOffsetW","yOffsetW","rotation","radius","rad","_isPointInArea","area","margin","clipArea","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","setRenderOpts","opts","decorateText","metrics","top","bottom","yDecoration","drawBackdrop","oldColor","renderText","text","stroke","addRoundedRectPath","rect","LINE_HEIGHT","FONT_STYLE","toLineHeight","numberOrZero","_readValueToProps","props","objProps","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","inputs","info","_addGrace","minmax","grace","beginAtZero","change","keepZero","createContext","parentContext","_createResolver","scopes","prefixes","rootScopes","getTarget","finalRootScopes","_cached","_resolveWithPrefixes","getKeysFromAllScopes","storage","_attachContext","proxy","subProxy","descriptorDefaults","_resolveWithContext","_scriptable","_indexable","_allKeys","readKey","needsSubResolver","_proxy","_context","_subProxy","_resolveScriptable","_resolveArray","getValue","_stack","createSubResolver","isIndexable","arr","resolver","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","subGetTarget","resolveKeysFromAllScopes","_parseObjectDataRadialScale","parsed","EPSILON","getPoint","getValueAxis","indexAxis","splineCurve","firstPoint","middlePoint","afterPoint","next","d01","d12","s01","s12","fa","fb","monotoneAdjust","deltaK","mK","pointsLen","alphaK","betaK","tauK","squaredMagnitude","pointCurrent","pointAfter","monotoneCompute","valueAxis","pointBefore","iPixel","vPixel","splineCurveMonotone","slopeDelta","capControlPoint","pt","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","loop","controlPoints","prev","_isDomSupported","_getParentNode","domNode","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","getStyle","el","positions","getPositionedStyle","styles","suffix","pos","useOffsetPos","getCanvasPosition","touches","offsetX","offsetY","box","getRelativePosition","currentDevicePixelRatio","borderBox","paddings","borders","height","getContainerSize","maxWidth","maxHeight","containerStyle","containerBorder","containerPadding","round1","getMaximumSize","bbWidth","bbHeight","aspectRatio","margins","containerSize","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","supportsEventListenerOptions","passiveSupported","readUsedSize","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","getRightToLeftAdapter","rectX","itemWidth","getLeftToRightAdapter","_itemWidth","getRtlAdapter","overrideTextDirection","original","restoreTextDirection","propertyFn","normalizeSegment","getSegment","segment","bounds","startBound","endBound","between","normalize","_boundSegment","compare","inside","subStart","prevValue","startIsBefore","endIsBefore","shouldStart","shouldStop","_boundSegments","segments","sub","findStartAndEnd","solidSegments","cur","_computeSegments","segmentOptions","splitByStyles","completeLoop","doSplitByStyles","chartContext","baseStyle","readStyle","datasetIndex","prevStyle","addStyle","st","dir","styleChanged","replacer","getSizeForArea","scale","chartArea","field","getDatasetArea","getDatasetClipArea","clip","Animator","anims","date","numSteps","remaining","draw","charts","cb","animator","transparent","interpolators","factor","c0","Animation","cfg","currentValue","elapsed","duration","rej","resolved","Animations","animationOptions","animatedProps","newOptions","resolveTargetOptions","animations","awaitAll","running","animation","anim","scaleClip","allowedOverflow","defaultClip","toClip","getSortedDatasetIndices","filterVisible","metasets","applyStack","stack","dsIndex","singleMode","otherValue","found","convertObjectDataToArray","iAxisKey","vAxisKey","adata","isStacked","stacked","getStackKey","indexScale","valueScale","getUserBounds","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","positive","updateStacks","iAxis","vAxis","itemStacks","visualValues","getFirstScaleId","scales","createDatasetContext","createDataContext","clearStacks","isDirectUpdateMode","cloneIfNotShared","shared","createStack","canStack","DatasetController","dataset","chooseId","xid","yid","rid","iid","vid","scaleID","_data","resetNewElements","stackChanged","oldStacked","scopeKeys","_stacked","sorted","isNotInOrderComparedToPrev","labels","singleScale","xAxisKey","yAxisKey","parsedValue","otherScale","otherMin","otherMax","_skip","active","drawActiveElementsOnTop","sharing","transition","sharedOptions","firstOpts","previouslySharedOptions","includeOptions","arg1","arg2","numMeta","numData","move","newCount","getAllScaleValues","visibleMetas","computeMinSampleSize","curr","updateMinAndPrev","computeFitCategoryTraits","ruler","stackCount","thickness","computeFlexCategoryTraits","pixels","percent","parseFloatBar","entry","startValue","endValue","barStart","barEnd","parseValue","parseArrayOrPrimitive","isFloatBar","custom","barSign","actualBase","borderProps","setBorderSkipped","edge","parseEdge","swap","startEnd","orig","v2","setInflateAmount","inflateAmount","BarController","bars","reset","horizontal","vpixels","ipixels","dataIndex","currentParsed","iScaleValue","skipNull","barThickness","baseValue","minBarLength","floating","startPixel","endPixel","halfGrid","maxBarThickness","center","stackIndex","rects","BubbleController","getRatioAndOffset","circumference","cutout","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","DoughnutController","getter","arcs","spacing","chartWeight","maxRadius","outerRadius","innerRadius","radiusLength","animationOpts","centerX","centerY","animateScale","arc","metaData","total","ringWeightOffset","pointStyle","label","legendItem","legend","LineController","_dataset","maxGapLength","directUpdate","pointsCount","prevParsed","nullData","border","lastPoint","PolarAreaController","minSize","datasetStartAngle","defaultAngle","PieController","RadarController","pointPosition","ScatterController","showLine","controllers","abstract","DateAdapterBase","members","adapters","binarySearch","metaset","intersect","_sorted","lookupMethod","evaluateInteractionItems","handler","getDistanceMetricForAxis","useX","useY","deltaX","deltaY","getIntersectItems","useFinalPosition","includeInvisible","getNearestRadialItems","evaluationFunc","getNearestCartesianItems","distanceMetric","minDistance","inRange","distance","getNearestItems","getAxisItems","rangeMethod","intersectsItem","Interaction","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","wrapBoxes","boxes","layoutBoxes","stackWeight","buildStacks","layouts","wrap","setLayoutDims","vBoxMaxWidth","hBoxMaxHeight","layout","fullSize","buildLayoutBoxes","centerHorizontal","centerVertical","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","newWidth","newHeight","widthChanged","heightChanged","handleMaxPadding","updatePos","getMargins","marginForPositions","fitBoxes","refitBoxes","refit","same","other","setBoxDims","placeBoxes","userPadding","layoutItem","minPadding","padding","availableWidth","availableHeight","verticalBoxes","horizontalBoxes","visibleVerticalBoxCount","BasePlatform","BasicPlatform","EXPANDO_KEY","EVENT_TYPES","isNullOrEmpty","initCanvas","renderHeight","renderWidth","displayWidth","displayHeight","eventListenerOptions","addListener","removeListener","fromNativeEvent","nodeListContains","nodeList","createAttachObserver","trigger","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","resize","listenDevicePixelRatioChanges","unlistenDevicePixelRatioChanges","createResizeObserver","releaseObserver","createProxyAndListen","DomPlatform","initial","proxies","_detectPlatform","Element$1","final","autoSkip","tickOpts","determinedMaxTicks","determineMaxTicks","ticksLimit","majorIndices","getMajorIndices","numMajorIndices","first","newTicks","skipMajors","calculateSpacing","avgMajorSpacing","skip","offset","tickLength","maxScale","maxChart","evenMajorSpacing","getEvenSpacing","factors","majorStart","majorEnd","diff","reverseAlign","offsetFromEdge","getTicksLimit","ticksLength","maxTicksLimit","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","garbageCollect","caches","getTickMarkLength","getTitleHeight","createScaleContext","createTickContext","tick","titleAlign","titleArgs","titleX","titleY","positionAxisID","Scale","Element","raw","_userMin","_userMax","_suggestedMin","_suggestedMax","metas","sampleSize","samplingEnabled","reversePixels","numTicks","minRotation","maxRotation","labelRotation","tickWidth","maxLabelDiagonal","labelSizes","maxLabelWidth","maxLabelHeight","titleOpts","gridOpts","display","isHorizontal","titleHeight","widest","highest","tickPadding","angleRadians","cos","sin","labelHeight","labelWidth","isRotated","labelsBelowTicks","offsetLeft","offsetRight","paddingLeft","paddingRight","paddingTop","paddingBottom","widths","heights","widestLabelSize","highestLabelSize","tickFont","fontString","lineHeight","nestedLabel","valueAt","idx","decimal","optionTicks","rot","grid","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","limit","step","optsAtIndex","optsAtIndexBorder","lineWidth","lineColor","borderDash","borderDashOffset","tickColor","tickBorderDash","tickBorderDashOffset","crossAlign","mirror","tickAndPadding","hTickAndPadding","textAlign","lineCount","textOffset","textBaseline","halfCount","strokeColor","strokeWidth","tickTextAlign","backdrop","labelPadding","backgroundColor","drawLine","lastLineWidth","renderTextOptions","title","tz","gz","bz","axisID","fontSize","TypedRegistry","override","parentScope","isIChartComponent","registerDefaults","itemDefaults","routeDefaults","routes","propertyParts","sourceName","sourceScope","Registry","typedRegistry","arg","reg","itemReg","registry","component","camelMethod","PluginService","hook","plugin","all","plugins","allPlugins","createDescriptors","previousDescriptors","localIds","getOpts","pluginOpts","getIndexAxis","datasetDefaults","getAxisFromDefaultScaleID","getDefaultScaleIDFromAxis","idMatchesAxis","axisFromPosition","determineAxis","scaleOptions","getAxisFromDataset","retrieveAxisFromDatasets","boundDs","mergeScaleConfig","chartDefaults","configScales","chartIndexAxis","scaleConf","defaultId","defaultScaleOptions","defaultID","initOptions","initData","initConfig","keyCache","keysCached","cachedKeys","generate","addIfFound","datasetType","mainScope","resetCache","_scopeCache","keyLists","subPrefixes","getResolver","needContext","subResolver","resolverCache","hasFunction","isScriptable","scriptable","indexable","version","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onAnimationProgress","getCanvas","instances","getChart","moveNumericKeys","intKey","determineLastEvent","lastEvent","inChartArea","isClick","Chart","invalidatePlugins","userConfig","initialCanvas","existingChart","maintainAspectRatio","_aspectRatio","newSize","newRatio","scalesOptions","axisOptions","scaleOpts","updated","isRadial","scaleType","scaleClass","hasUpdated","datasets","newControllers","ControllerClass","datasetElementType","dataElementType","animsDisabled","_active","_lastEvent","existingEvents","newEvents","_hiddenIndices","changes","_dataChanges","datasetCount","makeSet","changeSet","noArea","layers","visible","platform","_add","_remove","detached","attached","enabled","activeElements","lastActive","pluginId","replay","hoverOptions","deactivated","activated","clipArc","pixelMargin","angleMargin","toRadiusCorners","parseBorderRadius$1","angleDelta","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","rThetaToXY","theta","pathArc","circular","innerR","spacingOffset","noSpacingInnerRadius","noSpacingOuterRadius","avNogSpacingRadius","adjustedAngle","beta","angleOffset","outerStart","outerEnd","innerStart","innerEnd","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","outerMidAdjustedAngle","pCenter","p4","innerMidAdjustedAngle","p8","outerStartX","outerStartY","outerEndX","outerEndY","drawArc","fullCircles","drawBorder","borderWidth","borderJoinStyle","inner","ArcElement","chartX","chartY","rAdjust","_circumference","nonZeroBetween","betweenAngles","withinRadius","halfAngle","halfRadius","fix","radiusOffset","setStyle","lineTo","getLineMethod","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","fastPathSegment","avgX","countX","prevX","lastY","pointIndex","drawX","truncX","_getSegmentMethod","_getInterpolationMethod","strokePathWithCache","path","strokePathDirect","segmentMethod","usePath2D","LineElement","_interpolate","interpolated","inRange$1","PointElement","mouseX","mouseY","getBarBounds","bar","half","skipOrLimit","parseBorderWidth","maxW","maxH","parseBorderRadius","enableBorderRadius","maxR","enableBorder","boundingRects","skipX","skipY","hasRadius","addNormalRectPath","inflateRect","amount","refRect","BarElement","borderColor","outer","addRectPath","BORDER_COLORS","BACKGROUND_COLORS","getBorderColor","getBackgroundColor","colorizeDefaultDataset","colorizeDoughnutDataset","colorizePolarAreaDataset","getColorizer","containsColorsDefinitions","containsColorsDefinition","containsDefaultColorsDefenitions","plugin_colors","_args","chartOptions","containsColorDefenition","colorizer","lttbDecimation","samples","decimated","bucketWidth","sampledIndex","endIndex","maxAreaPoint","maxArea","nextA","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","pointAx","pointAy","minMaxDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","cleanDecimatedDataset","cleanDecimatedData","getStartAndCountOfVisiblePointsSimplified","plugin_decimation","xAxis","threshold","_segments","tpoints","_findSegmentEnd","_getBounds","targetSegments","tgt","subBounds","fillSources","fillSource","_getEdge","_pointsFromSegments","boundary","linePoints","_createBoundaryLine","_loop","_shouldApplyFill","_resolveTarget","propagate","fill","visited","_decodeFill","parseFillOption","decodeTargetIndex","firstCh","_getTargetPixel","_getTargetValue","fillOption","_buildStackLine","sourcePoints","linesBelow","getLinesBelow","addPointsBelow","below","sourcePoint","postponed","findPoint","pointValue","firstValue","lastValue","simpleArc","_getTarget","getLineByIndex","computeBoundary","computeCircularBoundary","computeLinearBoundary","_drawfill","lineOpts","above","doFill","clipVertical","clipY","lineLoop","notShape","clipBounds","interpolatedLineTo","targetLoop","interpolatedPoint","getBoxSize","labelOpts","boxHeight","boxWidth","itemsEqual","Legend","legendItems","labelFont","itemHeight","hitboxes","lineWidths","totalHeight","row","_itemHeight","columnSizes","heightLimit","totalWidth","currentColWidth","currentColHeight","col","calculateItemSize","rtlHelper","hitbox","defaultColor","halfFontSize","drawLegendBox","drawOptions","yBoxTop","xBoxLeft","borderRadius","fillText","realX","fontLineHeight","calculateLegendItemHeight","titleFont","titlePadding","topPaddingPlusHalfFontSize","hitBox","lh","isListened","hoveredItem","sameItem","calculateItemWidth","calculateItemHeight","legendItemText","plugin_legend","ci","usePointStyle","useBorderRadius","Title","textSize","fontOpts","createTitle","plugin_title","titleBlock","plugin_subtitle","positioners","xSet","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","createTooltipItem","getTooltipSize","tooltip","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","bodyLineHeight","widthPadding","maxLineWidth","determineYAlign","doesNotFitWithAlign","xAlign","caret","determineXAlign","yAlign","chartWidth","determineAlignment","alignX","alignY","paddingAndSize","getBackgroundPoint","alignment","caretSize","caretPadding","topLeft","topRight","bottomLeft","bottomRight","getAlignedX","getBeforeAfterBodyLines","createTooltipContext","tooltipItems","overrideCallbacks","defaultCallbacks","labelCount","tooltipItem","invokeCallbackWithFallback","Tooltip","beforeTitle","afterTitle","bodyItems","scoped","beforeFooter","afterFooter","labelColors","labelPointStyles","labelTextColors","positionAndSize","backgroundPoint","tooltipPoint","caretPosition","ptX","ptY","x3","y3","titleSpacing","labelColor","labelPointStyle","colorX","rtlColorX","yOffSet","colorY","outerX","innerX","bodySpacing","bodyAlign","displayColors","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","tooltipSize","animX","animY","opacity","hasTooltipContent","positionChanged","caretX","caretY","plugin_tooltip","addIfString","addedLabels","findOrAddLabel","_getLabelForValue","CategoryScale","generateTicks$1","generationOptions","dataRange","precision","maxTicks","maxDigits","includeBounds","unit","maxSpaces","rmin","rmax","countDefined","minSpacing","niceMin","niceMax","numSpaces","decimalPlaces","relativeLabelSize","LinearScaleBase","setMin","setMax","minSign","maxSign","stepSize","numericGeneratorOptions","LinearScale","log10Floor","changeExponent","isMajor","tickVal","steps","rangeExp","rangeStep","startExp","generateTicks","minExp","exp","significand","lastTick","LogarithmicScale","getTickBackdropHeight","measureLabelSize","determineLimits","fitWithPointLabels","limits","valueCount","pointLabelOpts","additionalAngle","plFont","hLimits","vLimits","updateLimits","buildPointLabelItems","createPointLabelItem","itemOpts","outerDistance","extra","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","isNotOverlapped","centerPointLabels","drawPointLabelBox","backdropColor","backdropLeft","backdropTop","backdropWidth","backdropHeight","drawPointLabels","pointLabels","pathRadiusLine","drawRadiusLine","gridLineOpts","createPointLabelContext","RadialLinearScale","leftMovement","rightMovement","topMovement","bottomMovement","angleMultiplier","scalingFactor","scaledDistance","pointLabel","distanceFromCenter","angleLines","INTERVALS","UNITS","sorter","parse","isoWeekday","determineUnitForAutoTicks","minUnit","capacity","interval","determineUnitForFormatting","determineMajorUnit","addTick","time","timestamps","timestamp","setMajorTicks","majorUnit","major","ticksFromTimestamps","TimeScale","_applyBounds","timeOpts","minor","weekday","hasWeekday","format","formats","fmt","minorFormat","majorFormat","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","displayFormats","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","registerables","interaction","visibleElements","filterElements","getNearestItem","getElements","inRangeByAxis","getPointByAxis","nearestItems","evenPoint","rotated","cx","cy","isOlderPart","act","req","clamp","inLimit","hitSize","clampAll","inPointRange","inBoxRange","hitTolerance","inRangeX","inRangeY","inLabelRange","rotPoint","getElementCenterPoint","requireVersion","pkg","ver","strict","isPercentString","toPercent","toPositivePercent","boxAppering","defaultInitAnimation","getSize","positivePercent","calculateTextAlignment","measureLabelRectangle","labelSize","xAdjust","yAdjust","hasPadding","positionObj","toPosition","calculateLabelPosition$1","shouldFit","fitRatio","toFonts","optFont","fonts","isBoundToPoint","adjust","initAnimationProperties","initAnim","applyDefault","execCallback","loadHooks","hooks","hooksContainer","widthCache","notRadius","fontsKey","isImageOrCanvas","translate","setBorderStyle","setShadowStyle","mapKey","calculateLabelSize","drawBox","drawLabel","getOpacity","optColor","setTextStrokeStyle","applyLabelDecoration","applyLabelContent","drawPointStyle","lhs","elementValue","drawCallout","pointX","pointY","callout","calloutPosition","resolveCalloutPosition","isPointInRange","separatorStart","separatorEnd","getCalloutSeparatorCoord","sideStart","sideEnd","getCalloutSideCoord","rotatedPoint","getCalloutSeparatorAdjust","side","getCalloutSideAdjust","resolveCalloutAutoPosition","xPoints","yPoints","limitedLineScale","scaleValue","isFinite","retrieveScaleID","axes","getDimensionByScale","getChartPoint","resolveBoxProperties","xDim","getChartDimensionByScale","yDim","resolvePointProperties","adjustCenterX","adjustCenterY","getChartCircle","resolveLineProperties","resolveFullLineProperties","resolveLimitedLineProperties","resolveBoxAndLabelProperties","resolveLabelElementProperties$1","scaleId","startProp","endProp","dim","calculateX","calculatePosition","calculateY","boxOpts","padStart","padEnd","availableSize","moveHooks","eventHooks","updateListeners","handleEvent","handleMoveEvents","handleClickEvents","dispatchMoveEvents","checkElements","dispatchEvent","elementHooks","updateHooks","invokeHook","callbackHook","adjustScaleRange","annotations","getScaleLimits","changeScaleLimit","verifyScaleOptions","annotation","verifyScaleIDs","suggestedLimit","scaleLimitDefined","verifyProperties","scaleIDOption","BoxAnnotation","DoughnutLabelAnnotation","drawBackground","getDatasetMeta","controllerMeta","getControllerMeta","_fitRatio","getFitRatio","boxSize","isControllerVisible","square","space","_radius","_counterclockwise","angles","getAngles","hypo","yk2","r2","_centerX","_centerY","_startAngle","_endAngle","LabelAnnotation","getLabelSize","hBorderWidth","pointInLine","interpolateX","interpolateY","sqr","rangeLimit","coordInCurve","cp","pointInCurve","coordAngleInCurve","angleInCurve","LineAnnotation","mx","my","isOnLabel","intersects","inAxisRange","drawCurve","startOpts","endOpts","startAdjust","endAdjust","getArrowHeads","drawArrowHead","isLineInArea","limitLineToArea","getControlPoint","labelProperties","resolveLabelElementProperties","arrowHeadsDefaults","limitPointToArea","dy","lenSq","xx","yy","calculateLabelPosition","calculateAutoRotation","sizes","rotatedSize","calculateT","xCoordinateSizes","yCoordinateSizes","adjustLabelCoordinate","spaceAround","calculateTAdjust","lineSize","lineW","lineH","coordinate","halfSize","arrowStartOpts","arrowEndOpts","getLineAdjust","arrowOpts","arrowOffsetX","drawArrowHeadOnCurve","ps","pe","EllipseAnnotation","pointInEllipse","ellipse","xRadius","yRadius","cosAngle","sinAngle","PointAnnotation","PolygonAnnotation","pointIsInPolygon","axisPoints","sides","elProps","buildPointElement","isInside","A","B","annotationTypes","directUpdater","hooks$1","optDefs","resolveObj","resolveType","updateElements","resolveAnimations","resyncElements","annotationOptions","getOrCreateElement","getContext","toSkip","updateSubElements","resolveAnnotationOptions","animOpts","mainElement","subElements","subElement","initProperties","elementClass","defs","chartStates","isNotDoughnutLabel","caller","drawableElements","getDrawableElements","drawElement","annotationPlugin","ChartController","measurements","referenceRange","minRange","maxRange"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10],"sources":["../../../node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js","../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable.js","../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/snakeize.js","../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_stream_source_element.js","../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/fetch_requests.js","../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/index.js","../../../node_modules/@hotwired/stimulus/dist/stimulus.js","../../../node_modules/@kurkle/color/dist/color.esm.js","../../../node_modules/chart.js/dist/chunks/helpers.dataset.js","../../../node_modules/chart.js/dist/chart.js","../../../node_modules/chartjs-plugin-annotation/dist/chartjs-plugin-annotation.esm.js","../../../app/javascript/controllers/chart_controller.js","../../../app/javascript/controllers/index.js"],"sourcesContent":["/*!\nTurbo 8.0.13\nCopyright  2025 37signals LLC\n */\n/**\n * The MIT License (MIT)\n *\n * Copyright (c) 2019 Javan Makhmali\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n(function (prototype) {\n  if (typeof prototype.requestSubmit == \"function\") return\n\n  prototype.requestSubmit = function (submitter) {\n    if (submitter) {\n      validateSubmitter(submitter, this);\n      submitter.click();\n    } else {\n      submitter = document.createElement(\"input\");\n      submitter.type = \"submit\";\n      submitter.hidden = true;\n      this.appendChild(submitter);\n      submitter.click();\n      this.removeChild(submitter);\n    }\n  };\n\n  function validateSubmitter(submitter, form) {\n    submitter instanceof HTMLElement || raise(TypeError, \"parameter 1 is not of type 'HTMLElement'\");\n    submitter.type == \"submit\" || raise(TypeError, \"The specified element is not a submit button\");\n    submitter.form == form ||\n      raise(DOMException, \"The specified element is not owned by this form element\", \"NotFoundError\");\n  }\n\n  function raise(errorConstructor, message, name) {\n    throw new errorConstructor(\"Failed to execute 'requestSubmit' on 'HTMLFormElement': \" + message + \".\", name)\n  }\n})(HTMLFormElement.prototype);\n\nconst submittersByForm = new WeakMap();\n\nfunction findSubmitterFromClickTarget(target) {\n  const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n  const candidate = element ? element.closest(\"input, button\") : null;\n  return candidate?.type == \"submit\" ? candidate : null\n}\n\nfunction clickCaptured(event) {\n  const submitter = findSubmitterFromClickTarget(event.target);\n\n  if (submitter && submitter.form) {\n    submittersByForm.set(submitter.form, submitter);\n  }\n}\n\n(function () {\n  if (\"submitter\" in Event.prototype) return\n\n  let prototype = window.Event.prototype;\n  // Certain versions of Safari 15 have a bug where they won't\n  // populate the submitter. This hurts TurboDrive's enable/disable detection.\n  // See https://bugs.webkit.org/show_bug.cgi?id=229660\n  if (\"SubmitEvent\" in window) {\n    const prototypeOfSubmitEvent = window.SubmitEvent.prototype;\n\n    if (/Apple Computer/.test(navigator.vendor) && !(\"submitter\" in prototypeOfSubmitEvent)) {\n      prototype = prototypeOfSubmitEvent;\n    } else {\n      return // polyfill not needed\n    }\n  }\n\n  addEventListener(\"click\", clickCaptured, true);\n\n  Object.defineProperty(prototype, \"submitter\", {\n    get() {\n      if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n        return submittersByForm.get(this.target)\n      }\n    }\n  });\n})();\n\nconst FrameLoadingStyle = {\n  eager: \"eager\",\n  lazy: \"lazy\"\n};\n\n/**\n * Contains a fragment of HTML which is updated based on navigation within\n * it (e.g. via links or form submissions).\n *\n * @customElement turbo-frame\n * @example\n *   <turbo-frame id=\"messages\">\n *     <a href=\"/messages/expanded\">\n *       Show all expanded messages in this frame.\n *     </a>\n *\n *     <form action=\"/messages\">\n *       Show response from this form within this frame.\n *     </form>\n *   </turbo-frame>\n */\nclass FrameElement extends HTMLElement {\n  static delegateConstructor = undefined\n\n  loaded = Promise.resolve()\n\n  static get observedAttributes() {\n    return [\"disabled\", \"loading\", \"src\"]\n  }\n\n  constructor() {\n    super();\n    this.delegate = new FrameElement.delegateConstructor(this);\n  }\n\n  connectedCallback() {\n    this.delegate.connect();\n  }\n\n  disconnectedCallback() {\n    this.delegate.disconnect();\n  }\n\n  reload() {\n    return this.delegate.sourceURLReloaded()\n  }\n\n  attributeChangedCallback(name) {\n    if (name == \"loading\") {\n      this.delegate.loadingStyleChanged();\n    } else if (name == \"src\") {\n      this.delegate.sourceURLChanged();\n    } else if (name == \"disabled\") {\n      this.delegate.disabledChanged();\n    }\n  }\n\n  /**\n   * Gets the URL to lazily load source HTML from\n   */\n  get src() {\n    return this.getAttribute(\"src\")\n  }\n\n  /**\n   * Sets the URL to lazily load source HTML from\n   */\n  set src(value) {\n    if (value) {\n      this.setAttribute(\"src\", value);\n    } else {\n      this.removeAttribute(\"src\");\n    }\n  }\n\n  /**\n   * Gets the refresh mode for the frame.\n   */\n  get refresh() {\n    return this.getAttribute(\"refresh\")\n  }\n\n  /**\n   * Sets the refresh mode for the frame.\n   */\n  set refresh(value) {\n    if (value) {\n      this.setAttribute(\"refresh\", value);\n    } else {\n      this.removeAttribute(\"refresh\");\n    }\n  }\n\n  get shouldReloadWithMorph() {\n    return this.src && this.refresh === \"morph\"\n  }\n\n  /**\n   * Determines if the element is loading\n   */\n  get loading() {\n    return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\")\n  }\n\n  /**\n   * Sets the value of if the element is loading\n   */\n  set loading(value) {\n    if (value) {\n      this.setAttribute(\"loading\", value);\n    } else {\n      this.removeAttribute(\"loading\");\n    }\n  }\n\n  /**\n   * Gets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  get disabled() {\n    return this.hasAttribute(\"disabled\")\n  }\n\n  /**\n   * Sets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  set disabled(value) {\n    if (value) {\n      this.setAttribute(\"disabled\", \"\");\n    } else {\n      this.removeAttribute(\"disabled\");\n    }\n  }\n\n  /**\n   * Gets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  get autoscroll() {\n    return this.hasAttribute(\"autoscroll\")\n  }\n\n  /**\n   * Sets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  set autoscroll(value) {\n    if (value) {\n      this.setAttribute(\"autoscroll\", \"\");\n    } else {\n      this.removeAttribute(\"autoscroll\");\n    }\n  }\n\n  /**\n   * Determines if the element has finished loading\n   */\n  get complete() {\n    return !this.delegate.isLoading\n  }\n\n  /**\n   * Gets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isActive() {\n    return this.ownerDocument === document && !this.isPreview\n  }\n\n  /**\n   * Sets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isPreview() {\n    return this.ownerDocument?.documentElement?.hasAttribute(\"data-turbo-preview\")\n  }\n}\n\nfunction frameLoadingStyleFromString(style) {\n  switch (style.toLowerCase()) {\n    case \"lazy\":\n      return FrameLoadingStyle.lazy\n    default:\n      return FrameLoadingStyle.eager\n  }\n}\n\nconst drive = {\n  enabled: true,\n  progressBarDelay: 500,\n  unvisitableExtensions: new Set(\n    [\n      \".7z\", \".aac\", \".apk\", \".avi\", \".bmp\", \".bz2\", \".css\", \".csv\", \".deb\", \".dmg\", \".doc\",\n      \".docx\", \".exe\", \".gif\", \".gz\", \".heic\", \".heif\", \".ico\", \".iso\", \".jpeg\", \".jpg\",\n      \".js\", \".json\", \".m4a\", \".mkv\", \".mov\", \".mp3\", \".mp4\", \".mpeg\", \".mpg\", \".msi\",\n      \".ogg\", \".ogv\", \".pdf\", \".pkg\", \".png\", \".ppt\", \".pptx\", \".rar\", \".rtf\",\n      \".svg\", \".tar\", \".tif\", \".tiff\", \".txt\", \".wav\", \".webm\", \".webp\", \".wma\", \".wmv\",\n      \".xls\", \".xlsx\", \".xml\", \".zip\"\n    ]\n  )\n};\n\nfunction activateScriptElement(element) {\n  if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n    return element\n  } else {\n    const createdScriptElement = document.createElement(\"script\");\n    const cspNonce = getCspNonce();\n    if (cspNonce) {\n      createdScriptElement.nonce = cspNonce;\n    }\n    createdScriptElement.textContent = element.textContent;\n    createdScriptElement.async = false;\n    copyElementAttributes(createdScriptElement, element);\n    return createdScriptElement\n  }\n}\n\nfunction copyElementAttributes(destinationElement, sourceElement) {\n  for (const { name, value } of sourceElement.attributes) {\n    destinationElement.setAttribute(name, value);\n  }\n}\n\nfunction createDocumentFragment(html) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = html;\n  return template.content\n}\n\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n  const event = new CustomEvent(eventName, {\n    cancelable,\n    bubbles: true,\n    composed: true,\n    detail\n  });\n\n  if (target && target.isConnected) {\n    target.dispatchEvent(event);\n  } else {\n    document.documentElement.dispatchEvent(event);\n  }\n\n  return event\n}\n\nfunction cancelEvent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n\nfunction nextRepaint() {\n  if (document.visibilityState === \"hidden\") {\n    return nextEventLoopTick()\n  } else {\n    return nextAnimationFrame()\n  }\n}\n\nfunction nextAnimationFrame() {\n  return new Promise((resolve) => requestAnimationFrame(() => resolve()))\n}\n\nfunction nextEventLoopTick() {\n  return new Promise((resolve) => setTimeout(() => resolve(), 0))\n}\n\nfunction nextMicrotask() {\n  return Promise.resolve()\n}\n\nfunction parseHTMLDocument(html = \"\") {\n  return new DOMParser().parseFromString(html, \"text/html\")\n}\n\nfunction unindent(strings, ...values) {\n  const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n  const match = lines[0].match(/^\\s+/);\n  const indent = match ? match[0].length : 0;\n  return lines.map((line) => line.slice(indent)).join(\"\\n\")\n}\n\nfunction interpolate(strings, values) {\n  return strings.reduce((result, string, i) => {\n    const value = values[i] == undefined ? \"\" : values[i];\n    return result + string + value\n  }, \"\")\n}\n\nfunction uuid() {\n  return Array.from({ length: 36 })\n    .map((_, i) => {\n      if (i == 8 || i == 13 || i == 18 || i == 23) {\n        return \"-\"\n      } else if (i == 14) {\n        return \"4\"\n      } else if (i == 19) {\n        return (Math.floor(Math.random() * 4) + 8).toString(16)\n      } else {\n        return Math.floor(Math.random() * 15).toString(16)\n      }\n    })\n    .join(\"\")\n}\n\nfunction getAttribute(attributeName, ...elements) {\n  for (const value of elements.map((element) => element?.getAttribute(attributeName))) {\n    if (typeof value == \"string\") return value\n  }\n\n  return null\n}\n\nfunction hasAttribute(attributeName, ...elements) {\n  return elements.some((element) => element && element.hasAttribute(attributeName))\n}\n\nfunction markAsBusy(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.setAttribute(\"busy\", \"\");\n    }\n    element.setAttribute(\"aria-busy\", \"true\");\n  }\n}\n\nfunction clearBusyState(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.removeAttribute(\"busy\");\n    }\n\n    element.removeAttribute(\"aria-busy\");\n  }\n}\n\nfunction waitForLoad(element, timeoutInMilliseconds = 2000) {\n  return new Promise((resolve) => {\n    const onComplete = () => {\n      element.removeEventListener(\"error\", onComplete);\n      element.removeEventListener(\"load\", onComplete);\n      resolve();\n    };\n\n    element.addEventListener(\"load\", onComplete, { once: true });\n    element.addEventListener(\"error\", onComplete, { once: true });\n    setTimeout(resolve, timeoutInMilliseconds);\n  })\n}\n\nfunction getHistoryMethodForAction(action) {\n  switch (action) {\n    case \"replace\":\n      return history.replaceState\n    case \"advance\":\n    case \"restore\":\n      return history.pushState\n  }\n}\n\nfunction isAction(action) {\n  return action == \"advance\" || action == \"replace\" || action == \"restore\"\n}\n\nfunction getVisitAction(...elements) {\n  const action = getAttribute(\"data-turbo-action\", ...elements);\n\n  return isAction(action) ? action : null\n}\n\nfunction getMetaElement(name) {\n  return document.querySelector(`meta[name=\"${name}\"]`)\n}\n\nfunction getMetaContent(name) {\n  const element = getMetaElement(name);\n  return element && element.content\n}\n\nfunction getCspNonce() {\n  const element = getMetaElement(\"csp-nonce\");\n\n  if (element) {\n    const { nonce, content } = element;\n    return nonce == \"\" ? content : nonce\n  }\n}\n\nfunction setMetaContent(name, content) {\n  let element = getMetaElement(name);\n\n  if (!element) {\n    element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", name);\n\n    document.head.appendChild(element);\n  }\n\n  element.setAttribute(\"content\", content);\n\n  return element\n}\n\nfunction findClosestRecursively(element, selector) {\n  if (element instanceof Element) {\n    return (\n      element.closest(selector) || findClosestRecursively(element.assignedSlot || element.getRootNode()?.host, selector)\n    )\n  }\n}\n\nfunction elementIsFocusable(element) {\n  const inertDisabledOrHidden = \"[inert], :disabled, [hidden], details:not([open]), dialog:not([open])\";\n\n  return !!element && element.closest(inertDisabledOrHidden) == null && typeof element.focus == \"function\"\n}\n\nfunction queryAutofocusableElement(elementOrDocumentFragment) {\n  return Array.from(elementOrDocumentFragment.querySelectorAll(\"[autofocus]\")).find(elementIsFocusable)\n}\n\nasync function around(callback, reader) {\n  const before = reader();\n\n  callback();\n\n  await nextAnimationFrame();\n\n  const after = reader();\n\n  return [before, after]\n}\n\nfunction doesNotTargetIFrame(name) {\n  if (name === \"_blank\") {\n    return false\n  } else if (name) {\n    for (const element of document.getElementsByName(name)) {\n      if (element instanceof HTMLIFrameElement) return false\n    }\n\n    return true\n  } else {\n    return true\n  }\n}\n\nfunction findLinkFromClickTarget(target) {\n  return findClosestRecursively(target, \"a[href]:not([target^=_]):not([download])\")\n}\n\nfunction getLocationForLink(link) {\n  return expandURL(link.getAttribute(\"href\") || \"\")\n}\n\nfunction debounce(fn, delay) {\n  let timeoutId = null;\n\n  return (...args) => {\n    const callback = () => fn.apply(this, args);\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(callback, delay);\n  }\n}\n\nconst submitter = {\n  \"aria-disabled\": {\n    beforeSubmit: submitter => {\n      submitter.setAttribute(\"aria-disabled\", \"true\");\n      submitter.addEventListener(\"click\", cancelEvent);\n    },\n\n    afterSubmit: submitter => {\n      submitter.removeAttribute(\"aria-disabled\");\n      submitter.removeEventListener(\"click\", cancelEvent);\n    }\n  },\n\n  \"disabled\": {\n    beforeSubmit: submitter => submitter.disabled = true,\n    afterSubmit: submitter => submitter.disabled = false\n  }\n};\n\nclass Config {\n  #submitter = null\n\n  constructor(config) {\n    Object.assign(this, config);\n  }\n\n  get submitter() {\n    return this.#submitter\n  }\n\n  set submitter(value) {\n    this.#submitter = submitter[value] || value;\n  }\n}\n\nconst forms = new Config({\n  mode: \"on\",\n  submitter: \"disabled\"\n});\n\nconst config = {\n  drive,\n  forms\n};\n\nfunction expandURL(locatable) {\n  return new URL(locatable.toString(), document.baseURI)\n}\n\nfunction getAnchor(url) {\n  let anchorMatch;\n  if (url.hash) {\n    return url.hash.slice(1)\n    // eslint-disable-next-line no-cond-assign\n  } else if ((anchorMatch = url.href.match(/#(.*)$/))) {\n    return anchorMatch[1]\n  }\n}\n\nfunction getAction$1(form, submitter) {\n  const action = submitter?.getAttribute(\"formaction\") || form.getAttribute(\"action\") || form.action;\n\n  return expandURL(action)\n}\n\nfunction getExtension(url) {\n  return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\"\n}\n\nfunction isPrefixedBy(baseURL, url) {\n  const prefix = getPrefix(url);\n  return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix)\n}\n\nfunction locationIsVisitable(location, rootLocation) {\n  return isPrefixedBy(location, rootLocation) && !config.drive.unvisitableExtensions.has(getExtension(location))\n}\n\nfunction getRequestURL(url) {\n  const anchor = getAnchor(url);\n  return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href\n}\n\nfunction toCacheKey(url) {\n  return getRequestURL(url)\n}\n\nfunction urlsAreEqual(left, right) {\n  return expandURL(left).href == expandURL(right).href\n}\n\nfunction getPathComponents(url) {\n  return url.pathname.split(\"/\").slice(1)\n}\n\nfunction getLastPathComponent(url) {\n  return getPathComponents(url).slice(-1)[0]\n}\n\nfunction getPrefix(url) {\n  return addTrailingSlash(url.origin + url.pathname)\n}\n\nfunction addTrailingSlash(value) {\n  return value.endsWith(\"/\") ? value : value + \"/\"\n}\n\nclass FetchResponse {\n  constructor(response) {\n    this.response = response;\n  }\n\n  get succeeded() {\n    return this.response.ok\n  }\n\n  get failed() {\n    return !this.succeeded\n  }\n\n  get clientError() {\n    return this.statusCode >= 400 && this.statusCode <= 499\n  }\n\n  get serverError() {\n    return this.statusCode >= 500 && this.statusCode <= 599\n  }\n\n  get redirected() {\n    return this.response.redirected\n  }\n\n  get location() {\n    return expandURL(this.response.url)\n  }\n\n  get isHTML() {\n    return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/)\n  }\n\n  get statusCode() {\n    return this.response.status\n  }\n\n  get contentType() {\n    return this.header(\"Content-Type\")\n  }\n\n  get responseText() {\n    return this.response.clone().text()\n  }\n\n  get responseHTML() {\n    if (this.isHTML) {\n      return this.response.clone().text()\n    } else {\n      return Promise.resolve(undefined)\n    }\n  }\n\n  header(name) {\n    return this.response.headers.get(name)\n  }\n}\n\nclass LimitedSet extends Set {\n  constructor(maxSize) {\n    super();\n    this.maxSize = maxSize;\n  }\n\n  add(value) {\n    if (this.size >= this.maxSize) {\n      const iterator = this.values();\n      const oldestValue = iterator.next().value;\n      this.delete(oldestValue);\n    }\n    super.add(value);\n  }\n}\n\nconst recentRequests = new LimitedSet(20);\n\nconst nativeFetch = window.fetch;\n\nfunction fetchWithTurboHeaders(url, options = {}) {\n  const modifiedHeaders = new Headers(options.headers || {});\n  const requestUID = uuid();\n  recentRequests.add(requestUID);\n  modifiedHeaders.append(\"X-Turbo-Request-Id\", requestUID);\n\n  return nativeFetch(url, {\n    ...options,\n    headers: modifiedHeaders\n  })\n}\n\nfunction fetchMethodFromString(method) {\n  switch (method.toLowerCase()) {\n    case \"get\":\n      return FetchMethod.get\n    case \"post\":\n      return FetchMethod.post\n    case \"put\":\n      return FetchMethod.put\n    case \"patch\":\n      return FetchMethod.patch\n    case \"delete\":\n      return FetchMethod.delete\n  }\n}\n\nconst FetchMethod = {\n  get: \"get\",\n  post: \"post\",\n  put: \"put\",\n  patch: \"patch\",\n  delete: \"delete\"\n};\n\nfunction fetchEnctypeFromString(encoding) {\n  switch (encoding.toLowerCase()) {\n    case FetchEnctype.multipart:\n      return FetchEnctype.multipart\n    case FetchEnctype.plain:\n      return FetchEnctype.plain\n    default:\n      return FetchEnctype.urlEncoded\n  }\n}\n\nconst FetchEnctype = {\n  urlEncoded: \"application/x-www-form-urlencoded\",\n  multipart: \"multipart/form-data\",\n  plain: \"text/plain\"\n};\n\nclass FetchRequest {\n  abortController = new AbortController()\n  #resolveRequestPromise = (_value) => {}\n\n  constructor(delegate, method, location, requestBody = new URLSearchParams(), target = null, enctype = FetchEnctype.urlEncoded) {\n    const [url, body] = buildResourceAndBody(expandURL(location), method, requestBody, enctype);\n\n    this.delegate = delegate;\n    this.url = url;\n    this.target = target;\n    this.fetchOptions = {\n      credentials: \"same-origin\",\n      redirect: \"follow\",\n      method: method.toUpperCase(),\n      headers: { ...this.defaultHeaders },\n      body: body,\n      signal: this.abortSignal,\n      referrer: this.delegate.referrer?.href\n    };\n    this.enctype = enctype;\n  }\n\n  get method() {\n    return this.fetchOptions.method\n  }\n\n  set method(value) {\n    const fetchBody = this.isSafe ? this.url.searchParams : this.fetchOptions.body || new FormData();\n    const fetchMethod = fetchMethodFromString(value) || FetchMethod.get;\n\n    this.url.search = \"\";\n\n    const [url, body] = buildResourceAndBody(this.url, fetchMethod, fetchBody, this.enctype);\n\n    this.url = url;\n    this.fetchOptions.body = body;\n    this.fetchOptions.method = fetchMethod.toUpperCase();\n  }\n\n  get headers() {\n    return this.fetchOptions.headers\n  }\n\n  set headers(value) {\n    this.fetchOptions.headers = value;\n  }\n\n  get body() {\n    if (this.isSafe) {\n      return this.url.searchParams\n    } else {\n      return this.fetchOptions.body\n    }\n  }\n\n  set body(value) {\n    this.fetchOptions.body = value;\n  }\n\n  get location() {\n    return this.url\n  }\n\n  get params() {\n    return this.url.searchParams\n  }\n\n  get entries() {\n    return this.body ? Array.from(this.body.entries()) : []\n  }\n\n  cancel() {\n    this.abortController.abort();\n  }\n\n  async perform() {\n    const { fetchOptions } = this;\n    this.delegate.prepareRequest(this);\n    const event = await this.#allowRequestToBeIntercepted(fetchOptions);\n    try {\n      this.delegate.requestStarted(this);\n\n      if (event.detail.fetchRequest) {\n        this.response = event.detail.fetchRequest.response;\n      } else {\n        this.response = fetchWithTurboHeaders(this.url.href, fetchOptions);\n      }\n\n      const response = await this.response;\n      return await this.receive(response)\n    } catch (error) {\n      if (error.name !== \"AbortError\") {\n        if (this.#willDelegateErrorHandling(error)) {\n          this.delegate.requestErrored(this, error);\n        }\n        throw error\n      }\n    } finally {\n      this.delegate.requestFinished(this);\n    }\n  }\n\n  async receive(response) {\n    const fetchResponse = new FetchResponse(response);\n    const event = dispatch(\"turbo:before-fetch-response\", {\n      cancelable: true,\n      detail: { fetchResponse },\n      target: this.target\n    });\n    if (event.defaultPrevented) {\n      this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n    } else if (fetchResponse.succeeded) {\n      this.delegate.requestSucceededWithResponse(this, fetchResponse);\n    } else {\n      this.delegate.requestFailedWithResponse(this, fetchResponse);\n    }\n    return fetchResponse\n  }\n\n  get defaultHeaders() {\n    return {\n      Accept: \"text/html, application/xhtml+xml\"\n    }\n  }\n\n  get isSafe() {\n    return isSafe(this.method)\n  }\n\n  get abortSignal() {\n    return this.abortController.signal\n  }\n\n  acceptResponseType(mimeType) {\n    this.headers[\"Accept\"] = [mimeType, this.headers[\"Accept\"]].join(\", \");\n  }\n\n  async #allowRequestToBeIntercepted(fetchOptions) {\n    const requestInterception = new Promise((resolve) => (this.#resolveRequestPromise = resolve));\n    const event = dispatch(\"turbo:before-fetch-request\", {\n      cancelable: true,\n      detail: {\n        fetchOptions,\n        url: this.url,\n        resume: this.#resolveRequestPromise\n      },\n      target: this.target\n    });\n    this.url = event.detail.url;\n    if (event.defaultPrevented) await requestInterception;\n\n    return event\n  }\n\n  #willDelegateErrorHandling(error) {\n    const event = dispatch(\"turbo:fetch-request-error\", {\n      target: this.target,\n      cancelable: true,\n      detail: { request: this, error: error }\n    });\n\n    return !event.defaultPrevented\n  }\n}\n\nfunction isSafe(fetchMethod) {\n  return fetchMethodFromString(fetchMethod) == FetchMethod.get\n}\n\nfunction buildResourceAndBody(resource, method, requestBody, enctype) {\n  const searchParams =\n    Array.from(requestBody).length > 0 ? new URLSearchParams(entriesExcludingFiles(requestBody)) : resource.searchParams;\n\n  if (isSafe(method)) {\n    return [mergeIntoURLSearchParams(resource, searchParams), null]\n  } else if (enctype == FetchEnctype.urlEncoded) {\n    return [resource, searchParams]\n  } else {\n    return [resource, requestBody]\n  }\n}\n\nfunction entriesExcludingFiles(requestBody) {\n  const entries = [];\n\n  for (const [name, value] of requestBody) {\n    if (value instanceof File) continue\n    else entries.push([name, value]);\n  }\n\n  return entries\n}\n\nfunction mergeIntoURLSearchParams(url, requestBody) {\n  const searchParams = new URLSearchParams(entriesExcludingFiles(requestBody));\n\n  url.search = searchParams.toString();\n\n  return url\n}\n\nclass AppearanceObserver {\n  started = false\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n    this.intersectionObserver = new IntersectionObserver(this.intersect);\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      this.intersectionObserver.observe(this.element);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      this.intersectionObserver.unobserve(this.element);\n    }\n  }\n\n  intersect = (entries) => {\n    const lastEntry = entries.slice(-1)[0];\n    if (lastEntry?.isIntersecting) {\n      this.delegate.elementAppearedInViewport(this.element);\n    }\n  }\n}\n\nclass StreamMessage {\n  static contentType = \"text/vnd.turbo-stream.html\"\n\n  static wrap(message) {\n    if (typeof message == \"string\") {\n      return new this(createDocumentFragment(message))\n    } else {\n      return message\n    }\n  }\n\n  constructor(fragment) {\n    this.fragment = importStreamElements(fragment);\n  }\n}\n\nfunction importStreamElements(fragment) {\n  for (const element of fragment.querySelectorAll(\"turbo-stream\")) {\n    const streamElement = document.importNode(element, true);\n\n    for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll(\"script\")) {\n      inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));\n    }\n\n    element.replaceWith(streamElement);\n  }\n\n  return fragment\n}\n\nconst PREFETCH_DELAY = 100;\n\nclass PrefetchCache {\n  #prefetchTimeout = null\n  #prefetched = null\n\n  get(url) {\n    if (this.#prefetched && this.#prefetched.url === url && this.#prefetched.expire > Date.now()) {\n      return this.#prefetched.request\n    }\n  }\n\n  setLater(url, request, ttl) {\n    this.clear();\n\n    this.#prefetchTimeout = setTimeout(() => {\n      request.perform();\n      this.set(url, request, ttl);\n      this.#prefetchTimeout = null;\n    }, PREFETCH_DELAY);\n  }\n\n  set(url, request, ttl) {\n    this.#prefetched = { url, request, expire: new Date(new Date().getTime() + ttl) };\n  }\n\n  clear() {\n    if (this.#prefetchTimeout) clearTimeout(this.#prefetchTimeout);\n    this.#prefetched = null;\n  }\n}\n\nconst cacheTtl = 10 * 1000;\nconst prefetchCache = new PrefetchCache();\n\nconst FormSubmissionState = {\n  initialized: \"initialized\",\n  requesting: \"requesting\",\n  waiting: \"waiting\",\n  receiving: \"receiving\",\n  stopping: \"stopping\",\n  stopped: \"stopped\"\n};\n\nclass FormSubmission {\n  state = FormSubmissionState.initialized\n\n  static confirmMethod(message) {\n    return Promise.resolve(confirm(message))\n  }\n\n  constructor(delegate, formElement, submitter, mustRedirect = false) {\n    const method = getMethod(formElement, submitter);\n    const action = getAction(getFormAction(formElement, submitter), method);\n    const body = buildFormData(formElement, submitter);\n    const enctype = getEnctype(formElement, submitter);\n\n    this.delegate = delegate;\n    this.formElement = formElement;\n    this.submitter = submitter;\n    this.fetchRequest = new FetchRequest(this, method, action, body, formElement, enctype);\n    this.mustRedirect = mustRedirect;\n  }\n\n  get method() {\n    return this.fetchRequest.method\n  }\n\n  set method(value) {\n    this.fetchRequest.method = value;\n  }\n\n  get action() {\n    return this.fetchRequest.url.toString()\n  }\n\n  set action(value) {\n    this.fetchRequest.url = expandURL(value);\n  }\n\n  get body() {\n    return this.fetchRequest.body\n  }\n\n  get enctype() {\n    return this.fetchRequest.enctype\n  }\n\n  get isSafe() {\n    return this.fetchRequest.isSafe\n  }\n\n  get location() {\n    return this.fetchRequest.url\n  }\n\n  // The submission process\n\n  async start() {\n    const { initialized, requesting } = FormSubmissionState;\n    const confirmationMessage = getAttribute(\"data-turbo-confirm\", this.submitter, this.formElement);\n\n    if (typeof confirmationMessage === \"string\") {\n      const confirmMethod = typeof config.forms.confirm === \"function\" ?\n        config.forms.confirm :\n        FormSubmission.confirmMethod;\n\n      const answer = await confirmMethod(confirmationMessage, this.formElement, this.submitter);\n      if (!answer) {\n        return\n      }\n    }\n\n    if (this.state == initialized) {\n      this.state = requesting;\n      return this.fetchRequest.perform()\n    }\n  }\n\n  stop() {\n    const { stopping, stopped } = FormSubmissionState;\n    if (this.state != stopping && this.state != stopped) {\n      this.state = stopping;\n      this.fetchRequest.cancel();\n      return true\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (!request.isSafe) {\n      const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n      if (token) {\n        request.headers[\"X-CSRF-Token\"] = token;\n      }\n    }\n\n    if (this.requestAcceptsTurboStreamResponse(request)) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    this.state = FormSubmissionState.waiting;\n    if (this.submitter) config.forms.submitter.beforeSubmit(this.submitter);\n    this.setSubmitsWith();\n    markAsBusy(this.formElement);\n    dispatch(\"turbo:submit-start\", {\n      target: this.formElement,\n      detail: { formSubmission: this }\n    });\n    this.delegate.formSubmissionStarted(this);\n  }\n\n  requestPreventedHandlingResponse(request, response) {\n    prefetchCache.clear();\n\n    this.result = { success: response.succeeded, fetchResponse: response };\n  }\n\n  requestSucceededWithResponse(request, response) {\n    if (response.clientError || response.serverError) {\n      this.delegate.formSubmissionFailedWithResponse(this, response);\n      return\n    }\n\n    prefetchCache.clear();\n\n    if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n      const error = new Error(\"Form responses must redirect to another location\");\n      this.delegate.formSubmissionErrored(this, error);\n    } else {\n      this.state = FormSubmissionState.receiving;\n      this.result = { success: true, fetchResponse: response };\n      this.delegate.formSubmissionSucceededWithResponse(this, response);\n    }\n  }\n\n  requestFailedWithResponse(request, response) {\n    this.result = { success: false, fetchResponse: response };\n    this.delegate.formSubmissionFailedWithResponse(this, response);\n  }\n\n  requestErrored(request, error) {\n    this.result = { success: false, error };\n    this.delegate.formSubmissionErrored(this, error);\n  }\n\n  requestFinished(_request) {\n    this.state = FormSubmissionState.stopped;\n    if (this.submitter) config.forms.submitter.afterSubmit(this.submitter);\n    this.resetSubmitterText();\n    clearBusyState(this.formElement);\n    dispatch(\"turbo:submit-end\", {\n      target: this.formElement,\n      detail: { formSubmission: this, ...this.result }\n    });\n    this.delegate.formSubmissionFinished(this);\n  }\n\n  // Private\n\n  setSubmitsWith() {\n    if (!this.submitter || !this.submitsWith) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.originalSubmitText = this.submitter.innerHTML;\n      this.submitter.innerHTML = this.submitsWith;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      this.originalSubmitText = input.value;\n      input.value = this.submitsWith;\n    }\n  }\n\n  resetSubmitterText() {\n    if (!this.submitter || !this.originalSubmitText) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.submitter.innerHTML = this.originalSubmitText;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      input.value = this.originalSubmitText;\n    }\n  }\n\n  requestMustRedirect(request) {\n    return !request.isSafe && this.mustRedirect\n  }\n\n  requestAcceptsTurboStreamResponse(request) {\n    return !request.isSafe || hasAttribute(\"data-turbo-stream\", this.submitter, this.formElement)\n  }\n\n  get submitsWith() {\n    return this.submitter?.getAttribute(\"data-turbo-submits-with\")\n  }\n}\n\nfunction buildFormData(formElement, submitter) {\n  const formData = new FormData(formElement);\n  const name = submitter?.getAttribute(\"name\");\n  const value = submitter?.getAttribute(\"value\");\n\n  if (name) {\n    formData.append(name, value || \"\");\n  }\n\n  return formData\n}\n\nfunction getCookieValue(cookieName) {\n  if (cookieName != null) {\n    const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n    const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n    if (cookie) {\n      const value = cookie.split(\"=\").slice(1).join(\"=\");\n      return value ? decodeURIComponent(value) : undefined\n    }\n  }\n}\n\nfunction responseSucceededWithoutRedirect(response) {\n  return response.statusCode == 200 && !response.redirected\n}\n\nfunction getFormAction(formElement, submitter) {\n  const formElementAction = typeof formElement.action === \"string\" ? formElement.action : null;\n\n  if (submitter?.hasAttribute(\"formaction\")) {\n    return submitter.getAttribute(\"formaction\") || \"\"\n  } else {\n    return formElement.getAttribute(\"action\") || formElementAction || \"\"\n  }\n}\n\nfunction getAction(formAction, fetchMethod) {\n  const action = expandURL(formAction);\n\n  if (isSafe(fetchMethod)) {\n    action.search = \"\";\n  }\n\n  return action\n}\n\nfunction getMethod(formElement, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || formElement.getAttribute(\"method\") || \"\";\n  return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get\n}\n\nfunction getEnctype(formElement, submitter) {\n  return fetchEnctypeFromString(submitter?.getAttribute(\"formenctype\") || formElement.enctype)\n}\n\nclass Snapshot {\n  constructor(element) {\n    this.element = element;\n  }\n\n  get activeElement() {\n    return this.element.ownerDocument.activeElement\n  }\n\n  get children() {\n    return [...this.element.children]\n  }\n\n  hasAnchor(anchor) {\n    return this.getElementForAnchor(anchor) != null\n  }\n\n  getElementForAnchor(anchor) {\n    return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null\n  }\n\n  get isConnected() {\n    return this.element.isConnected\n  }\n\n  get firstAutofocusableElement() {\n    return queryAutofocusableElement(this.element)\n  }\n\n  get permanentElements() {\n    return queryPermanentElementsAll(this.element)\n  }\n\n  getPermanentElementById(id) {\n    return getPermanentElementById(this.element, id)\n  }\n\n  getPermanentElementMapForSnapshot(snapshot) {\n    const permanentElementMap = {};\n\n    for (const currentPermanentElement of this.permanentElements) {\n      const { id } = currentPermanentElement;\n      const newPermanentElement = snapshot.getPermanentElementById(id);\n      if (newPermanentElement) {\n        permanentElementMap[id] = [currentPermanentElement, newPermanentElement];\n      }\n    }\n\n    return permanentElementMap\n  }\n}\n\nfunction getPermanentElementById(node, id) {\n  return node.querySelector(`#${id}[data-turbo-permanent]`)\n}\n\nfunction queryPermanentElementsAll(node) {\n  return node.querySelectorAll(\"[id][data-turbo-permanent]\")\n}\n\nclass FormSubmitObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"submit\", this.submitCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"submit\", this.submitCaptured, true);\n      this.started = false;\n    }\n  }\n\n  submitCaptured = () => {\n    this.eventTarget.removeEventListener(\"submit\", this.submitBubbled, false);\n    this.eventTarget.addEventListener(\"submit\", this.submitBubbled, false);\n  }\n\n  submitBubbled = (event) => {\n    if (!event.defaultPrevented) {\n      const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n      const submitter = event.submitter || undefined;\n\n      if (\n        form &&\n        submissionDoesNotDismissDialog(form, submitter) &&\n        submissionDoesNotTargetIFrame(form, submitter) &&\n        this.delegate.willSubmitForm(form, submitter)\n      ) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        this.delegate.formSubmitted(form, submitter);\n      }\n    }\n  }\n}\n\nfunction submissionDoesNotDismissDialog(form, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || form.getAttribute(\"method\");\n\n  return method != \"dialog\"\n}\n\nfunction submissionDoesNotTargetIFrame(form, submitter) {\n  const target = submitter?.getAttribute(\"formtarget\") || form.getAttribute(\"target\");\n\n  return doesNotTargetIFrame(target)\n}\n\nclass View {\n  #resolveRenderPromise = (_value) => {}\n  #resolveInterceptionPromise = (_value) => {}\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  // Scrolling\n\n  scrollToAnchor(anchor) {\n    const element = this.snapshot.getElementForAnchor(anchor);\n    if (element) {\n      this.scrollToElement(element);\n      this.focusElement(element);\n    } else {\n      this.scrollToPosition({ x: 0, y: 0 });\n    }\n  }\n\n  scrollToAnchorFromLocation(location) {\n    this.scrollToAnchor(getAnchor(location));\n  }\n\n  scrollToElement(element) {\n    element.scrollIntoView();\n  }\n\n  focusElement(element) {\n    if (element instanceof HTMLElement) {\n      if (element.hasAttribute(\"tabindex\")) {\n        element.focus();\n      } else {\n        element.setAttribute(\"tabindex\", \"-1\");\n        element.focus();\n        element.removeAttribute(\"tabindex\");\n      }\n    }\n  }\n\n  scrollToPosition({ x, y }) {\n    this.scrollRoot.scrollTo(x, y);\n  }\n\n  scrollToTop() {\n    this.scrollToPosition({ x: 0, y: 0 });\n  }\n\n  get scrollRoot() {\n    return window\n  }\n\n  // Rendering\n\n  async render(renderer) {\n    const { isPreview, shouldRender, willRender, newSnapshot: snapshot } = renderer;\n\n    // A workaround to ignore tracked element mismatch reloads when performing\n    // a promoted Visit from a frame navigation\n    const shouldInvalidate = willRender;\n\n    if (shouldRender) {\n      try {\n        this.renderPromise = new Promise((resolve) => (this.#resolveRenderPromise = resolve));\n        this.renderer = renderer;\n        await this.prepareToRenderSnapshot(renderer);\n\n        const renderInterception = new Promise((resolve) => (this.#resolveInterceptionPromise = resolve));\n        const options = { resume: this.#resolveInterceptionPromise, render: this.renderer.renderElement, renderMethod: this.renderer.renderMethod };\n        const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);\n        if (!immediateRender) await renderInterception;\n\n        await this.renderSnapshot(renderer);\n        this.delegate.viewRenderedSnapshot(snapshot, isPreview, this.renderer.renderMethod);\n        this.delegate.preloadOnLoadLinksForView(this.element);\n        this.finishRenderingSnapshot(renderer);\n      } finally {\n        delete this.renderer;\n        this.#resolveRenderPromise(undefined);\n        delete this.renderPromise;\n      }\n    } else if (shouldInvalidate) {\n      this.invalidate(renderer.reloadReason);\n    }\n  }\n\n  invalidate(reason) {\n    this.delegate.viewInvalidated(reason);\n  }\n\n  async prepareToRenderSnapshot(renderer) {\n    this.markAsPreview(renderer.isPreview);\n    await renderer.prepareToRender();\n  }\n\n  markAsPreview(isPreview) {\n    if (isPreview) {\n      this.element.setAttribute(\"data-turbo-preview\", \"\");\n    } else {\n      this.element.removeAttribute(\"data-turbo-preview\");\n    }\n  }\n\n  markVisitDirection(direction) {\n    this.element.setAttribute(\"data-turbo-visit-direction\", direction);\n  }\n\n  unmarkVisitDirection() {\n    this.element.removeAttribute(\"data-turbo-visit-direction\");\n  }\n\n  async renderSnapshot(renderer) {\n    await renderer.render();\n  }\n\n  finishRenderingSnapshot(renderer) {\n    renderer.finishRendering();\n  }\n}\n\nclass FrameView extends View {\n  missing() {\n    this.element.innerHTML = `<strong class=\"turbo-frame-error\">Content missing</strong>`;\n  }\n\n  get snapshot() {\n    return new Snapshot(this.element)\n  }\n}\n\nclass LinkInterceptor {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  start() {\n    this.element.addEventListener(\"click\", this.clickBubbled);\n    document.addEventListener(\"turbo:click\", this.linkClicked);\n    document.addEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  stop() {\n    this.element.removeEventListener(\"click\", this.clickBubbled);\n    document.removeEventListener(\"turbo:click\", this.linkClicked);\n    document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  clickBubbled = (event) => {\n    if (this.clickEventIsSignificant(event)) {\n      this.clickEvent = event;\n    } else {\n      delete this.clickEvent;\n    }\n  }\n\n  linkClicked = (event) => {\n    if (this.clickEvent && this.clickEventIsSignificant(event)) {\n      if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {\n        this.clickEvent.preventDefault();\n        event.preventDefault();\n        this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);\n      }\n    }\n    delete this.clickEvent;\n  }\n\n  willVisit = (_event) => {\n    delete this.clickEvent;\n  }\n\n  clickEventIsSignificant(event) {\n    const target = event.composed ? event.target?.parentElement : event.target;\n    const element = findLinkFromClickTarget(target) || target;\n\n    return element instanceof Element && element.closest(\"turbo-frame, html\") == this.element\n  }\n}\n\nclass LinkClickObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"click\", this.clickCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"click\", this.clickCaptured, true);\n      this.started = false;\n    }\n  }\n\n  clickCaptured = () => {\n    this.eventTarget.removeEventListener(\"click\", this.clickBubbled, false);\n    this.eventTarget.addEventListener(\"click\", this.clickBubbled, false);\n  }\n\n  clickBubbled = (event) => {\n    if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {\n      const target = (event.composedPath && event.composedPath()[0]) || event.target;\n      const link = findLinkFromClickTarget(target);\n      if (link && doesNotTargetIFrame(link.target)) {\n        const location = getLocationForLink(link);\n        if (this.delegate.willFollowLinkToLocation(link, location, event)) {\n          event.preventDefault();\n          this.delegate.followedLinkToLocation(link, location);\n        }\n      }\n    }\n  }\n\n  clickEventIsSignificant(event) {\n    return !(\n      (event.target && event.target.isContentEditable) ||\n      event.defaultPrevented ||\n      event.which > 1 ||\n      event.altKey ||\n      event.ctrlKey ||\n      event.metaKey ||\n      event.shiftKey\n    )\n  }\n}\n\nclass FormLinkClickObserver {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.linkInterceptor = new LinkClickObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n  }\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return false\n  }\n\n  prefetchAndCacheRequestToLocation(link, location) {\n    return\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, originalEvent) {\n    return (\n      this.delegate.willSubmitFormLinkToLocation(link, location, originalEvent) &&\n      (link.hasAttribute(\"data-turbo-method\") || link.hasAttribute(\"data-turbo-stream\"))\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const form = document.createElement(\"form\");\n\n    const type = \"hidden\";\n    for (const [name, value] of location.searchParams) {\n      form.append(Object.assign(document.createElement(\"input\"), { type, name, value }));\n    }\n\n    const action = Object.assign(location, { search: \"\" });\n    form.setAttribute(\"data-turbo\", \"true\");\n    form.setAttribute(\"action\", action.href);\n    form.setAttribute(\"hidden\", \"\");\n\n    const method = link.getAttribute(\"data-turbo-method\");\n    if (method) form.setAttribute(\"method\", method);\n\n    const turboFrame = link.getAttribute(\"data-turbo-frame\");\n    if (turboFrame) form.setAttribute(\"data-turbo-frame\", turboFrame);\n\n    const turboAction = getVisitAction(link);\n    if (turboAction) form.setAttribute(\"data-turbo-action\", turboAction);\n\n    const turboConfirm = link.getAttribute(\"data-turbo-confirm\");\n    if (turboConfirm) form.setAttribute(\"data-turbo-confirm\", turboConfirm);\n\n    const turboStream = link.hasAttribute(\"data-turbo-stream\");\n    if (turboStream) form.setAttribute(\"data-turbo-stream\", \"\");\n\n    this.delegate.submittedFormLinkToLocation(link, location, form);\n\n    document.body.appendChild(form);\n    form.addEventListener(\"turbo:submit-end\", () => form.remove(), { once: true });\n    requestAnimationFrame(() => form.requestSubmit());\n  }\n}\n\nclass Bardo {\n  static async preservingPermanentElements(delegate, permanentElementMap, callback) {\n    const bardo = new this(delegate, permanentElementMap);\n    bardo.enter();\n    await callback();\n    bardo.leave();\n  }\n\n  constructor(delegate, permanentElementMap) {\n    this.delegate = delegate;\n    this.permanentElementMap = permanentElementMap;\n  }\n\n  enter() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];\n      this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);\n      this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);\n    }\n  }\n\n  leave() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement] = this.permanentElementMap[id];\n      this.replaceCurrentPermanentElementWithClone(currentPermanentElement);\n      this.replacePlaceholderWithPermanentElement(currentPermanentElement);\n      this.delegate.leavingBardo(currentPermanentElement);\n    }\n  }\n\n  replaceNewPermanentElementWithPlaceholder(permanentElement) {\n    const placeholder = createPlaceholderForPermanentElement(permanentElement);\n    permanentElement.replaceWith(placeholder);\n  }\n\n  replaceCurrentPermanentElementWithClone(permanentElement) {\n    const clone = permanentElement.cloneNode(true);\n    permanentElement.replaceWith(clone);\n  }\n\n  replacePlaceholderWithPermanentElement(permanentElement) {\n    const placeholder = this.getPlaceholderById(permanentElement.id);\n    placeholder?.replaceWith(permanentElement);\n  }\n\n  getPlaceholderById(id) {\n    return this.placeholders.find((element) => element.content == id)\n  }\n\n  get placeholders() {\n    return [...document.querySelectorAll(\"meta[name=turbo-permanent-placeholder][content]\")]\n  }\n}\n\nfunction createPlaceholderForPermanentElement(permanentElement) {\n  const element = document.createElement(\"meta\");\n  element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n  element.setAttribute(\"content\", permanentElement.id);\n  return element\n}\n\nclass Renderer {\n  #activeElement = null\n\n  static renderElement(currentElement, newElement) {\n    // Abstract method\n  }\n\n  constructor(currentSnapshot, newSnapshot, isPreview, willRender = true) {\n    this.currentSnapshot = currentSnapshot;\n    this.newSnapshot = newSnapshot;\n    this.isPreview = isPreview;\n    this.willRender = willRender;\n    this.renderElement = this.constructor.renderElement;\n    this.promise = new Promise((resolve, reject) => (this.resolvingFunctions = { resolve, reject }));\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  get shouldAutofocus() {\n    return true\n  }\n\n  get reloadReason() {\n    return\n  }\n\n  prepareToRender() {\n    return\n  }\n\n  render() {\n    // Abstract method\n  }\n\n  finishRendering() {\n    if (this.resolvingFunctions) {\n      this.resolvingFunctions.resolve();\n      delete this.resolvingFunctions;\n    }\n  }\n\n  async preservingPermanentElements(callback) {\n    await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);\n  }\n\n  focusFirstAutofocusableElement() {\n    if (this.shouldAutofocus) {\n      const element = this.connectedSnapshot.firstAutofocusableElement;\n      if (element) {\n        element.focus();\n      }\n    }\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement) {\n    if (this.#activeElement) return\n\n    if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {\n      this.#activeElement = this.currentSnapshot.activeElement;\n    }\n  }\n\n  leavingBardo(currentPermanentElement) {\n    if (currentPermanentElement.contains(this.#activeElement) && this.#activeElement instanceof HTMLElement) {\n      this.#activeElement.focus();\n\n      this.#activeElement = null;\n    }\n  }\n\n  get connectedSnapshot() {\n    return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot\n  }\n\n  get currentElement() {\n    return this.currentSnapshot.element\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  get permanentElementMap() {\n    return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)\n  }\n\n  get renderMethod() {\n    return \"replace\"\n  }\n}\n\nclass FrameRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const destinationRange = document.createRange();\n    destinationRange.selectNodeContents(currentElement);\n    destinationRange.deleteContents();\n\n    const frameElement = newElement;\n    const sourceRange = frameElement.ownerDocument?.createRange();\n    if (sourceRange) {\n      sourceRange.selectNodeContents(frameElement);\n      currentElement.appendChild(sourceRange.extractContents());\n    }\n  }\n\n  constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n    super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);\n    this.delegate = delegate;\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  async render() {\n    await nextRepaint();\n    this.preservingPermanentElements(() => {\n      this.loadFrameElement();\n    });\n    this.scrollFrameIntoView();\n    await nextRepaint();\n    this.focusFirstAutofocusableElement();\n    await nextRepaint();\n    this.activateScriptElements();\n  }\n\n  loadFrameElement() {\n    this.delegate.willRenderFrame(this.currentElement, this.newElement);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  scrollFrameIntoView() {\n    if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n      const element = this.currentElement.firstElementChild;\n      const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n      const behavior = readScrollBehavior(this.currentElement.getAttribute(\"data-autoscroll-behavior\"), \"auto\");\n\n      if (element) {\n        element.scrollIntoView({ block, behavior });\n        return true\n      }\n    }\n    return false\n  }\n\n  activateScriptElements() {\n    for (const inertScriptElement of this.newScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  get newScriptElements() {\n    return this.currentElement.querySelectorAll(\"script\")\n  }\n}\n\nfunction readScrollLogicalPosition(value, defaultValue) {\n  if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\nfunction readScrollBehavior(value, defaultValue) {\n  if (value == \"auto\" || value == \"smooth\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\n/**\n * @typedef {object} ConfigHead\n *\n * @property {'merge' | 'append' | 'morph' | 'none'} [style]\n * @property {boolean} [block]\n * @property {boolean} [ignore]\n * @property {function(Element): boolean} [shouldPreserve]\n * @property {function(Element): boolean} [shouldReAppend]\n * @property {function(Element): boolean} [shouldRemove]\n * @property {function(Element, {added: Node[], kept: Element[], removed: Element[]}): void} [afterHeadMorphed]\n */\n\n/**\n * @typedef {object} ConfigCallbacks\n *\n * @property {function(Node): boolean} [beforeNodeAdded]\n * @property {function(Node): void} [afterNodeAdded]\n * @property {function(Element, Node): boolean} [beforeNodeMorphed]\n * @property {function(Element, Node): void} [afterNodeMorphed]\n * @property {function(Element): boolean} [beforeNodeRemoved]\n * @property {function(Element): void} [afterNodeRemoved]\n * @property {function(string, Element, \"update\" | \"remove\"): boolean} [beforeAttributeUpdated]\n */\n\n/**\n * @typedef {object} Config\n *\n * @property {'outerHTML' | 'innerHTML'} [morphStyle]\n * @property {boolean} [ignoreActive]\n * @property {boolean} [ignoreActiveValue]\n * @property {boolean} [restoreFocus]\n * @property {ConfigCallbacks} [callbacks]\n * @property {ConfigHead} [head]\n */\n\n/**\n * @typedef {function} NoOp\n *\n * @returns {void}\n */\n\n/**\n * @typedef {object} ConfigHeadInternal\n *\n * @property {'merge' | 'append' | 'morph' | 'none'} style\n * @property {boolean} [block]\n * @property {boolean} [ignore]\n * @property {(function(Element): boolean) | NoOp} shouldPreserve\n * @property {(function(Element): boolean) | NoOp} shouldReAppend\n * @property {(function(Element): boolean) | NoOp} shouldRemove\n * @property {(function(Element, {added: Node[], kept: Element[], removed: Element[]}): void) | NoOp} afterHeadMorphed\n */\n\n/**\n * @typedef {object} ConfigCallbacksInternal\n *\n * @property {(function(Node): boolean) | NoOp} beforeNodeAdded\n * @property {(function(Node): void) | NoOp} afterNodeAdded\n * @property {(function(Node, Node): boolean) | NoOp} beforeNodeMorphed\n * @property {(function(Node, Node): void) | NoOp} afterNodeMorphed\n * @property {(function(Node): boolean) | NoOp} beforeNodeRemoved\n * @property {(function(Node): void) | NoOp} afterNodeRemoved\n * @property {(function(string, Element, \"update\" | \"remove\"): boolean) | NoOp} beforeAttributeUpdated\n */\n\n/**\n * @typedef {object} ConfigInternal\n *\n * @property {'outerHTML' | 'innerHTML'} morphStyle\n * @property {boolean} [ignoreActive]\n * @property {boolean} [ignoreActiveValue]\n * @property {boolean} [restoreFocus]\n * @property {ConfigCallbacksInternal} callbacks\n * @property {ConfigHeadInternal} head\n */\n\n/**\n * @typedef {Object} IdSets\n * @property {Set<string>} persistentIds\n * @property {Map<Node, Set<string>>} idMap\n */\n\n/**\n * @typedef {Function} Morph\n *\n * @param {Element | Document} oldNode\n * @param {Element | Node | HTMLCollection | Node[] | string | null} newContent\n * @param {Config} [config]\n * @returns {undefined | Node[]}\n */\n\n// base IIFE to define idiomorph\n/**\n *\n * @type {{defaults: ConfigInternal, morph: Morph}}\n */\nvar Idiomorph = (function () {\n\n  /**\n   * @typedef {object} MorphContext\n   *\n   * @property {Element} target\n   * @property {Element} newContent\n   * @property {ConfigInternal} config\n   * @property {ConfigInternal['morphStyle']} morphStyle\n   * @property {ConfigInternal['ignoreActive']} ignoreActive\n   * @property {ConfigInternal['ignoreActiveValue']} ignoreActiveValue\n   * @property {ConfigInternal['restoreFocus']} restoreFocus\n   * @property {Map<Node, Set<string>>} idMap\n   * @property {Set<string>} persistentIds\n   * @property {ConfigInternal['callbacks']} callbacks\n   * @property {ConfigInternal['head']} head\n   * @property {HTMLDivElement} pantry\n   */\n\n  //=============================================================================\n  // AND NOW IT BEGINS...\n  //=============================================================================\n\n  const noOp = () => {};\n  /**\n   * Default configuration values, updatable by users now\n   * @type {ConfigInternal}\n   */\n  const defaults = {\n    morphStyle: \"outerHTML\",\n    callbacks: {\n      beforeNodeAdded: noOp,\n      afterNodeAdded: noOp,\n      beforeNodeMorphed: noOp,\n      afterNodeMorphed: noOp,\n      beforeNodeRemoved: noOp,\n      afterNodeRemoved: noOp,\n      beforeAttributeUpdated: noOp,\n    },\n    head: {\n      style: \"merge\",\n      shouldPreserve: (elt) => elt.getAttribute(\"im-preserve\") === \"true\",\n      shouldReAppend: (elt) => elt.getAttribute(\"im-re-append\") === \"true\",\n      shouldRemove: noOp,\n      afterHeadMorphed: noOp,\n    },\n    restoreFocus: true,\n  };\n\n  /**\n   * Core idiomorph function for morphing one DOM tree to another\n   *\n   * @param {Element | Document} oldNode\n   * @param {Element | Node | HTMLCollection | Node[] | string | null} newContent\n   * @param {Config} [config]\n   * @returns {Promise<Node[]> | Node[]}\n   */\n  function morph(oldNode, newContent, config = {}) {\n    oldNode = normalizeElement(oldNode);\n    const newNode = normalizeParent(newContent);\n    const ctx = createMorphContext(oldNode, newNode, config);\n\n    const morphedNodes = saveAndRestoreFocus(ctx, () => {\n      return withHeadBlocking(\n        ctx,\n        oldNode,\n        newNode,\n        /** @param {MorphContext} ctx */ (ctx) => {\n          if (ctx.morphStyle === \"innerHTML\") {\n            morphChildren(ctx, oldNode, newNode);\n            return Array.from(oldNode.childNodes);\n          } else {\n            return morphOuterHTML(ctx, oldNode, newNode);\n          }\n        },\n      );\n    });\n\n    ctx.pantry.remove();\n    return morphedNodes;\n  }\n\n  /**\n   * Morph just the outerHTML of the oldNode to the newContent\n   * We have to be careful because the oldNode could have siblings which need to be untouched\n   * @param {MorphContext} ctx\n   * @param {Element} oldNode\n   * @param {Element} newNode\n   * @returns {Node[]}\n   */\n  function morphOuterHTML(ctx, oldNode, newNode) {\n    const oldParent = normalizeParent(oldNode);\n\n    // basis for calulating which nodes were morphed\n    // since there may be unmorphed sibling nodes\n    let childNodes = Array.from(oldParent.childNodes);\n    const index = childNodes.indexOf(oldNode);\n    // how many elements are to the right of the oldNode\n    const rightMargin = childNodes.length - (index + 1);\n\n    morphChildren(\n      ctx,\n      oldParent,\n      newNode,\n      // these two optional params are the secret sauce\n      oldNode, // start point for iteration\n      oldNode.nextSibling, // end point for iteration\n    );\n\n    // return just the morphed nodes\n    childNodes = Array.from(oldParent.childNodes);\n    return childNodes.slice(index, childNodes.length - rightMargin);\n  }\n\n  /**\n   * @param {MorphContext} ctx\n   * @param {Function} fn\n   * @returns {Promise<Node[]> | Node[]}\n   */\n  function saveAndRestoreFocus(ctx, fn) {\n    if (!ctx.config.restoreFocus) return fn();\n    let activeElement =\n      /** @type {HTMLInputElement|HTMLTextAreaElement|null} */ (\n        document.activeElement\n      );\n\n    // don't bother if the active element is not an input or textarea\n    if (\n      !(\n        activeElement instanceof HTMLInputElement ||\n        activeElement instanceof HTMLTextAreaElement\n      )\n    ) {\n      return fn();\n    }\n\n    const { id: activeElementId, selectionStart, selectionEnd } = activeElement;\n\n    const results = fn();\n\n    if (activeElementId && activeElementId !== document.activeElement?.id) {\n      activeElement = ctx.target.querySelector(`#${activeElementId}`);\n      activeElement?.focus();\n    }\n    if (activeElement && !activeElement.selectionEnd && selectionEnd) {\n      activeElement.setSelectionRange(selectionStart, selectionEnd);\n    }\n\n    return results;\n  }\n\n  const morphChildren = (function () {\n    /**\n     * This is the core algorithm for matching up children.  The idea is to use id sets to try to match up\n     * nodes as faithfully as possible.  We greedily match, which allows us to keep the algorithm fast, but\n     * by using id sets, we are able to better match up with content deeper in the DOM.\n     *\n     * Basic algorithm:\n     * - for each node in the new content:\n     *   - search self and siblings for an id set match, falling back to a soft match\n     *   - if match found\n     *     - remove any nodes up to the match:\n     *       - pantry persistent nodes\n     *       - delete the rest\n     *     - morph the match\n     *   - elsif no match found, and node is persistent\n     *     - find its match by querying the old root (future) and pantry (past)\n     *     - move it and its children here\n     *     - morph it\n     *   - else\n     *     - create a new node from scratch as a last result\n     *\n     * @param {MorphContext} ctx the merge context\n     * @param {Element} oldParent the old content that we are merging the new content into\n     * @param {Element} newParent the parent element of the new content\n     * @param {Node|null} [insertionPoint] the point in the DOM we start morphing at (defaults to first child)\n     * @param {Node|null} [endPoint] the point in the DOM we stop morphing at (defaults to after last child)\n     */\n    function morphChildren(\n      ctx,\n      oldParent,\n      newParent,\n      insertionPoint = null,\n      endPoint = null,\n    ) {\n      // normalize\n      if (\n        oldParent instanceof HTMLTemplateElement &&\n        newParent instanceof HTMLTemplateElement\n      ) {\n        // @ts-ignore we can pretend the DocumentFragment is an Element\n        oldParent = oldParent.content;\n        // @ts-ignore ditto\n        newParent = newParent.content;\n      }\n      insertionPoint ||= oldParent.firstChild;\n\n      // run through all the new content\n      for (const newChild of newParent.childNodes) {\n        // once we reach the end of the old parent content skip to the end and insert the rest\n        if (insertionPoint && insertionPoint != endPoint) {\n          const bestMatch = findBestMatch(\n            ctx,\n            newChild,\n            insertionPoint,\n            endPoint,\n          );\n          if (bestMatch) {\n            // if the node to morph is not at the insertion point then remove/move up to it\n            if (bestMatch !== insertionPoint) {\n              removeNodesBetween(ctx, insertionPoint, bestMatch);\n            }\n            morphNode(bestMatch, newChild, ctx);\n            insertionPoint = bestMatch.nextSibling;\n            continue;\n          }\n        }\n\n        // if the matching node is elsewhere in the original content\n        if (newChild instanceof Element && ctx.persistentIds.has(newChild.id)) {\n          // move it and all its children here and morph\n          const movedChild = moveBeforeById(\n            oldParent,\n            newChild.id,\n            insertionPoint,\n            ctx,\n          );\n          morphNode(movedChild, newChild, ctx);\n          insertionPoint = movedChild.nextSibling;\n          continue;\n        }\n\n        // last resort: insert the new node from scratch\n        const insertedNode = createNode(\n          oldParent,\n          newChild,\n          insertionPoint,\n          ctx,\n        );\n        // could be null if beforeNodeAdded prevented insertion\n        if (insertedNode) {\n          insertionPoint = insertedNode.nextSibling;\n        }\n      }\n\n      // remove any remaining old nodes that didn't match up with new content\n      while (insertionPoint && insertionPoint != endPoint) {\n        const tempNode = insertionPoint;\n        insertionPoint = insertionPoint.nextSibling;\n        removeNode(ctx, tempNode);\n      }\n    }\n\n    /**\n     * This performs the action of inserting a new node while handling situations where the node contains\n     * elements with persistent ids and possible state info we can still preserve by moving in and then morphing\n     *\n     * @param {Element} oldParent\n     * @param {Node} newChild\n     * @param {Node|null} insertionPoint\n     * @param {MorphContext} ctx\n     * @returns {Node|null}\n     */\n    function createNode(oldParent, newChild, insertionPoint, ctx) {\n      if (ctx.callbacks.beforeNodeAdded(newChild) === false) return null;\n      if (ctx.idMap.has(newChild)) {\n        // node has children with ids with possible state so create a dummy elt of same type and apply full morph algorithm\n        const newEmptyChild = document.createElement(\n          /** @type {Element} */ (newChild).tagName,\n        );\n        oldParent.insertBefore(newEmptyChild, insertionPoint);\n        morphNode(newEmptyChild, newChild, ctx);\n        ctx.callbacks.afterNodeAdded(newEmptyChild);\n        return newEmptyChild;\n      } else {\n        // optimisation: no id state to preserve so we can just insert a clone of the newChild and its descendants\n        const newClonedChild = document.importNode(newChild, true); // importNode to not mutate newParent\n        oldParent.insertBefore(newClonedChild, insertionPoint);\n        ctx.callbacks.afterNodeAdded(newClonedChild);\n        return newClonedChild;\n      }\n    }\n\n    //=============================================================================\n    // Matching Functions\n    //=============================================================================\n    const findBestMatch = (function () {\n      /**\n       * Scans forward from the startPoint to the endPoint looking for a match\n       * for the node. It looks for an id set match first, then a soft match.\n       * We abort softmatching if we find two future soft matches, to reduce churn.\n       * @param {Node} node\n       * @param {MorphContext} ctx\n       * @param {Node | null} startPoint\n       * @param {Node | null} endPoint\n       * @returns {Node | null}\n       */\n      function findBestMatch(ctx, node, startPoint, endPoint) {\n        let softMatch = null;\n        let nextSibling = node.nextSibling;\n        let siblingSoftMatchCount = 0;\n\n        let cursor = startPoint;\n        while (cursor && cursor != endPoint) {\n          // soft matching is a prerequisite for id set matching\n          if (isSoftMatch(cursor, node)) {\n            if (isIdSetMatch(ctx, cursor, node)) {\n              return cursor; // found an id set match, we're done!\n            }\n\n            // we haven't yet saved a soft match fallback\n            if (softMatch === null) {\n              // the current soft match will hard match something else in the future, leave it\n              if (!ctx.idMap.has(cursor)) {\n                // save this as the fallback if we get through the loop without finding a hard match\n                softMatch = cursor;\n              }\n            }\n          }\n          if (\n            softMatch === null &&\n            nextSibling &&\n            isSoftMatch(cursor, nextSibling)\n          ) {\n            // The next new node has a soft match with this node, so\n            // increment the count of future soft matches\n            siblingSoftMatchCount++;\n            nextSibling = nextSibling.nextSibling;\n\n            // If there are two future soft matches, block soft matching for this node to allow\n            // future siblings to soft match. This is to reduce churn in the DOM when an element\n            // is prepended.\n            if (siblingSoftMatchCount >= 2) {\n              softMatch = undefined;\n            }\n          }\n\n          // if the current node contains active element, stop looking for better future matches,\n          // because if one is found, this node will be moved to the pantry, reparenting it and thus losing focus\n          if (cursor.contains(document.activeElement)) break;\n\n          cursor = cursor.nextSibling;\n        }\n\n        return softMatch || null;\n      }\n\n      /**\n       *\n       * @param {MorphContext} ctx\n       * @param {Node} oldNode\n       * @param {Node} newNode\n       * @returns {boolean}\n       */\n      function isIdSetMatch(ctx, oldNode, newNode) {\n        let oldSet = ctx.idMap.get(oldNode);\n        let newSet = ctx.idMap.get(newNode);\n\n        if (!newSet || !oldSet) return false;\n\n        for (const id of oldSet) {\n          // a potential match is an id in the new and old nodes that\n          // has not already been merged into the DOM\n          // But the newNode content we call this on has not been\n          // merged yet and we don't allow duplicate IDs so it is simple\n          if (newSet.has(id)) {\n            return true;\n          }\n        }\n        return false;\n      }\n\n      /**\n       *\n       * @param {Node} oldNode\n       * @param {Node} newNode\n       * @returns {boolean}\n       */\n      function isSoftMatch(oldNode, newNode) {\n        // ok to cast: if one is not element, `id` and `tagName` will be undefined and we'll just compare that.\n        const oldElt = /** @type {Element} */ (oldNode);\n        const newElt = /** @type {Element} */ (newNode);\n\n        return (\n          oldElt.nodeType === newElt.nodeType &&\n          oldElt.tagName === newElt.tagName &&\n          // If oldElt has an `id` with possible state and it doesn't match newElt.id then avoid morphing.\n          // We'll still match an anonymous node with an IDed newElt, though, because if it got this far,\n          // its not persistent, and new nodes can't have any hidden state.\n          (!oldElt.id || oldElt.id === newElt.id)\n        );\n      }\n\n      return findBestMatch;\n    })();\n\n    //=============================================================================\n    // DOM Manipulation Functions\n    //=============================================================================\n\n    /**\n     * Gets rid of an unwanted DOM node; strategy depends on nature of its reuse:\n     * - Persistent nodes will be moved to the pantry for later reuse\n     * - Other nodes will have their hooks called, and then are removed\n     * @param {MorphContext} ctx\n     * @param {Node} node\n     */\n    function removeNode(ctx, node) {\n      // are we going to id set match this later?\n      if (ctx.idMap.has(node)) {\n        // skip callbacks and move to pantry\n        moveBefore(ctx.pantry, node, null);\n      } else {\n        // remove for realsies\n        if (ctx.callbacks.beforeNodeRemoved(node) === false) return;\n        node.parentNode?.removeChild(node);\n        ctx.callbacks.afterNodeRemoved(node);\n      }\n    }\n\n    /**\n     * Remove nodes between the start and end nodes\n     * @param {MorphContext} ctx\n     * @param {Node} startInclusive\n     * @param {Node} endExclusive\n     * @returns {Node|null}\n     */\n    function removeNodesBetween(ctx, startInclusive, endExclusive) {\n      /** @type {Node | null} */\n      let cursor = startInclusive;\n      // remove nodes until the endExclusive node\n      while (cursor && cursor !== endExclusive) {\n        let tempNode = /** @type {Node} */ (cursor);\n        cursor = cursor.nextSibling;\n        removeNode(ctx, tempNode);\n      }\n      return cursor;\n    }\n\n    /**\n     * Search for an element by id within the document and pantry, and move it using moveBefore.\n     *\n     * @param {Element} parentNode - The parent node to which the element will be moved.\n     * @param {string} id - The ID of the element to be moved.\n     * @param {Node | null} after - The reference node to insert the element before.\n     *                              If `null`, the element is appended as the last child.\n     * @param {MorphContext} ctx\n     * @returns {Element} The found element\n     */\n    function moveBeforeById(parentNode, id, after, ctx) {\n      const target =\n        /** @type {Element} - will always be found */\n        (\n          ctx.target.querySelector(`#${id}`) ||\n            ctx.pantry.querySelector(`#${id}`)\n        );\n      removeElementFromAncestorsIdMaps(target, ctx);\n      moveBefore(parentNode, target, after);\n      return target;\n    }\n\n    /**\n     * Removes an element from its ancestors' id maps. This is needed when an element is moved from the\n     * \"future\" via `moveBeforeId`. Otherwise, its erstwhile ancestors could be mistakenly moved to the\n     * pantry rather than being deleted, preventing their removal hooks from being called.\n     *\n     * @param {Element} element - element to remove from its ancestors' id maps\n     * @param {MorphContext} ctx\n     */\n    function removeElementFromAncestorsIdMaps(element, ctx) {\n      const id = element.id;\n      /** @ts-ignore - safe to loop in this way **/\n      while ((element = element.parentNode)) {\n        let idSet = ctx.idMap.get(element);\n        if (idSet) {\n          idSet.delete(id);\n          if (!idSet.size) {\n            ctx.idMap.delete(element);\n          }\n        }\n      }\n    }\n\n    /**\n     * Moves an element before another element within the same parent.\n     * Uses the proposed `moveBefore` API if available (and working), otherwise falls back to `insertBefore`.\n     * This is essentialy a forward-compat wrapper.\n     *\n     * @param {Element} parentNode - The parent node containing the after element.\n     * @param {Node} element - The element to be moved.\n     * @param {Node | null} after - The reference node to insert `element` before.\n     *                              If `null`, `element` is appended as the last child.\n     */\n    function moveBefore(parentNode, element, after) {\n      // @ts-ignore - use proposed moveBefore feature\n      if (parentNode.moveBefore) {\n        try {\n          // @ts-ignore - use proposed moveBefore feature\n          parentNode.moveBefore(element, after);\n        } catch (e) {\n          // fall back to insertBefore as some browsers may fail on moveBefore when trying to move Dom disconnected nodes to pantry\n          parentNode.insertBefore(element, after);\n        }\n      } else {\n        parentNode.insertBefore(element, after);\n      }\n    }\n\n    return morphChildren;\n  })();\n\n  //=============================================================================\n  // Single Node Morphing Code\n  //=============================================================================\n  const morphNode = (function () {\n    /**\n     * @param {Node} oldNode root node to merge content into\n     * @param {Node} newContent new content to merge\n     * @param {MorphContext} ctx the merge context\n     * @returns {Node | null} the element that ended up in the DOM\n     */\n    function morphNode(oldNode, newContent, ctx) {\n      if (ctx.ignoreActive && oldNode === document.activeElement) {\n        // don't morph focused element\n        return null;\n      }\n\n      if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) {\n        return oldNode;\n      }\n\n      if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) ; else if (\n        oldNode instanceof HTMLHeadElement &&\n        ctx.head.style !== \"morph\"\n      ) {\n        // ok to cast: if newContent wasn't also a <head>, it would've got caught in the `!isSoftMatch` branch above\n        handleHeadElement(\n          oldNode,\n          /** @type {HTMLHeadElement} */ (newContent),\n          ctx,\n        );\n      } else {\n        morphAttributes(oldNode, newContent, ctx);\n        if (!ignoreValueOfActiveElement(oldNode, ctx)) {\n          // @ts-ignore newContent can be a node here because .firstChild will be null\n          morphChildren(ctx, oldNode, newContent);\n        }\n      }\n      ctx.callbacks.afterNodeMorphed(oldNode, newContent);\n      return oldNode;\n    }\n\n    /**\n     * syncs the oldNode to the newNode, copying over all attributes and\n     * inner element state from the newNode to the oldNode\n     *\n     * @param {Node} oldNode the node to copy attributes & state to\n     * @param {Node} newNode the node to copy attributes & state from\n     * @param {MorphContext} ctx the merge context\n     */\n    function morphAttributes(oldNode, newNode, ctx) {\n      let type = newNode.nodeType;\n\n      // if is an element type, sync the attributes from the\n      // new node into the new node\n      if (type === 1 /* element type */) {\n        const oldElt = /** @type {Element} */ (oldNode);\n        const newElt = /** @type {Element} */ (newNode);\n\n        const oldAttributes = oldElt.attributes;\n        const newAttributes = newElt.attributes;\n        for (const newAttribute of newAttributes) {\n          if (ignoreAttribute(newAttribute.name, oldElt, \"update\", ctx)) {\n            continue;\n          }\n          if (oldElt.getAttribute(newAttribute.name) !== newAttribute.value) {\n            oldElt.setAttribute(newAttribute.name, newAttribute.value);\n          }\n        }\n        // iterate backwards to avoid skipping over items when a delete occurs\n        for (let i = oldAttributes.length - 1; 0 <= i; i--) {\n          const oldAttribute = oldAttributes[i];\n\n          // toAttributes is a live NamedNodeMap, so iteration+mutation is unsafe\n          // e.g. custom element attribute callbacks can remove other attributes\n          if (!oldAttribute) continue;\n\n          if (!newElt.hasAttribute(oldAttribute.name)) {\n            if (ignoreAttribute(oldAttribute.name, oldElt, \"remove\", ctx)) {\n              continue;\n            }\n            oldElt.removeAttribute(oldAttribute.name);\n          }\n        }\n\n        if (!ignoreValueOfActiveElement(oldElt, ctx)) {\n          syncInputValue(oldElt, newElt, ctx);\n        }\n      }\n\n      // sync text nodes\n      if (type === 8 /* comment */ || type === 3 /* text */) {\n        if (oldNode.nodeValue !== newNode.nodeValue) {\n          oldNode.nodeValue = newNode.nodeValue;\n        }\n      }\n    }\n\n    /**\n     * NB: many bothans died to bring us information:\n     *\n     *  https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n     *  https://github.com/choojs/nanomorph/blob/master/lib/morph.jsL113\n     *\n     * @param {Element} oldElement the element to sync the input value to\n     * @param {Element} newElement the element to sync the input value from\n     * @param {MorphContext} ctx the merge context\n     */\n    function syncInputValue(oldElement, newElement, ctx) {\n      if (\n        oldElement instanceof HTMLInputElement &&\n        newElement instanceof HTMLInputElement &&\n        newElement.type !== \"file\"\n      ) {\n        let newValue = newElement.value;\n        let oldValue = oldElement.value;\n\n        // sync boolean attributes\n        syncBooleanAttribute(oldElement, newElement, \"checked\", ctx);\n        syncBooleanAttribute(oldElement, newElement, \"disabled\", ctx);\n\n        if (!newElement.hasAttribute(\"value\")) {\n          if (!ignoreAttribute(\"value\", oldElement, \"remove\", ctx)) {\n            oldElement.value = \"\";\n            oldElement.removeAttribute(\"value\");\n          }\n        } else if (oldValue !== newValue) {\n          if (!ignoreAttribute(\"value\", oldElement, \"update\", ctx)) {\n            oldElement.setAttribute(\"value\", newValue);\n            oldElement.value = newValue;\n          }\n        }\n        // TODO: QUESTION(1cg): this used to only check `newElement` unlike the other branches -- why?\n        // did I break something?\n      } else if (\n        oldElement instanceof HTMLOptionElement &&\n        newElement instanceof HTMLOptionElement\n      ) {\n        syncBooleanAttribute(oldElement, newElement, \"selected\", ctx);\n      } else if (\n        oldElement instanceof HTMLTextAreaElement &&\n        newElement instanceof HTMLTextAreaElement\n      ) {\n        let newValue = newElement.value;\n        let oldValue = oldElement.value;\n        if (ignoreAttribute(\"value\", oldElement, \"update\", ctx)) {\n          return;\n        }\n        if (newValue !== oldValue) {\n          oldElement.value = newValue;\n        }\n        if (\n          oldElement.firstChild &&\n          oldElement.firstChild.nodeValue !== newValue\n        ) {\n          oldElement.firstChild.nodeValue = newValue;\n        }\n      }\n    }\n\n    /**\n     * @param {Element} oldElement element to write the value to\n     * @param {Element} newElement element to read the value from\n     * @param {string} attributeName the attribute name\n     * @param {MorphContext} ctx the merge context\n     */\n    function syncBooleanAttribute(oldElement, newElement, attributeName, ctx) {\n      // @ts-ignore this function is only used on boolean attrs that are reflected as dom properties\n      const newLiveValue = newElement[attributeName],\n        // @ts-ignore ditto\n        oldLiveValue = oldElement[attributeName];\n      if (newLiveValue !== oldLiveValue) {\n        const ignoreUpdate = ignoreAttribute(\n          attributeName,\n          oldElement,\n          \"update\",\n          ctx,\n        );\n        if (!ignoreUpdate) {\n          // update attribute's associated DOM property\n          // @ts-ignore this function is only used on boolean attrs that are reflected as dom properties\n          oldElement[attributeName] = newElement[attributeName];\n        }\n        if (newLiveValue) {\n          if (!ignoreUpdate) {\n            // https://developer.mozilla.org/en-US/docs/Glossary/Boolean/HTML\n            // this is the correct way to set a boolean attribute to \"true\"\n            oldElement.setAttribute(attributeName, \"\");\n          }\n        } else {\n          if (!ignoreAttribute(attributeName, oldElement, \"remove\", ctx)) {\n            oldElement.removeAttribute(attributeName);\n          }\n        }\n      }\n    }\n\n    /**\n     * @param {string} attr the attribute to be mutated\n     * @param {Element} element the element that is going to be updated\n     * @param {\"update\" | \"remove\"} updateType\n     * @param {MorphContext} ctx the merge context\n     * @returns {boolean} true if the attribute should be ignored, false otherwise\n     */\n    function ignoreAttribute(attr, element, updateType, ctx) {\n      if (\n        attr === \"value\" &&\n        ctx.ignoreActiveValue &&\n        element === document.activeElement\n      ) {\n        return true;\n      }\n      return (\n        ctx.callbacks.beforeAttributeUpdated(attr, element, updateType) ===\n        false\n      );\n    }\n\n    /**\n     * @param {Node} possibleActiveElement\n     * @param {MorphContext} ctx\n     * @returns {boolean}\n     */\n    function ignoreValueOfActiveElement(possibleActiveElement, ctx) {\n      return (\n        !!ctx.ignoreActiveValue &&\n        possibleActiveElement === document.activeElement &&\n        possibleActiveElement !== document.body\n      );\n    }\n\n    return morphNode;\n  })();\n\n  //=============================================================================\n  // Head Management Functions\n  //=============================================================================\n  /**\n   * @param {MorphContext} ctx\n   * @param {Element} oldNode\n   * @param {Element} newNode\n   * @param {function} callback\n   * @returns {Node[] | Promise<Node[]>}\n   */\n  function withHeadBlocking(ctx, oldNode, newNode, callback) {\n    if (ctx.head.block) {\n      const oldHead = oldNode.querySelector(\"head\");\n      const newHead = newNode.querySelector(\"head\");\n      if (oldHead && newHead) {\n        const promises = handleHeadElement(oldHead, newHead, ctx);\n        // when head promises resolve, proceed ignoring the head tag\n        return Promise.all(promises).then(() => {\n          const newCtx = Object.assign(ctx, {\n            head: {\n              block: false,\n              ignore: true,\n            },\n          });\n          return callback(newCtx);\n        });\n      }\n    }\n    // just proceed if we not head blocking\n    return callback(ctx);\n  }\n\n  /**\n   *  The HEAD tag can be handled specially, either w/ a 'merge' or 'append' style\n   *\n   * @param {Element} oldHead\n   * @param {Element} newHead\n   * @param {MorphContext} ctx\n   * @returns {Promise<void>[]}\n   */\n  function handleHeadElement(oldHead, newHead, ctx) {\n    let added = [];\n    let removed = [];\n    let preserved = [];\n    let nodesToAppend = [];\n\n    // put all new head elements into a Map, by their outerHTML\n    let srcToNewHeadNodes = new Map();\n    for (const newHeadChild of newHead.children) {\n      srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);\n    }\n\n    // for each elt in the current head\n    for (const currentHeadElt of oldHead.children) {\n      // If the current head element is in the map\n      let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);\n      let isReAppended = ctx.head.shouldReAppend(currentHeadElt);\n      let isPreserved = ctx.head.shouldPreserve(currentHeadElt);\n      if (inNewContent || isPreserved) {\n        if (isReAppended) {\n          // remove the current version and let the new version replace it and re-execute\n          removed.push(currentHeadElt);\n        } else {\n          // this element already exists and should not be re-appended, so remove it from\n          // the new content map, preserving it in the DOM\n          srcToNewHeadNodes.delete(currentHeadElt.outerHTML);\n          preserved.push(currentHeadElt);\n        }\n      } else {\n        if (ctx.head.style === \"append\") {\n          // we are appending and this existing element is not new content\n          // so if and only if it is marked for re-append do we do anything\n          if (isReAppended) {\n            removed.push(currentHeadElt);\n            nodesToAppend.push(currentHeadElt);\n          }\n        } else {\n          // if this is a merge, we remove this content since it is not in the new head\n          if (ctx.head.shouldRemove(currentHeadElt) !== false) {\n            removed.push(currentHeadElt);\n          }\n        }\n      }\n    }\n\n    // Push the remaining new head elements in the Map into the\n    // nodes to append to the head tag\n    nodesToAppend.push(...srcToNewHeadNodes.values());\n\n    let promises = [];\n    for (const newNode of nodesToAppend) {\n      // TODO: This could theoretically be null, based on type\n      let newElt = /** @type {ChildNode} */ (\n        document.createRange().createContextualFragment(newNode.outerHTML)\n          .firstChild\n      );\n      if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {\n        if (\n          (\"href\" in newElt && newElt.href) ||\n          (\"src\" in newElt && newElt.src)\n        ) {\n          /** @type {(result?: any) => void} */ let resolve;\n          let promise = new Promise(function (_resolve) {\n            resolve = _resolve;\n          });\n          newElt.addEventListener(\"load\", function () {\n            resolve();\n          });\n          promises.push(promise);\n        }\n        oldHead.appendChild(newElt);\n        ctx.callbacks.afterNodeAdded(newElt);\n        added.push(newElt);\n      }\n    }\n\n    // remove all removed elements, after we have appended the new elements to avoid\n    // additional network requests for things like style sheets\n    for (const removedElement of removed) {\n      if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {\n        oldHead.removeChild(removedElement);\n        ctx.callbacks.afterNodeRemoved(removedElement);\n      }\n    }\n\n    ctx.head.afterHeadMorphed(oldHead, {\n      added: added,\n      kept: preserved,\n      removed: removed,\n    });\n    return promises;\n  }\n\n  //=============================================================================\n  // Create Morph Context Functions\n  //=============================================================================\n  const createMorphContext = (function () {\n    /**\n     *\n     * @param {Element} oldNode\n     * @param {Element} newContent\n     * @param {Config} config\n     * @returns {MorphContext}\n     */\n    function createMorphContext(oldNode, newContent, config) {\n      const { persistentIds, idMap } = createIdMaps(oldNode, newContent);\n\n      const mergedConfig = mergeDefaults(config);\n      const morphStyle = mergedConfig.morphStyle || \"outerHTML\";\n      if (![\"innerHTML\", \"outerHTML\"].includes(morphStyle)) {\n        throw `Do not understand how to morph style ${morphStyle}`;\n      }\n\n      return {\n        target: oldNode,\n        newContent: newContent,\n        config: mergedConfig,\n        morphStyle: morphStyle,\n        ignoreActive: mergedConfig.ignoreActive,\n        ignoreActiveValue: mergedConfig.ignoreActiveValue,\n        restoreFocus: mergedConfig.restoreFocus,\n        idMap: idMap,\n        persistentIds: persistentIds,\n        pantry: createPantry(),\n        callbacks: mergedConfig.callbacks,\n        head: mergedConfig.head,\n      };\n    }\n\n    /**\n     * Deep merges the config object and the Idiomorph.defaults object to\n     * produce a final configuration object\n     * @param {Config} config\n     * @returns {ConfigInternal}\n     */\n    function mergeDefaults(config) {\n      let finalConfig = Object.assign({}, defaults);\n\n      // copy top level stuff into final config\n      Object.assign(finalConfig, config);\n\n      // copy callbacks into final config (do this to deep merge the callbacks)\n      finalConfig.callbacks = Object.assign(\n        {},\n        defaults.callbacks,\n        config.callbacks,\n      );\n\n      // copy head config into final config  (do this to deep merge the head)\n      finalConfig.head = Object.assign({}, defaults.head, config.head);\n\n      return finalConfig;\n    }\n\n    /**\n     * @returns {HTMLDivElement}\n     */\n    function createPantry() {\n      const pantry = document.createElement(\"div\");\n      pantry.hidden = true;\n      document.body.insertAdjacentElement(\"afterend\", pantry);\n      return pantry;\n    }\n\n    /**\n     * Returns all elements with an ID contained within the root element and its descendants\n     *\n     * @param {Element} root\n     * @returns {Element[]}\n     */\n    function findIdElements(root) {\n      let elements = Array.from(root.querySelectorAll(\"[id]\"));\n      if (root.id) {\n        elements.push(root);\n      }\n      return elements;\n    }\n\n    /**\n     * A bottom-up algorithm that populates a map of Element -> IdSet.\n     * The idSet for a given element is the set of all IDs contained within its subtree.\n     * As an optimzation, we filter these IDs through the given list of persistent IDs,\n     * because we don't need to bother considering IDed elements that won't be in the new content.\n     *\n     * @param {Map<Node, Set<string>>} idMap\n     * @param {Set<string>} persistentIds\n     * @param {Element} root\n     * @param {Element[]} elements\n     */\n    function populateIdMapWithTree(idMap, persistentIds, root, elements) {\n      for (const elt of elements) {\n        if (persistentIds.has(elt.id)) {\n          /** @type {Element|null} */\n          let current = elt;\n          // walk up the parent hierarchy of that element, adding the id\n          // of element to the parent's id set\n          while (current) {\n            let idSet = idMap.get(current);\n            // if the id set doesn't exist, create it and insert it in the map\n            if (idSet == null) {\n              idSet = new Set();\n              idMap.set(current, idSet);\n            }\n            idSet.add(elt.id);\n\n            if (current === root) break;\n            current = current.parentElement;\n          }\n        }\n      }\n    }\n\n    /**\n     * This function computes a map of nodes to all ids contained within that node (inclusive of the\n     * node).  This map can be used to ask if two nodes have intersecting sets of ids, which allows\n     * for a looser definition of \"matching\" than tradition id matching, and allows child nodes\n     * to contribute to a parent nodes matching.\n     *\n     * @param {Element} oldContent  the old content that will be morphed\n     * @param {Element} newContent  the new content to morph to\n     * @returns {IdSets}\n     */\n    function createIdMaps(oldContent, newContent) {\n      const oldIdElements = findIdElements(oldContent);\n      const newIdElements = findIdElements(newContent);\n\n      const persistentIds = createPersistentIds(oldIdElements, newIdElements);\n\n      /** @type {Map<Node, Set<string>>} */\n      let idMap = new Map();\n      populateIdMapWithTree(idMap, persistentIds, oldContent, oldIdElements);\n\n      /** @ts-ignore - if newContent is a duck-typed parent, pass its single child node as the root to halt upwards iteration */\n      const newRoot = newContent.__idiomorphRoot || newContent;\n      populateIdMapWithTree(idMap, persistentIds, newRoot, newIdElements);\n\n      return { persistentIds, idMap };\n    }\n\n    /**\n     * This function computes the set of ids that persist between the two contents excluding duplicates\n     *\n     * @param {Element[]} oldIdElements\n     * @param {Element[]} newIdElements\n     * @returns {Set<string>}\n     */\n    function createPersistentIds(oldIdElements, newIdElements) {\n      let duplicateIds = new Set();\n\n      /** @type {Map<string, string>} */\n      let oldIdTagNameMap = new Map();\n      for (const { id, tagName } of oldIdElements) {\n        if (oldIdTagNameMap.has(id)) {\n          duplicateIds.add(id);\n        } else {\n          oldIdTagNameMap.set(id, tagName);\n        }\n      }\n\n      let persistentIds = new Set();\n      for (const { id, tagName } of newIdElements) {\n        if (persistentIds.has(id)) {\n          duplicateIds.add(id);\n        } else if (oldIdTagNameMap.get(id) === tagName) {\n          persistentIds.add(id);\n        }\n        // skip if tag types mismatch because its not possible to morph one tag into another\n      }\n\n      for (const id of duplicateIds) {\n        persistentIds.delete(id);\n      }\n      return persistentIds;\n    }\n\n    return createMorphContext;\n  })();\n\n  //=============================================================================\n  // HTML Normalization Functions\n  //=============================================================================\n  const { normalizeElement, normalizeParent } = (function () {\n    /** @type {WeakSet<Node>} */\n    const generatedByIdiomorph = new WeakSet();\n\n    /**\n     *\n     * @param {Element | Document} content\n     * @returns {Element}\n     */\n    function normalizeElement(content) {\n      if (content instanceof Document) {\n        return content.documentElement;\n      } else {\n        return content;\n      }\n    }\n\n    /**\n     *\n     * @param {null | string | Node | HTMLCollection | Node[] | Document & {generatedByIdiomorph:boolean}} newContent\n     * @returns {Element}\n     */\n    function normalizeParent(newContent) {\n      if (newContent == null) {\n        return document.createElement(\"div\"); // dummy parent element\n      } else if (typeof newContent === \"string\") {\n        return normalizeParent(parseContent(newContent));\n      } else if (\n        generatedByIdiomorph.has(/** @type {Element} */ (newContent))\n      ) {\n        // the template tag created by idiomorph parsing can serve as a dummy parent\n        return /** @type {Element} */ (newContent);\n      } else if (newContent instanceof Node) {\n        if (newContent.parentNode) {\n          // we can't use the parent directly because newContent may have siblings\n          // that we don't want in the morph, and reparenting might be expensive (TODO is it?),\n          // so we create a duck-typed parent node instead.\n          return createDuckTypedParent(newContent);\n        } else {\n          // a single node is added as a child to a dummy parent\n          const dummyParent = document.createElement(\"div\");\n          dummyParent.append(newContent);\n          return dummyParent;\n        }\n      } else {\n        // all nodes in the array or HTMLElement collection are consolidated under\n        // a single dummy parent element\n        const dummyParent = document.createElement(\"div\");\n        for (const elt of [...newContent]) {\n          dummyParent.append(elt);\n        }\n        return dummyParent;\n      }\n    }\n\n    /**\n     * Creates a fake duck-typed parent element to wrap a single node, without actually reparenting it.\n     * \"If it walks like a duck, and quacks like a duck, then it must be a duck!\" -- James Whitcomb Riley (18491916)\n     *\n     * @param {Node} newContent\n     * @returns {Element}\n     */\n    function createDuckTypedParent(newContent) {\n      return /** @type {Element} */ (\n        /** @type {unknown} */ ({\n          childNodes: [newContent],\n          /** @ts-ignore - cover your eyes for a minute, tsc */\n          querySelectorAll: (s) => {\n            /** @ts-ignore */\n            const elements = newContent.querySelectorAll(s);\n            /** @ts-ignore */\n            return newContent.matches(s) ? [newContent, ...elements] : elements;\n          },\n          /** @ts-ignore */\n          insertBefore: (n, r) => newContent.parentNode.insertBefore(n, r),\n          /** @ts-ignore */\n          moveBefore: (n, r) => newContent.parentNode.moveBefore(n, r),\n          // for later use with populateIdMapWithTree to halt upwards iteration\n          get __idiomorphRoot() {\n            return newContent;\n          },\n        })\n      );\n    }\n\n    /**\n     *\n     * @param {string} newContent\n     * @returns {Node | null | DocumentFragment}\n     */\n    function parseContent(newContent) {\n      let parser = new DOMParser();\n\n      // remove svgs to avoid false-positive matches on head, etc.\n      let contentWithSvgsRemoved = newContent.replace(\n        /<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim,\n        \"\",\n      );\n\n      // if the newContent contains a html, head or body tag, we can simply parse it w/o wrapping\n      if (\n        contentWithSvgsRemoved.match(/<\\/html>/) ||\n        contentWithSvgsRemoved.match(/<\\/head>/) ||\n        contentWithSvgsRemoved.match(/<\\/body>/)\n      ) {\n        let content = parser.parseFromString(newContent, \"text/html\");\n        // if it is a full HTML document, return the document itself as the parent container\n        if (contentWithSvgsRemoved.match(/<\\/html>/)) {\n          generatedByIdiomorph.add(content);\n          return content;\n        } else {\n          // otherwise return the html element as the parent container\n          let htmlElement = content.firstChild;\n          if (htmlElement) {\n            generatedByIdiomorph.add(htmlElement);\n          }\n          return htmlElement;\n        }\n      } else {\n        // if it is partial HTML, wrap it in a template tag to provide a parent element and also to help\n        // deal with touchy tags like tr, tbody, etc.\n        let responseDoc = parser.parseFromString(\n          \"<body><template>\" + newContent + \"</template></body>\",\n          \"text/html\",\n        );\n        let content = /** @type {HTMLTemplateElement} */ (\n          responseDoc.body.querySelector(\"template\")\n        ).content;\n        generatedByIdiomorph.add(content);\n        return content;\n      }\n    }\n\n    return { normalizeElement, normalizeParent };\n  })();\n\n  //=============================================================================\n  // This is what ends up becoming the Idiomorph global object\n  //=============================================================================\n  return {\n    morph,\n    defaults,\n  };\n})();\n\nfunction morphElements(currentElement, newElement, { callbacks, ...options } = {}) {\n  Idiomorph.morph(currentElement, newElement, {\n    ...options,\n    callbacks: new DefaultIdiomorphCallbacks(callbacks)\n  });\n}\n\nfunction morphChildren(currentElement, newElement) {\n  morphElements(currentElement, newElement.childNodes, {\n    morphStyle: \"innerHTML\"\n  });\n}\n\nclass DefaultIdiomorphCallbacks {\n  #beforeNodeMorphed\n\n  constructor({ beforeNodeMorphed } = {}) {\n    this.#beforeNodeMorphed = beforeNodeMorphed || (() => true);\n  }\n\n  beforeNodeAdded = (node) => {\n    return !(node.id && node.hasAttribute(\"data-turbo-permanent\") && document.getElementById(node.id))\n  }\n\n  beforeNodeMorphed = (currentElement, newElement) => {\n    if (currentElement instanceof Element) {\n      if (!currentElement.hasAttribute(\"data-turbo-permanent\") && this.#beforeNodeMorphed(currentElement, newElement)) {\n        const event = dispatch(\"turbo:before-morph-element\", {\n          cancelable: true,\n          target: currentElement,\n          detail: { currentElement, newElement }\n        });\n\n        return !event.defaultPrevented\n      } else {\n        return false\n      }\n    }\n  }\n\n  beforeAttributeUpdated = (attributeName, target, mutationType) => {\n    const event = dispatch(\"turbo:before-morph-attribute\", {\n      cancelable: true,\n      target,\n      detail: { attributeName, mutationType }\n    });\n\n    return !event.defaultPrevented\n  }\n\n  beforeNodeRemoved = (node) => {\n    return this.beforeNodeMorphed(node)\n  }\n\n  afterNodeMorphed = (currentElement, newElement) => {\n    if (currentElement instanceof Element) {\n      dispatch(\"turbo:morph-element\", {\n        target: currentElement,\n        detail: { currentElement, newElement }\n      });\n    }\n  }\n}\n\nclass MorphingFrameRenderer extends FrameRenderer {\n  static renderElement(currentElement, newElement) {\n    dispatch(\"turbo:before-frame-morph\", {\n      target: currentElement,\n      detail: { currentElement, newElement }\n    });\n\n    morphChildren(currentElement, newElement);\n  }\n\n  async preservingPermanentElements(callback) {\n    return await callback()\n  }\n}\n\nclass ProgressBar {\n  static animationDuration = 300 /*ms*/\n\n  static get defaultCSS() {\n    return unindent`\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 2147483647;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `\n  }\n\n  hiding = false\n  value = 0\n  visible = false\n\n  constructor() {\n    this.stylesheetElement = this.createStylesheetElement();\n    this.progressElement = this.createProgressElement();\n    this.installStylesheetElement();\n    this.setValue(0);\n  }\n\n  show() {\n    if (!this.visible) {\n      this.visible = true;\n      this.installProgressElement();\n      this.startTrickling();\n    }\n  }\n\n  hide() {\n    if (this.visible && !this.hiding) {\n      this.hiding = true;\n      this.fadeProgressElement(() => {\n        this.uninstallProgressElement();\n        this.stopTrickling();\n        this.visible = false;\n        this.hiding = false;\n      });\n    }\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.refresh();\n  }\n\n  // Private\n\n  installStylesheetElement() {\n    document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n  }\n\n  installProgressElement() {\n    this.progressElement.style.width = \"0\";\n    this.progressElement.style.opacity = \"1\";\n    document.documentElement.insertBefore(this.progressElement, document.body);\n    this.refresh();\n  }\n\n  fadeProgressElement(callback) {\n    this.progressElement.style.opacity = \"0\";\n    setTimeout(callback, ProgressBar.animationDuration * 1.5);\n  }\n\n  uninstallProgressElement() {\n    if (this.progressElement.parentNode) {\n      document.documentElement.removeChild(this.progressElement);\n    }\n  }\n\n  startTrickling() {\n    if (!this.trickleInterval) {\n      this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n    }\n  }\n\n  stopTrickling() {\n    window.clearInterval(this.trickleInterval);\n    delete this.trickleInterval;\n  }\n\n  trickle = () => {\n    this.setValue(this.value + Math.random() / 100);\n  }\n\n  refresh() {\n    requestAnimationFrame(() => {\n      this.progressElement.style.width = `${10 + this.value * 90}%`;\n    });\n  }\n\n  createStylesheetElement() {\n    const element = document.createElement(\"style\");\n    element.type = \"text/css\";\n    element.textContent = ProgressBar.defaultCSS;\n    const cspNonce = getCspNonce();\n    if (cspNonce) {\n      element.nonce = cspNonce;\n    }\n    return element\n  }\n\n  createProgressElement() {\n    const element = document.createElement(\"div\");\n    element.className = \"turbo-progress-bar\";\n    return element\n  }\n}\n\nclass HeadSnapshot extends Snapshot {\n  detailsByOuterHTML = this.children\n    .filter((element) => !elementIsNoscript(element))\n    .map((element) => elementWithoutNonce(element))\n    .reduce((result, element) => {\n      const { outerHTML } = element;\n      const details =\n        outerHTML in result\n          ? result[outerHTML]\n          : {\n              type: elementType(element),\n              tracked: elementIsTracked(element),\n              elements: []\n            };\n      return {\n        ...result,\n        [outerHTML]: {\n          ...details,\n          elements: [...details.elements, element]\n        }\n      }\n    }, {})\n\n  get trackedElementSignature() {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked)\n      .join(\"\")\n  }\n\n  getScriptElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot)\n  }\n\n  getStylesheetElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot)\n  }\n\n  getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML))\n      .map((outerHTML) => this.detailsByOuterHTML[outerHTML])\n      .filter(({ type }) => type == matchedType)\n      .map(({ elements: [element] }) => element)\n  }\n\n  get provisionalElements() {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n      if (type == null && !tracked) {\n        return [...result, ...elements]\n      } else if (elements.length > 1) {\n        return [...result, ...elements.slice(1)]\n      } else {\n        return result\n      }\n    }, [])\n  }\n\n  getMetaValue(name) {\n    const element = this.findMetaElementByName(name);\n    return element ? element.getAttribute(\"content\") : null\n  }\n\n  findMetaElementByName(name) {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const {\n        elements: [element]\n      } = this.detailsByOuterHTML[outerHTML];\n      return elementIsMetaElementWithName(element, name) ? element : result\n    }, undefined | undefined)\n  }\n}\n\nfunction elementType(element) {\n  if (elementIsScript(element)) {\n    return \"script\"\n  } else if (elementIsStylesheet(element)) {\n    return \"stylesheet\"\n  }\n}\n\nfunction elementIsTracked(element) {\n  return element.getAttribute(\"data-turbo-track\") == \"reload\"\n}\n\nfunction elementIsScript(element) {\n  const tagName = element.localName;\n  return tagName == \"script\"\n}\n\nfunction elementIsNoscript(element) {\n  const tagName = element.localName;\n  return tagName == \"noscript\"\n}\n\nfunction elementIsStylesheet(element) {\n  const tagName = element.localName;\n  return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\")\n}\n\nfunction elementIsMetaElementWithName(element, name) {\n  const tagName = element.localName;\n  return tagName == \"meta\" && element.getAttribute(\"name\") == name\n}\n\nfunction elementWithoutNonce(element) {\n  if (element.hasAttribute(\"nonce\")) {\n    element.setAttribute(\"nonce\", \"\");\n  }\n\n  return element\n}\n\nclass PageSnapshot extends Snapshot {\n  static fromHTMLString(html = \"\") {\n    return this.fromDocument(parseHTMLDocument(html))\n  }\n\n  static fromElement(element) {\n    return this.fromDocument(element.ownerDocument)\n  }\n\n  static fromDocument({ documentElement, body, head }) {\n    return new this(documentElement, body, new HeadSnapshot(head))\n  }\n\n  constructor(documentElement, body, headSnapshot) {\n    super(body);\n    this.documentElement = documentElement;\n    this.headSnapshot = headSnapshot;\n  }\n\n  clone() {\n    const clonedElement = this.element.cloneNode(true);\n\n    const selectElements = this.element.querySelectorAll(\"select\");\n    const clonedSelectElements = clonedElement.querySelectorAll(\"select\");\n\n    for (const [index, source] of selectElements.entries()) {\n      const clone = clonedSelectElements[index];\n      for (const option of clone.selectedOptions) option.selected = false;\n      for (const option of source.selectedOptions) clone.options[option.index].selected = true;\n    }\n\n    for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type=\"password\"]')) {\n      clonedPasswordInput.value = \"\";\n    }\n\n    return new PageSnapshot(this.documentElement, clonedElement, this.headSnapshot)\n  }\n\n  get lang() {\n    return this.documentElement.getAttribute(\"lang\")\n  }\n\n  get headElement() {\n    return this.headSnapshot.element\n  }\n\n  get rootLocation() {\n    const root = this.getSetting(\"root\") ?? \"/\";\n    return expandURL(root)\n  }\n\n  get cacheControlValue() {\n    return this.getSetting(\"cache-control\")\n  }\n\n  get isPreviewable() {\n    return this.cacheControlValue != \"no-preview\"\n  }\n\n  get isCacheable() {\n    return this.cacheControlValue != \"no-cache\"\n  }\n\n  get isVisitable() {\n    return this.getSetting(\"visit-control\") != \"reload\"\n  }\n\n  get prefersViewTransitions() {\n    return this.headSnapshot.getMetaValue(\"view-transition\") === \"same-origin\"\n  }\n\n  get shouldMorphPage() {\n    return this.getSetting(\"refresh-method\") === \"morph\"\n  }\n\n  get shouldPreserveScrollPosition() {\n    return this.getSetting(\"refresh-scroll\") === \"preserve\"\n  }\n\n  // Private\n\n  getSetting(name) {\n    return this.headSnapshot.getMetaValue(`turbo-${name}`)\n  }\n}\n\nclass ViewTransitioner {\n  #viewTransitionStarted = false\n  #lastOperation = Promise.resolve()\n\n  renderChange(useViewTransition, render) {\n    if (useViewTransition && this.viewTransitionsAvailable && !this.#viewTransitionStarted) {\n      this.#viewTransitionStarted = true;\n      this.#lastOperation = this.#lastOperation.then(async () => {\n        await document.startViewTransition(render).finished;\n      });\n    } else {\n      this.#lastOperation = this.#lastOperation.then(render);\n    }\n\n    return this.#lastOperation\n  }\n\n  get viewTransitionsAvailable() {\n    return document.startViewTransition\n  }\n}\n\nconst defaultOptions = {\n  action: \"advance\",\n  historyChanged: false,\n  visitCachedSnapshot: () => {},\n  willRender: true,\n  updateHistory: true,\n  shouldCacheSnapshot: true,\n  acceptsStreamResponse: false\n};\n\nconst TimingMetric = {\n  visitStart: \"visitStart\",\n  requestStart: \"requestStart\",\n  requestEnd: \"requestEnd\",\n  visitEnd: \"visitEnd\"\n};\n\nconst VisitState = {\n  initialized: \"initialized\",\n  started: \"started\",\n  canceled: \"canceled\",\n  failed: \"failed\",\n  completed: \"completed\"\n};\n\nconst SystemStatusCode = {\n  networkFailure: 0,\n  timeoutFailure: -1,\n  contentTypeMismatch: -2\n};\n\nconst Direction = {\n  advance: \"forward\",\n  restore: \"back\",\n  replace: \"none\"\n};\n\nclass Visit {\n  identifier = uuid() // Required by turbo-ios\n  timingMetrics = {}\n\n  followedRedirect = false\n  historyChanged = false\n  scrolled = false\n  shouldCacheSnapshot = true\n  acceptsStreamResponse = false\n  snapshotCached = false\n  state = VisitState.initialized\n  viewTransitioner = new ViewTransitioner()\n\n  constructor(delegate, location, restorationIdentifier, options = {}) {\n    this.delegate = delegate;\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier || uuid();\n\n    const {\n      action,\n      historyChanged,\n      referrer,\n      snapshot,\n      snapshotHTML,\n      response,\n      visitCachedSnapshot,\n      willRender,\n      updateHistory,\n      shouldCacheSnapshot,\n      acceptsStreamResponse,\n      direction\n    } = {\n      ...defaultOptions,\n      ...options\n    };\n    this.action = action;\n    this.historyChanged = historyChanged;\n    this.referrer = referrer;\n    this.snapshot = snapshot;\n    this.snapshotHTML = snapshotHTML;\n    this.response = response;\n    this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);\n    this.isPageRefresh = this.view.isPageRefresh(this);\n    this.visitCachedSnapshot = visitCachedSnapshot;\n    this.willRender = willRender;\n    this.updateHistory = updateHistory;\n    this.scrolled = !willRender;\n    this.shouldCacheSnapshot = shouldCacheSnapshot;\n    this.acceptsStreamResponse = acceptsStreamResponse;\n    this.direction = direction || Direction[action];\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  get restorationData() {\n    return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)\n  }\n\n  get silent() {\n    return this.isSamePage\n  }\n\n  start() {\n    if (this.state == VisitState.initialized) {\n      this.recordTimingMetric(TimingMetric.visitStart);\n      this.state = VisitState.started;\n      this.adapter.visitStarted(this);\n      this.delegate.visitStarted(this);\n    }\n  }\n\n  cancel() {\n    if (this.state == VisitState.started) {\n      if (this.request) {\n        this.request.cancel();\n      }\n      this.cancelRender();\n      this.state = VisitState.canceled;\n    }\n  }\n\n  complete() {\n    if (this.state == VisitState.started) {\n      this.recordTimingMetric(TimingMetric.visitEnd);\n      this.adapter.visitCompleted(this);\n      this.state = VisitState.completed;\n      this.followRedirect();\n\n      if (!this.followedRedirect) {\n        this.delegate.visitCompleted(this);\n      }\n    }\n  }\n\n  fail() {\n    if (this.state == VisitState.started) {\n      this.state = VisitState.failed;\n      this.adapter.visitFailed(this);\n      this.delegate.visitCompleted(this);\n    }\n  }\n\n  changeHistory() {\n    if (!this.historyChanged && this.updateHistory) {\n      const actionForHistory = this.location.href === this.referrer?.href ? \"replace\" : this.action;\n      const method = getHistoryMethodForAction(actionForHistory);\n      this.history.update(method, this.location, this.restorationIdentifier);\n      this.historyChanged = true;\n    }\n  }\n\n  issueRequest() {\n    if (this.hasPreloadedResponse()) {\n      this.simulateRequest();\n    } else if (this.shouldIssueRequest() && !this.request) {\n      this.request = new FetchRequest(this, FetchMethod.get, this.location);\n      this.request.perform();\n    }\n  }\n\n  simulateRequest() {\n    if (this.response) {\n      this.startRequest();\n      this.recordResponse();\n      this.finishRequest();\n    }\n  }\n\n  startRequest() {\n    this.recordTimingMetric(TimingMetric.requestStart);\n    this.adapter.visitRequestStarted(this);\n  }\n\n  recordResponse(response = this.response) {\n    this.response = response;\n    if (response) {\n      const { statusCode } = response;\n      if (isSuccessful(statusCode)) {\n        this.adapter.visitRequestCompleted(this);\n      } else {\n        this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n      }\n    }\n  }\n\n  finishRequest() {\n    this.recordTimingMetric(TimingMetric.requestEnd);\n    this.adapter.visitRequestFinished(this);\n  }\n\n  loadResponse() {\n    if (this.response) {\n      const { statusCode, responseHTML } = this.response;\n      this.render(async () => {\n        if (this.shouldCacheSnapshot) this.cacheSnapshot();\n        if (this.view.renderPromise) await this.view.renderPromise;\n\n        if (isSuccessful(statusCode) && responseHTML != null) {\n          const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n          await this.renderPageSnapshot(snapshot, false);\n\n          this.adapter.visitRendered(this);\n          this.complete();\n        } else {\n          await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);\n          this.adapter.visitRendered(this);\n          this.fail();\n        }\n      });\n    }\n  }\n\n  getCachedSnapshot() {\n    const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n\n    if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n      if (this.action == \"restore\" || snapshot.isPreviewable) {\n        return snapshot\n      }\n    }\n  }\n\n  getPreloadedSnapshot() {\n    if (this.snapshotHTML) {\n      return PageSnapshot.fromHTMLString(this.snapshotHTML)\n    }\n  }\n\n  hasCachedSnapshot() {\n    return this.getCachedSnapshot() != null\n  }\n\n  loadCachedSnapshot() {\n    const snapshot = this.getCachedSnapshot();\n    if (snapshot) {\n      const isPreview = this.shouldIssueRequest();\n      this.render(async () => {\n        this.cacheSnapshot();\n        if (this.isSamePage || this.isPageRefresh) {\n          this.adapter.visitRendered(this);\n        } else {\n          if (this.view.renderPromise) await this.view.renderPromise;\n\n          await this.renderPageSnapshot(snapshot, isPreview);\n\n          this.adapter.visitRendered(this);\n          if (!isPreview) {\n            this.complete();\n          }\n        }\n      });\n    }\n  }\n\n  followRedirect() {\n    if (this.redirectedToLocation && !this.followedRedirect && this.response?.redirected) {\n      this.adapter.visitProposedToLocation(this.redirectedToLocation, {\n        action: \"replace\",\n        response: this.response,\n        shouldCacheSnapshot: false,\n        willRender: false\n      });\n      this.followedRedirect = true;\n    }\n  }\n\n  goToSamePageAnchor() {\n    if (this.isSamePage) {\n      this.render(async () => {\n        this.cacheSnapshot();\n        this.performScroll();\n        this.changeHistory();\n        this.adapter.visitRendered(this);\n      });\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (this.acceptsStreamResponse) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted() {\n    this.startRequest();\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {}\n\n  async requestSucceededWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.redirectedToLocation = response.redirected ? response.location : undefined;\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  async requestFailedWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  requestErrored(_request, _error) {\n    this.recordResponse({\n      statusCode: SystemStatusCode.networkFailure,\n      redirected: false\n    });\n  }\n\n  requestFinished() {\n    this.finishRequest();\n  }\n\n  // Scrolling\n\n  performScroll() {\n    if (!this.scrolled && !this.view.forceReloaded && !this.view.shouldPreserveScrollPosition(this)) {\n      if (this.action == \"restore\") {\n        this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();\n      } else {\n        this.scrollToAnchor() || this.view.scrollToTop();\n      }\n      if (this.isSamePage) {\n        this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);\n      }\n\n      this.scrolled = true;\n    }\n  }\n\n  scrollToRestoredPosition() {\n    const { scrollPosition } = this.restorationData;\n    if (scrollPosition) {\n      this.view.scrollToPosition(scrollPosition);\n      return true\n    }\n  }\n\n  scrollToAnchor() {\n    const anchor = getAnchor(this.location);\n    if (anchor != null) {\n      this.view.scrollToAnchor(anchor);\n      return true\n    }\n  }\n\n  // Instrumentation\n\n  recordTimingMetric(metric) {\n    this.timingMetrics[metric] = new Date().getTime();\n  }\n\n  getTimingMetrics() {\n    return { ...this.timingMetrics }\n  }\n\n  // Private\n\n  hasPreloadedResponse() {\n    return typeof this.response == \"object\"\n  }\n\n  shouldIssueRequest() {\n    if (this.isSamePage) {\n      return false\n    } else if (this.action == \"restore\") {\n      return !this.hasCachedSnapshot()\n    } else {\n      return this.willRender\n    }\n  }\n\n  cacheSnapshot() {\n    if (!this.snapshotCached) {\n      this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));\n      this.snapshotCached = true;\n    }\n  }\n\n  async render(callback) {\n    this.cancelRender();\n    await new Promise((resolve) => {\n      this.frame =\n        document.visibilityState === \"hidden\" ? setTimeout(() => resolve(), 0) : requestAnimationFrame(() => resolve());\n    });\n    await callback();\n    delete this.frame;\n  }\n\n  async renderPageSnapshot(snapshot, isPreview) {\n    await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(snapshot), async () => {\n      await this.view.renderPage(snapshot, isPreview, this.willRender, this);\n      this.performScroll();\n    });\n  }\n\n  cancelRender() {\n    if (this.frame) {\n      cancelAnimationFrame(this.frame);\n      delete this.frame;\n    }\n  }\n}\n\nfunction isSuccessful(statusCode) {\n  return statusCode >= 200 && statusCode < 300\n}\n\nclass BrowserAdapter {\n  progressBar = new ProgressBar()\n\n  constructor(session) {\n    this.session = session;\n  }\n\n  visitProposedToLocation(location, options) {\n    if (locationIsVisitable(location, this.navigator.rootLocation)) {\n      this.navigator.startVisit(location, options?.restorationIdentifier || uuid(), options);\n    } else {\n      window.location.href = location.toString();\n    }\n  }\n\n  visitStarted(visit) {\n    this.location = visit.location;\n    visit.loadCachedSnapshot();\n    visit.issueRequest();\n    visit.goToSamePageAnchor();\n  }\n\n  visitRequestStarted(visit) {\n    this.progressBar.setValue(0);\n    if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n      this.showVisitProgressBarAfterDelay();\n    } else {\n      this.showProgressBar();\n    }\n  }\n\n  visitRequestCompleted(visit) {\n    visit.loadResponse();\n  }\n\n  visitRequestFailedWithStatusCode(visit, statusCode) {\n    switch (statusCode) {\n      case SystemStatusCode.networkFailure:\n      case SystemStatusCode.timeoutFailure:\n      case SystemStatusCode.contentTypeMismatch:\n        return this.reload({\n          reason: \"request_failed\",\n          context: {\n            statusCode\n          }\n        })\n      default:\n        return visit.loadResponse()\n    }\n  }\n\n  visitRequestFinished(_visit) {}\n\n  visitCompleted(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  pageInvalidated(reason) {\n    this.reload(reason);\n  }\n\n  visitFailed(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  visitRendered(_visit) {}\n\n  // Link prefetching\n\n  linkPrefetchingIsEnabledForLocation(location) {\n    return true\n  }\n\n  // Form Submission Delegate\n\n  formSubmissionStarted(_formSubmission) {\n    this.progressBar.setValue(0);\n    this.showFormProgressBarAfterDelay();\n  }\n\n  formSubmissionFinished(_formSubmission) {\n    this.progressBar.setValue(1);\n    this.hideFormProgressBar();\n  }\n\n  // Private\n\n  showVisitProgressBarAfterDelay() {\n    this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n  }\n\n  hideVisitProgressBar() {\n    this.progressBar.hide();\n    if (this.visitProgressBarTimeout != null) {\n      window.clearTimeout(this.visitProgressBarTimeout);\n      delete this.visitProgressBarTimeout;\n    }\n  }\n\n  showFormProgressBarAfterDelay() {\n    if (this.formProgressBarTimeout == null) {\n      this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n  }\n\n  hideFormProgressBar() {\n    this.progressBar.hide();\n    if (this.formProgressBarTimeout != null) {\n      window.clearTimeout(this.formProgressBarTimeout);\n      delete this.formProgressBarTimeout;\n    }\n  }\n\n  showProgressBar = () => {\n    this.progressBar.show();\n  }\n\n  reload(reason) {\n    dispatch(\"turbo:reload\", { detail: reason });\n\n    window.location.href = this.location?.toString() || window.location.href;\n  }\n\n  get navigator() {\n    return this.session.navigator\n  }\n}\n\nclass CacheObserver {\n  selector = \"[data-turbo-temporary]\"\n  deprecatedSelector = \"[data-turbo-cache=false]\"\n\n  started = false\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      addEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      removeEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  removeTemporaryElements = (_event) => {\n    for (const element of this.temporaryElements) {\n      element.remove();\n    }\n  }\n\n  get temporaryElements() {\n    return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation]\n  }\n\n  get temporaryElementsWithDeprecation() {\n    const elements = document.querySelectorAll(this.deprecatedSelector);\n\n    if (elements.length) {\n      console.warn(\n        `The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`\n      );\n    }\n\n    return [...elements]\n  }\n}\n\nclass FrameRedirector {\n  constructor(session, element) {\n    this.session = session;\n    this.element = element;\n    this.linkInterceptor = new LinkInterceptor(this, element);\n    this.formSubmitObserver = new FormSubmitObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n    this.formSubmitObserver.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n    this.formSubmitObserver.stop();\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldRedirect(element)\n  }\n\n  linkClickIntercepted(element, url, event) {\n    const frame = this.#findFrameElement(element);\n    if (frame) {\n      frame.delegate.linkClickIntercepted(element, url, event);\n    }\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return (\n      element.closest(\"turbo-frame\") == null &&\n      this.#shouldSubmit(element, submitter) &&\n      this.#shouldRedirect(element, submitter)\n    )\n  }\n\n  formSubmitted(element, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n    if (frame) {\n      frame.delegate.formSubmitted(element, submitter);\n    }\n  }\n\n  #shouldSubmit(form, submitter) {\n    const action = getAction$1(form, submitter);\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const rootLocation = expandURL(meta?.content ?? \"/\");\n\n    return this.#shouldRedirect(form, submitter) && locationIsVisitable(action, rootLocation)\n  }\n\n  #shouldRedirect(element, submitter) {\n    const isNavigatable =\n      element instanceof HTMLFormElement\n        ? this.session.submissionIsNavigatable(element, submitter)\n        : this.session.elementIsNavigatable(element);\n\n    if (isNavigatable) {\n      const frame = this.#findFrameElement(element, submitter);\n      return frame ? frame != element.closest(\"turbo-frame\") : false\n    } else {\n      return false\n    }\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = submitter?.getAttribute(\"data-turbo-frame\") || element.getAttribute(\"data-turbo-frame\");\n    if (id && id != \"_top\") {\n      const frame = this.element.querySelector(`#${id}:not([disabled])`);\n      if (frame instanceof FrameElement) {\n        return frame\n      }\n    }\n  }\n}\n\nclass History {\n  location\n  restorationIdentifier = uuid()\n  restorationData = {}\n  started = false\n  pageLoaded = false\n  currentIndex = 0\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"popstate\", this.onPopState, false);\n      addEventListener(\"load\", this.onPageLoad, false);\n      this.currentIndex = history.state?.turbo?.restorationIndex || 0;\n      this.started = true;\n      this.replace(new URL(window.location.href));\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"popstate\", this.onPopState, false);\n      removeEventListener(\"load\", this.onPageLoad, false);\n      this.started = false;\n    }\n  }\n\n  push(location, restorationIdentifier) {\n    this.update(history.pushState, location, restorationIdentifier);\n  }\n\n  replace(location, restorationIdentifier) {\n    this.update(history.replaceState, location, restorationIdentifier);\n  }\n\n  update(method, location, restorationIdentifier = uuid()) {\n    if (method === history.pushState) ++this.currentIndex;\n\n    const state = { turbo: { restorationIdentifier, restorationIndex: this.currentIndex } };\n    method.call(history, state, \"\", location.href);\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier;\n  }\n\n  // Restoration data\n\n  getRestorationDataForIdentifier(restorationIdentifier) {\n    return this.restorationData[restorationIdentifier] || {}\n  }\n\n  updateRestorationData(additionalData) {\n    const { restorationIdentifier } = this;\n    const restorationData = this.restorationData[restorationIdentifier];\n    this.restorationData[restorationIdentifier] = {\n      ...restorationData,\n      ...additionalData\n    };\n  }\n\n  // Scroll restoration\n\n  assumeControlOfScrollRestoration() {\n    if (!this.previousScrollRestoration) {\n      this.previousScrollRestoration = history.scrollRestoration ?? \"auto\";\n      history.scrollRestoration = \"manual\";\n    }\n  }\n\n  relinquishControlOfScrollRestoration() {\n    if (this.previousScrollRestoration) {\n      history.scrollRestoration = this.previousScrollRestoration;\n      delete this.previousScrollRestoration;\n    }\n  }\n\n  // Event handlers\n\n  onPopState = (event) => {\n    if (this.shouldHandlePopState()) {\n      const { turbo } = event.state || {};\n      if (turbo) {\n        this.location = new URL(window.location.href);\n        const { restorationIdentifier, restorationIndex } = turbo;\n        this.restorationIdentifier = restorationIdentifier;\n        const direction = restorationIndex > this.currentIndex ? \"forward\" : \"back\";\n        this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location, restorationIdentifier, direction);\n        this.currentIndex = restorationIndex;\n      }\n    }\n  }\n\n  onPageLoad = async (_event) => {\n    await nextMicrotask();\n    this.pageLoaded = true;\n  }\n\n  // Private\n\n  shouldHandlePopState() {\n    // Safari dispatches a popstate event after window's load event, ignore it\n    return this.pageIsLoaded()\n  }\n\n  pageIsLoaded() {\n    return this.pageLoaded || document.readyState == \"complete\"\n  }\n}\n\nclass LinkPrefetchObserver {\n  started = false\n  #prefetchedLink = null\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (this.started) return\n\n    if (this.eventTarget.readyState === \"loading\") {\n      this.eventTarget.addEventListener(\"DOMContentLoaded\", this.#enable, { once: true });\n    } else {\n      this.#enable();\n    }\n  }\n\n  stop() {\n    if (!this.started) return\n\n    this.eventTarget.removeEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.removeEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.removeEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = false;\n  }\n\n  #enable = () => {\n    this.eventTarget.addEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.addEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.addEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = true;\n  }\n\n  #tryToPrefetchRequest = (event) => {\n    if (getMetaContent(\"turbo-prefetch\") === \"false\") return\n\n    const target = event.target;\n    const isLink = target.matches && target.matches(\"a[href]:not([target^=_]):not([download])\");\n\n    if (isLink && this.#isPrefetchable(target)) {\n      const link = target;\n      const location = getLocationForLink(link);\n\n      if (this.delegate.canPrefetchRequestToLocation(link, location)) {\n        this.#prefetchedLink = link;\n\n        const fetchRequest = new FetchRequest(\n          this,\n          FetchMethod.get,\n          location,\n          new URLSearchParams(),\n          target\n        );\n\n        prefetchCache.setLater(location.toString(), fetchRequest, this.#cacheTtl);\n      }\n    }\n  }\n\n  #cancelRequestIfObsolete = (event) => {\n    if (event.target === this.#prefetchedLink) this.#cancelPrefetchRequest();\n  }\n\n  #cancelPrefetchRequest = () => {\n    prefetchCache.clear();\n    this.#prefetchedLink = null;\n  }\n\n  #tryToUsePrefetchedRequest = (event) => {\n    if (event.target.tagName !== \"FORM\" && event.detail.fetchOptions.method === \"GET\") {\n      const cached = prefetchCache.get(event.detail.url.toString());\n\n      if (cached) {\n        // User clicked link, use cache response\n        event.detail.fetchRequest = cached;\n      }\n\n      prefetchCache.clear();\n    }\n  }\n\n  prepareRequest(request) {\n    const link = request.target;\n\n    request.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n\n    const turboFrame = link.closest(\"turbo-frame\");\n    const turboFrameTarget = link.getAttribute(\"data-turbo-frame\") || turboFrame?.getAttribute(\"target\") || turboFrame?.id;\n\n    if (turboFrameTarget && turboFrameTarget !== \"_top\") {\n      request.headers[\"Turbo-Frame\"] = turboFrameTarget;\n    }\n  }\n\n  // Fetch request interface\n\n  requestSucceededWithResponse() {}\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  get #cacheTtl() {\n    return Number(getMetaContent(\"turbo-prefetch-cache-time\")) || cacheTtl\n  }\n\n  #isPrefetchable(link) {\n    const href = link.getAttribute(\"href\");\n\n    if (!href) return false\n\n    if (unfetchableLink(link)) return false\n    if (linkToTheSamePage(link)) return false\n    if (linkOptsOut(link)) return false\n    if (nonSafeLink(link)) return false\n    if (eventPrevented(link)) return false\n\n    return true\n  }\n}\n\nconst unfetchableLink = (link) => {\n  return link.origin !== document.location.origin || ![\"http:\", \"https:\"].includes(link.protocol) || link.hasAttribute(\"target\")\n};\n\nconst linkToTheSamePage = (link) => {\n  return (link.pathname + link.search === document.location.pathname + document.location.search) || link.href.startsWith(\"#\")\n};\n\nconst linkOptsOut = (link) => {\n  if (link.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n  if (link.getAttribute(\"data-turbo\") === \"false\") return true\n\n  const turboPrefetchParent = findClosestRecursively(link, \"[data-turbo-prefetch]\");\n  if (turboPrefetchParent && turboPrefetchParent.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n\n  return false\n};\n\nconst nonSafeLink = (link) => {\n  const turboMethod = link.getAttribute(\"data-turbo-method\");\n  if (turboMethod && turboMethod.toLowerCase() !== \"get\") return true\n\n  if (isUJS(link)) return true\n  if (link.hasAttribute(\"data-turbo-confirm\")) return true\n  if (link.hasAttribute(\"data-turbo-stream\")) return true\n\n  return false\n};\n\nconst isUJS = (link) => {\n  return link.hasAttribute(\"data-remote\") || link.hasAttribute(\"data-behavior\") || link.hasAttribute(\"data-confirm\") || link.hasAttribute(\"data-method\")\n};\n\nconst eventPrevented = (link) => {\n  const event = dispatch(\"turbo:before-prefetch\", { target: link, cancelable: true });\n  return event.defaultPrevented\n};\n\nclass Navigator {\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  proposeVisit(location, options = {}) {\n    if (this.delegate.allowsVisitingLocationWithAction(location, options.action)) {\n      this.delegate.visitProposedToLocation(location, options);\n    }\n  }\n\n  startVisit(locatable, restorationIdentifier, options = {}) {\n    this.stop();\n    this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, {\n      referrer: this.location,\n      ...options\n    });\n    this.currentVisit.start();\n  }\n\n  submitForm(form, submitter) {\n    this.stop();\n    this.formSubmission = new FormSubmission(this, form, submitter, true);\n\n    this.formSubmission.start();\n  }\n\n  stop() {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n      delete this.formSubmission;\n    }\n\n    if (this.currentVisit) {\n      this.currentVisit.cancel();\n      delete this.currentVisit;\n    }\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get rootLocation() {\n    return this.view.snapshot.rootLocation\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted(formSubmission) {\n    // Not all adapters implement formSubmissionStarted\n    if (typeof this.adapter.formSubmissionStarted === \"function\") {\n      this.adapter.formSubmissionStarted(formSubmission);\n    }\n  }\n\n  async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n    if (formSubmission == this.formSubmission) {\n      const responseHTML = await fetchResponse.responseHTML;\n      if (responseHTML) {\n        const shouldCacheSnapshot = formSubmission.isSafe;\n        if (!shouldCacheSnapshot) {\n          this.view.clearSnapshotCache();\n        }\n\n        const { statusCode, redirected } = fetchResponse;\n        const action = this.#getActionForFormSubmission(formSubmission, fetchResponse);\n        const visitOptions = {\n          action,\n          shouldCacheSnapshot,\n          response: { statusCode, responseHTML, redirected }\n        };\n        this.proposeVisit(fetchResponse.location, visitOptions);\n      }\n    }\n  }\n\n  async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    const responseHTML = await fetchResponse.responseHTML;\n\n    if (responseHTML) {\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n      if (fetchResponse.serverError) {\n        await this.view.renderError(snapshot, this.currentVisit);\n      } else {\n        await this.view.renderPage(snapshot, false, true, this.currentVisit);\n      }\n      if(!snapshot.shouldPreserveScrollPosition) {\n        this.view.scrollToTop();\n      }\n      this.view.clearSnapshotCache();\n    }\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished(formSubmission) {\n    // Not all adapters implement formSubmissionFinished\n    if (typeof this.adapter.formSubmissionFinished === \"function\") {\n      this.adapter.formSubmissionFinished(formSubmission);\n    }\n  }\n\n  // Link prefetching\n\n  linkPrefetchingIsEnabledForLocation(location) {\n    // Not all adapters implement linkPrefetchingIsEnabledForLocation\n    if (typeof this.adapter.linkPrefetchingIsEnabledForLocation === \"function\") {\n      return this.adapter.linkPrefetchingIsEnabledForLocation(location)\n    }\n\n    return true\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    this.delegate.visitStarted(visit);\n  }\n\n  visitCompleted(visit) {\n    this.delegate.visitCompleted(visit);\n    delete this.currentVisit;\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    const anchor = getAnchor(location);\n    const currentAnchor = getAnchor(this.view.lastRenderedLocation);\n    const isRestorationToTop = action === \"restore\" && typeof anchor === \"undefined\";\n\n    return (\n      action !== \"replace\" &&\n      getRequestURL(location) === getRequestURL(this.view.lastRenderedLocation) &&\n      (isRestorationToTop || (anchor != null && anchor !== currentAnchor))\n    )\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);\n  }\n\n  // Visits\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  #getActionForFormSubmission(formSubmission, fetchResponse) {\n    const { submitter, formElement } = formSubmission;\n    return getVisitAction(submitter, formElement) || this.#getDefaultAction(fetchResponse)\n  }\n\n  #getDefaultAction(fetchResponse) {\n    const sameLocationRedirect = fetchResponse.redirected && fetchResponse.location.href === this.location?.href;\n    return sameLocationRedirect ? \"replace\" : \"advance\"\n  }\n}\n\nconst PageStage = {\n  initial: 0,\n  loading: 1,\n  interactive: 2,\n  complete: 3\n};\n\nclass PageObserver {\n  stage = PageStage.initial\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      if (this.stage == PageStage.initial) {\n        this.stage = PageStage.loading;\n      }\n      document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n      addEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n      removeEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = false;\n    }\n  }\n\n  interpretReadyState = () => {\n    const { readyState } = this;\n    if (readyState == \"interactive\") {\n      this.pageIsInteractive();\n    } else if (readyState == \"complete\") {\n      this.pageIsComplete();\n    }\n  }\n\n  pageIsInteractive() {\n    if (this.stage == PageStage.loading) {\n      this.stage = PageStage.interactive;\n      this.delegate.pageBecameInteractive();\n    }\n  }\n\n  pageIsComplete() {\n    this.pageIsInteractive();\n    if (this.stage == PageStage.interactive) {\n      this.stage = PageStage.complete;\n      this.delegate.pageLoaded();\n    }\n  }\n\n  pageWillUnload = () => {\n    this.delegate.pageWillUnload();\n  }\n\n  get readyState() {\n    return document.readyState\n  }\n}\n\nclass ScrollObserver {\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"scroll\", this.onScroll, false);\n      this.onScroll();\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"scroll\", this.onScroll, false);\n      this.started = false;\n    }\n  }\n\n  onScroll = () => {\n    this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n  }\n\n  // Private\n\n  updatePosition(position) {\n    this.delegate.scrollPositionChanged(position);\n  }\n}\n\nclass StreamMessageRenderer {\n  render({ fragment }) {\n    Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => {\n      withAutofocusFromFragment(fragment, () => {\n        withPreservedFocus(() => {\n          document.documentElement.appendChild(fragment);\n        });\n      });\n    });\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement, newPermanentElement) {\n    newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));\n  }\n\n  leavingBardo() {}\n}\n\nfunction getPermanentElementMapForFragment(fragment) {\n  const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);\n  const permanentElementMap = {};\n  for (const permanentElementInDocument of permanentElementsInDocument) {\n    const { id } = permanentElementInDocument;\n\n    for (const streamElement of fragment.querySelectorAll(\"turbo-stream\")) {\n      const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);\n\n      if (elementInStream) {\n        permanentElementMap[id] = [permanentElementInDocument, elementInStream];\n      }\n    }\n  }\n\n  return permanentElementMap\n}\n\nasync function withAutofocusFromFragment(fragment, callback) {\n  const generatedID = `turbo-stream-autofocus-${uuid()}`;\n  const turboStreams = fragment.querySelectorAll(\"turbo-stream\");\n  const elementWithAutofocus = firstAutofocusableElementInStreams(turboStreams);\n  let willAutofocusId = null;\n\n  if (elementWithAutofocus) {\n    if (elementWithAutofocus.id) {\n      willAutofocusId = elementWithAutofocus.id;\n    } else {\n      willAutofocusId = generatedID;\n    }\n\n    elementWithAutofocus.id = willAutofocusId;\n  }\n\n  callback();\n  await nextRepaint();\n\n  const hasNoActiveElement = document.activeElement == null || document.activeElement == document.body;\n\n  if (hasNoActiveElement && willAutofocusId) {\n    const elementToAutofocus = document.getElementById(willAutofocusId);\n\n    if (elementIsFocusable(elementToAutofocus)) {\n      elementToAutofocus.focus();\n    }\n    if (elementToAutofocus && elementToAutofocus.id == generatedID) {\n      elementToAutofocus.removeAttribute(\"id\");\n    }\n  }\n}\n\nasync function withPreservedFocus(callback) {\n  const [activeElementBeforeRender, activeElementAfterRender] = await around(callback, () => document.activeElement);\n\n  const restoreFocusTo = activeElementBeforeRender && activeElementBeforeRender.id;\n\n  if (restoreFocusTo) {\n    const elementToFocus = document.getElementById(restoreFocusTo);\n\n    if (elementIsFocusable(elementToFocus) && elementToFocus != activeElementAfterRender) {\n      elementToFocus.focus();\n    }\n  }\n}\n\nfunction firstAutofocusableElementInStreams(nodeListOfStreamElements) {\n  for (const streamElement of nodeListOfStreamElements) {\n    const elementWithAutofocus = queryAutofocusableElement(streamElement.templateElement.content);\n\n    if (elementWithAutofocus) return elementWithAutofocus\n  }\n\n  return null\n}\n\nclass StreamObserver {\n  sources = new Set()\n  #started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.#started) {\n      this.#started = true;\n      addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  stop() {\n    if (this.#started) {\n      this.#started = false;\n      removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  connectStreamSource(source) {\n    if (!this.streamSourceIsConnected(source)) {\n      this.sources.add(source);\n      source.addEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  disconnectStreamSource(source) {\n    if (this.streamSourceIsConnected(source)) {\n      this.sources.delete(source);\n      source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  streamSourceIsConnected(source) {\n    return this.sources.has(source)\n  }\n\n  inspectFetchResponse = (event) => {\n    const response = fetchResponseFromEvent(event);\n    if (response && fetchResponseIsStream(response)) {\n      event.preventDefault();\n      this.receiveMessageResponse(response);\n    }\n  }\n\n  receiveMessageEvent = (event) => {\n    if (this.#started && typeof event.data == \"string\") {\n      this.receiveMessageHTML(event.data);\n    }\n  }\n\n  async receiveMessageResponse(response) {\n    const html = await response.responseHTML;\n    if (html) {\n      this.receiveMessageHTML(html);\n    }\n  }\n\n  receiveMessageHTML(html) {\n    this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));\n  }\n}\n\nfunction fetchResponseFromEvent(event) {\n  const fetchResponse = event.detail?.fetchResponse;\n  if (fetchResponse instanceof FetchResponse) {\n    return fetchResponse\n  }\n}\n\nfunction fetchResponseIsStream(response) {\n  const contentType = response.contentType ?? \"\";\n  return contentType.startsWith(StreamMessage.contentType)\n}\n\nclass ErrorRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const { documentElement, body } = document;\n\n    documentElement.replaceChild(newElement, body);\n  }\n\n  async render() {\n    this.replaceHeadAndBody();\n    this.activateScriptElements();\n  }\n\n  replaceHeadAndBody() {\n    const { documentElement, head } = document;\n    documentElement.replaceChild(this.newHead, head);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  activateScriptElements() {\n    for (const replaceableElement of this.scriptElements) {\n      const parentNode = replaceableElement.parentNode;\n      if (parentNode) {\n        const element = activateScriptElement(replaceableElement);\n        parentNode.replaceChild(element, replaceableElement);\n      }\n    }\n  }\n\n  get newHead() {\n    return this.newSnapshot.headSnapshot.element\n  }\n\n  get scriptElements() {\n    return document.documentElement.querySelectorAll(\"script\")\n  }\n}\n\nclass PageRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    if (document.body && newElement instanceof HTMLBodyElement) {\n      document.body.replaceWith(newElement);\n    } else {\n      document.documentElement.appendChild(newElement);\n    }\n  }\n\n  get shouldRender() {\n    return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical\n  }\n\n  get reloadReason() {\n    if (!this.newSnapshot.isVisitable) {\n      return {\n        reason: \"turbo_visit_control_is_reload\"\n      }\n    }\n\n    if (!this.trackedElementsAreIdentical) {\n      return {\n        reason: \"tracked_element_mismatch\"\n      }\n    }\n  }\n\n  async prepareToRender() {\n    this.#setLanguage();\n    await this.mergeHead();\n  }\n\n  async render() {\n    if (this.willRender) {\n      await this.replaceBody();\n    }\n  }\n\n  finishRendering() {\n    super.finishRendering();\n    if (!this.isPreview) {\n      this.focusFirstAutofocusableElement();\n    }\n  }\n\n  get currentHeadSnapshot() {\n    return this.currentSnapshot.headSnapshot\n  }\n\n  get newHeadSnapshot() {\n    return this.newSnapshot.headSnapshot\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  #setLanguage() {\n    const { documentElement } = this.currentSnapshot;\n    const { lang } = this.newSnapshot;\n\n    if (lang) {\n      documentElement.setAttribute(\"lang\", lang);\n    } else {\n      documentElement.removeAttribute(\"lang\");\n    }\n  }\n\n  async mergeHead() {\n    const mergedHeadElements = this.mergeProvisionalElements();\n    const newStylesheetElements = this.copyNewHeadStylesheetElements();\n    this.copyNewHeadScriptElements();\n\n    await mergedHeadElements;\n    await newStylesheetElements;\n\n    if (this.willRender) {\n      this.removeUnusedDynamicStylesheetElements();\n    }\n  }\n\n  async replaceBody() {\n    await this.preservingPermanentElements(async () => {\n      this.activateNewBody();\n      await this.assignNewBody();\n    });\n  }\n\n  get trackedElementsAreIdentical() {\n    return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature\n  }\n\n  async copyNewHeadStylesheetElements() {\n    const loadingElements = [];\n\n    for (const element of this.newHeadStylesheetElements) {\n      loadingElements.push(waitForLoad(element));\n\n      document.head.appendChild(element);\n    }\n\n    await Promise.all(loadingElements);\n  }\n\n  copyNewHeadScriptElements() {\n    for (const element of this.newHeadScriptElements) {\n      document.head.appendChild(activateScriptElement(element));\n    }\n  }\n\n  removeUnusedDynamicStylesheetElements() {\n    for (const element of this.unusedDynamicStylesheetElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  async mergeProvisionalElements() {\n    const newHeadElements = [...this.newHeadProvisionalElements];\n\n    for (const element of this.currentHeadProvisionalElements) {\n      if (!this.isCurrentElementInElementList(element, newHeadElements)) {\n        document.head.removeChild(element);\n      }\n    }\n\n    for (const element of newHeadElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  isCurrentElementInElementList(element, elementList) {\n    for (const [index, newElement] of elementList.entries()) {\n      // if title element...\n      if (element.tagName == \"TITLE\") {\n        if (newElement.tagName != \"TITLE\") {\n          continue\n        }\n        if (element.innerHTML == newElement.innerHTML) {\n          elementList.splice(index, 1);\n          return true\n        }\n      }\n\n      // if any other element...\n      if (newElement.isEqualNode(element)) {\n        elementList.splice(index, 1);\n        return true\n      }\n    }\n\n    return false\n  }\n\n  removeCurrentHeadProvisionalElements() {\n    for (const element of this.currentHeadProvisionalElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  copyNewHeadProvisionalElements() {\n    for (const element of this.newHeadProvisionalElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  activateNewBody() {\n    document.adoptNode(this.newElement);\n    this.activateNewBodyScriptElements();\n  }\n\n  activateNewBodyScriptElements() {\n    for (const inertScriptElement of this.newBodyScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  async assignNewBody() {\n    await this.renderElement(this.currentElement, this.newElement);\n  }\n\n  get unusedDynamicStylesheetElements() {\n    return this.oldHeadStylesheetElements.filter((element) => {\n      return element.getAttribute(\"data-turbo-track\") === \"dynamic\"\n    })\n  }\n\n  get oldHeadStylesheetElements() {\n    return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)\n  }\n\n  get newHeadStylesheetElements() {\n    return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get newHeadScriptElements() {\n    return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get currentHeadProvisionalElements() {\n    return this.currentHeadSnapshot.provisionalElements\n  }\n\n  get newHeadProvisionalElements() {\n    return this.newHeadSnapshot.provisionalElements\n  }\n\n  get newBodyScriptElements() {\n    return this.newElement.querySelectorAll(\"script\")\n  }\n}\n\nclass MorphingPageRenderer extends PageRenderer {\n  static renderElement(currentElement, newElement) {\n    morphElements(currentElement, newElement, {\n      callbacks: {\n        beforeNodeMorphed: element => !canRefreshFrame(element)\n      }\n    });\n\n    for (const frame of currentElement.querySelectorAll(\"turbo-frame\")) {\n      if (canRefreshFrame(frame)) frame.reload();\n    }\n\n    dispatch(\"turbo:morph\", { detail: { currentElement, newElement } });\n  }\n\n  async preservingPermanentElements(callback) {\n    return await callback()\n  }\n\n  get renderMethod() {\n    return \"morph\"\n  }\n\n  get shouldAutofocus() {\n    return false\n  }\n}\n\nfunction canRefreshFrame(frame) {\n  return frame instanceof FrameElement &&\n    frame.src &&\n    frame.refresh === \"morph\" &&\n    !frame.closest(\"[data-turbo-permanent]\")\n}\n\nclass SnapshotCache {\n  keys = []\n  snapshots = {}\n\n  constructor(size) {\n    this.size = size;\n  }\n\n  has(location) {\n    return toCacheKey(location) in this.snapshots\n  }\n\n  get(location) {\n    if (this.has(location)) {\n      const snapshot = this.read(location);\n      this.touch(location);\n      return snapshot\n    }\n  }\n\n  put(location, snapshot) {\n    this.write(location, snapshot);\n    this.touch(location);\n    return snapshot\n  }\n\n  clear() {\n    this.snapshots = {};\n  }\n\n  // Private\n\n  read(location) {\n    return this.snapshots[toCacheKey(location)]\n  }\n\n  write(location, snapshot) {\n    this.snapshots[toCacheKey(location)] = snapshot;\n  }\n\n  touch(location) {\n    const key = toCacheKey(location);\n    const index = this.keys.indexOf(key);\n    if (index > -1) this.keys.splice(index, 1);\n    this.keys.unshift(key);\n    this.trim();\n  }\n\n  trim() {\n    for (const key of this.keys.splice(this.size)) {\n      delete this.snapshots[key];\n    }\n  }\n}\n\nclass PageView extends View {\n  snapshotCache = new SnapshotCache(10)\n  lastRenderedLocation = new URL(location.href)\n  forceReloaded = false\n\n  shouldTransitionTo(newSnapshot) {\n    return this.snapshot.prefersViewTransitions && newSnapshot.prefersViewTransitions\n  }\n\n  renderPage(snapshot, isPreview = false, willRender = true, visit) {\n    const shouldMorphPage = this.isPageRefresh(visit) && this.snapshot.shouldMorphPage;\n    const rendererClass = shouldMorphPage ? MorphingPageRenderer : PageRenderer;\n\n    const renderer = new rendererClass(this.snapshot, snapshot, isPreview, willRender);\n\n    if (!renderer.shouldRender) {\n      this.forceReloaded = true;\n    } else {\n      visit?.changeHistory();\n    }\n\n    return this.render(renderer)\n  }\n\n  renderError(snapshot, visit) {\n    visit?.changeHistory();\n    const renderer = new ErrorRenderer(this.snapshot, snapshot, false);\n    return this.render(renderer)\n  }\n\n  clearSnapshotCache() {\n    this.snapshotCache.clear();\n  }\n\n  async cacheSnapshot(snapshot = this.snapshot) {\n    if (snapshot.isCacheable) {\n      this.delegate.viewWillCacheSnapshot();\n      const { lastRenderedLocation: location } = this;\n      await nextEventLoopTick();\n      const cachedSnapshot = snapshot.clone();\n      this.snapshotCache.put(location, cachedSnapshot);\n      return cachedSnapshot\n    }\n  }\n\n  getCachedSnapshotForLocation(location) {\n    return this.snapshotCache.get(location)\n  }\n\n  isPageRefresh(visit) {\n    return !visit || (this.lastRenderedLocation.pathname === visit.location.pathname && visit.action === \"replace\")\n  }\n\n  shouldPreserveScrollPosition(visit) {\n    return this.isPageRefresh(visit) && this.snapshot.shouldPreserveScrollPosition\n  }\n\n  get snapshot() {\n    return PageSnapshot.fromElement(this.element)\n  }\n}\n\nclass Preloader {\n  selector = \"a[data-turbo-preload]\"\n\n  constructor(delegate, snapshotCache) {\n    this.delegate = delegate;\n    this.snapshotCache = snapshotCache;\n  }\n\n  start() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", this.#preloadAll);\n    } else {\n      this.preloadOnLoadLinksForView(document.body);\n    }\n  }\n\n  stop() {\n    document.removeEventListener(\"DOMContentLoaded\", this.#preloadAll);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    for (const link of element.querySelectorAll(this.selector)) {\n      if (this.delegate.shouldPreloadLink(link)) {\n        this.preloadURL(link);\n      }\n    }\n  }\n\n  async preloadURL(link) {\n    const location = new URL(link.href);\n\n    if (this.snapshotCache.has(location)) {\n      return\n    }\n\n    const fetchRequest = new FetchRequest(this, FetchMethod.get, location, new URLSearchParams(), link);\n    await fetchRequest.perform();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(fetchRequest) {\n    fetchRequest.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n  }\n\n  async requestSucceededWithResponse(fetchRequest, fetchResponse) {\n    try {\n      const responseHTML = await fetchResponse.responseHTML;\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n\n      this.snapshotCache.put(fetchRequest.url, snapshot);\n    } catch (_) {\n      // If we cannot preload that is ok!\n    }\n  }\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  #preloadAll = () => {\n    this.preloadOnLoadLinksForView(document.body);\n  }\n}\n\nclass Cache {\n  constructor(session) {\n    this.session = session;\n  }\n\n  clear() {\n    this.session.clearCache();\n  }\n\n  resetCacheControl() {\n    this.#setCacheControl(\"\");\n  }\n\n  exemptPageFromCache() {\n    this.#setCacheControl(\"no-cache\");\n  }\n\n  exemptPageFromPreview() {\n    this.#setCacheControl(\"no-preview\");\n  }\n\n  #setCacheControl(value) {\n    setMetaContent(\"turbo-cache-control\", value);\n  }\n}\n\nclass Session {\n  navigator = new Navigator(this)\n  history = new History(this)\n  view = new PageView(this, document.documentElement)\n  adapter = new BrowserAdapter(this)\n\n  pageObserver = new PageObserver(this)\n  cacheObserver = new CacheObserver()\n  linkPrefetchObserver = new LinkPrefetchObserver(this, document)\n  linkClickObserver = new LinkClickObserver(this, window)\n  formSubmitObserver = new FormSubmitObserver(this, document)\n  scrollObserver = new ScrollObserver(this)\n  streamObserver = new StreamObserver(this)\n  formLinkClickObserver = new FormLinkClickObserver(this, document.documentElement)\n  frameRedirector = new FrameRedirector(this, document.documentElement)\n  streamMessageRenderer = new StreamMessageRenderer()\n  cache = new Cache(this)\n\n  enabled = true\n  started = false\n  #pageRefreshDebouncePeriod = 150\n\n  constructor(recentRequests) {\n    this.recentRequests = recentRequests;\n    this.preloader = new Preloader(this, this.view.snapshotCache);\n    this.debouncedRefresh = this.refresh;\n    this.pageRefreshDebouncePeriod = this.pageRefreshDebouncePeriod;\n  }\n\n  start() {\n    if (!this.started) {\n      this.pageObserver.start();\n      this.cacheObserver.start();\n      this.linkPrefetchObserver.start();\n      this.formLinkClickObserver.start();\n      this.linkClickObserver.start();\n      this.formSubmitObserver.start();\n      this.scrollObserver.start();\n      this.streamObserver.start();\n      this.frameRedirector.start();\n      this.history.start();\n      this.preloader.start();\n      this.started = true;\n      this.enabled = true;\n    }\n  }\n\n  disable() {\n    this.enabled = false;\n  }\n\n  stop() {\n    if (this.started) {\n      this.pageObserver.stop();\n      this.cacheObserver.stop();\n      this.linkPrefetchObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkClickObserver.stop();\n      this.formSubmitObserver.stop();\n      this.scrollObserver.stop();\n      this.streamObserver.stop();\n      this.frameRedirector.stop();\n      this.history.stop();\n      this.preloader.stop();\n      this.started = false;\n    }\n  }\n\n  registerAdapter(adapter) {\n    this.adapter = adapter;\n  }\n\n  visit(location, options = {}) {\n    const frameElement = options.frame ? document.getElementById(options.frame) : null;\n\n    if (frameElement instanceof FrameElement) {\n      const action = options.action || getVisitAction(frameElement);\n\n      frameElement.delegate.proposeVisitIfNavigatedWithAction(frameElement, action);\n      frameElement.src = location.toString();\n    } else {\n      this.navigator.proposeVisit(expandURL(location), options);\n    }\n  }\n\n  refresh(url, requestId) {\n    const isRecentRequest = requestId && this.recentRequests.has(requestId);\n    const isCurrentUrl = url === document.baseURI;\n    if (!isRecentRequest && !this.navigator.currentVisit && isCurrentUrl) {\n      this.visit(url, { action: \"replace\", shouldCacheSnapshot: false });\n    }\n  }\n\n  connectStreamSource(source) {\n    this.streamObserver.connectStreamSource(source);\n  }\n\n  disconnectStreamSource(source) {\n    this.streamObserver.disconnectStreamSource(source);\n  }\n\n  renderStreamMessage(message) {\n    this.streamMessageRenderer.render(StreamMessage.wrap(message));\n  }\n\n  clearCache() {\n    this.view.clearSnapshotCache();\n  }\n\n  setProgressBarDelay(delay) {\n    console.warn(\n      \"Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`\"\n    );\n\n    this.progressBarDelay = delay;\n  }\n\n  set progressBarDelay(delay) {\n    config.drive.progressBarDelay = delay;\n  }\n\n  get progressBarDelay() {\n    return config.drive.progressBarDelay\n  }\n\n  set drive(value) {\n    config.drive.enabled = value;\n  }\n\n  get drive() {\n    return config.drive.enabled\n  }\n\n  set formMode(value) {\n    config.forms.mode = value;\n  }\n\n  get formMode() {\n    return config.forms.mode\n  }\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  get pageRefreshDebouncePeriod() {\n    return this.#pageRefreshDebouncePeriod\n  }\n\n  set pageRefreshDebouncePeriod(value) {\n    this.refresh = debounce(this.debouncedRefresh.bind(this), value);\n    this.#pageRefreshDebouncePeriod = value;\n  }\n\n  // Preloader delegate\n\n  shouldPreloadLink(element) {\n    const isUnsafe = element.hasAttribute(\"data-turbo-method\");\n    const isStream = element.hasAttribute(\"data-turbo-stream\");\n    const frameTarget = element.getAttribute(\"data-turbo-frame\");\n    const frame = frameTarget == \"_top\" ?\n      null :\n      document.getElementById(frameTarget) || findClosestRecursively(element, \"turbo-frame:not([disabled])\");\n\n    if (isUnsafe || isStream || frame instanceof FrameElement) {\n      return false\n    } else {\n      const location = new URL(element.href);\n\n      return this.elementIsNavigatable(element) && locationIsVisitable(location, this.snapshot.rootLocation)\n    }\n  }\n\n  // History delegate\n\n  historyPoppedToLocationWithRestorationIdentifierAndDirection(location, restorationIdentifier, direction) {\n    if (this.enabled) {\n      this.navigator.startVisit(location, restorationIdentifier, {\n        action: \"restore\",\n        historyChanged: true,\n        direction\n      });\n    } else {\n      this.adapter.pageInvalidated({\n        reason: \"turbo_disabled\"\n      });\n    }\n  }\n\n  // Scroll observer delegate\n\n  scrollPositionChanged(position) {\n    this.history.updateRestorationData({ scrollPosition: position });\n  }\n\n  // Form click observer delegate\n\n  willSubmitFormLinkToLocation(link, location) {\n    return this.elementIsNavigatable(link) && locationIsVisitable(location, this.snapshot.rootLocation)\n  }\n\n  submittedFormLinkToLocation() {}\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return (\n      this.elementIsNavigatable(link) &&\n      locationIsVisitable(location, this.snapshot.rootLocation) &&\n      this.navigator.linkPrefetchingIsEnabledForLocation(location)\n    )\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, event) {\n    return (\n      this.elementIsNavigatable(link) &&\n      locationIsVisitable(location, this.snapshot.rootLocation) &&\n      this.applicationAllowsFollowingLinkToLocation(link, location, event)\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const action = this.getActionForLink(link);\n    const acceptsStreamResponse = link.hasAttribute(\"data-turbo-stream\");\n\n    this.visit(location.href, { action, acceptsStreamResponse });\n  }\n\n  // Navigator delegate\n\n  allowsVisitingLocationWithAction(location, action) {\n    return this.locationWithActionIsSamePage(location, action) || this.applicationAllowsVisitingLocation(location)\n  }\n\n  visitProposedToLocation(location, options) {\n    extendURLWithDeprecatedProperties(location);\n    this.adapter.visitProposedToLocation(location, options);\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    if (!visit.acceptsStreamResponse) {\n      markAsBusy(document.documentElement);\n      this.view.markVisitDirection(visit.direction);\n    }\n    extendURLWithDeprecatedProperties(visit.location);\n    if (!visit.silent) {\n      this.notifyApplicationAfterVisitingLocation(visit.location, visit.action);\n    }\n  }\n\n  visitCompleted(visit) {\n    this.view.unmarkVisitDirection();\n    clearBusyState(document.documentElement);\n    this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    return this.navigator.locationWithActionIsSamePage(location, action)\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return (\n      this.submissionIsNavigatable(form, submitter) &&\n      locationIsVisitable(expandURL(action), this.snapshot.rootLocation)\n    )\n  }\n\n  formSubmitted(form, submitter) {\n    this.navigator.submitForm(form, submitter);\n  }\n\n  // Page observer delegate\n\n  pageBecameInteractive() {\n    this.view.lastRenderedLocation = this.location;\n    this.notifyApplicationAfterPageLoad();\n  }\n\n  pageLoaded() {\n    this.history.assumeControlOfScrollRestoration();\n  }\n\n  pageWillUnload() {\n    this.history.relinquishControlOfScrollRestoration();\n  }\n\n  // Stream observer delegate\n\n  receivedMessageFromStream(message) {\n    this.renderStreamMessage(message);\n  }\n\n  // Page view delegate\n\n  viewWillCacheSnapshot() {\n    if (!this.navigator.currentVisit?.silent) {\n      this.notifyApplicationBeforeCachingSnapshot();\n    }\n  }\n\n  allowsImmediateRender({ element }, options) {\n    const event = this.notifyApplicationBeforeRender(element, options);\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, renderMethod) {\n    this.view.lastRenderedLocation = this.history.location;\n    this.notifyApplicationAfterRender(renderMethod);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    this.preloader.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated(reason) {\n    this.adapter.pageInvalidated(reason);\n  }\n\n  // Frame element\n\n  frameLoaded(frame) {\n    this.notifyApplicationAfterFrameLoad(frame);\n  }\n\n  frameRendered(fetchResponse, frame) {\n    this.notifyApplicationAfterFrameRender(fetchResponse, frame);\n  }\n\n  // Application events\n\n  applicationAllowsFollowingLinkToLocation(link, location, ev) {\n    const event = this.notifyApplicationAfterClickingLinkToLocation(link, location, ev);\n    return !event.defaultPrevented\n  }\n\n  applicationAllowsVisitingLocation(location) {\n    const event = this.notifyApplicationBeforeVisitingLocation(location);\n    return !event.defaultPrevented\n  }\n\n  notifyApplicationAfterClickingLinkToLocation(link, location, event) {\n    return dispatch(\"turbo:click\", {\n      target: link,\n      detail: { url: location.href, originalEvent: event },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationBeforeVisitingLocation(location) {\n    return dispatch(\"turbo:before-visit\", {\n      detail: { url: location.href },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterVisitingLocation(location, action) {\n    return dispatch(\"turbo:visit\", { detail: { url: location.href, action } })\n  }\n\n  notifyApplicationBeforeCachingSnapshot() {\n    return dispatch(\"turbo:before-cache\")\n  }\n\n  notifyApplicationBeforeRender(newBody, options) {\n    return dispatch(\"turbo:before-render\", {\n      detail: { newBody, ...options },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterRender(renderMethod) {\n    return dispatch(\"turbo:render\", { detail: { renderMethod } })\n  }\n\n  notifyApplicationAfterPageLoad(timing = {}) {\n    return dispatch(\"turbo:load\", {\n      detail: { url: this.location.href, timing }\n    })\n  }\n\n  notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {\n    dispatchEvent(\n      new HashChangeEvent(\"hashchange\", {\n        oldURL: oldURL.toString(),\n        newURL: newURL.toString()\n      })\n    );\n  }\n\n  notifyApplicationAfterFrameLoad(frame) {\n    return dispatch(\"turbo:frame-load\", { target: frame })\n  }\n\n  notifyApplicationAfterFrameRender(fetchResponse, frame) {\n    return dispatch(\"turbo:frame-render\", {\n      detail: { fetchResponse },\n      target: frame,\n      cancelable: true\n    })\n  }\n\n  // Helpers\n\n  submissionIsNavigatable(form, submitter) {\n    if (config.forms.mode == \"off\") {\n      return false\n    } else {\n      const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;\n\n      if (config.forms.mode == \"optin\") {\n        return submitterIsNavigatable && form.closest('[data-turbo=\"true\"]') != null\n      } else {\n        return submitterIsNavigatable && this.elementIsNavigatable(form)\n      }\n    }\n  }\n\n  elementIsNavigatable(element) {\n    const container = findClosestRecursively(element, \"[data-turbo]\");\n    const withinFrame = findClosestRecursively(element, \"turbo-frame\");\n\n    // Check if Drive is enabled on the session or we're within a Frame.\n    if (config.drive.enabled || withinFrame) {\n      // Element is navigatable by default, unless `data-turbo=\"false\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") != \"false\"\n      } else {\n        return true\n      }\n    } else {\n      // Element isn't navigatable by default, unless `data-turbo=\"true\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") == \"true\"\n      } else {\n        return false\n      }\n    }\n  }\n\n  // Private\n\n  getActionForLink(link) {\n    return getVisitAction(link) || \"advance\"\n  }\n\n  get snapshot() {\n    return this.view.snapshot\n  }\n}\n\n// Older versions of the Turbo Native adapters referenced the\n// `Location#absoluteURL` property in their implementations of\n// the `Adapter#visitProposedToLocation()` and `#visitStarted()`\n// methods. The Location class has since been removed in favor\n// of the DOM URL API, and accordingly all Adapter methods now\n// receive URL objects.\n//\n// We alias #absoluteURL to #toString() here to avoid crashing\n// older adapters which do not expect URL objects. We should\n// consider removing this support at some point in the future.\n\nfunction extendURLWithDeprecatedProperties(url) {\n  Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\n\nconst deprecatedLocationPropertyDescriptors = {\n  absoluteURL: {\n    get() {\n      return this.toString()\n    }\n  }\n};\n\nconst session = new Session(recentRequests);\nconst { cache, navigator: navigator$1 } = session;\n\n/**\n * Starts the main session.\n * This initialises any necessary observers such as those to monitor\n * link interactions.\n */\nfunction start() {\n  session.start();\n}\n\n/**\n * Registers an adapter for the main session.\n *\n * @param adapter Adapter to register\n */\nfunction registerAdapter(adapter) {\n  session.registerAdapter(adapter);\n}\n\n/**\n * Performs an application visit to the given location.\n *\n * @param location Location to visit (a URL or path)\n * @param options Options to apply\n * @param options.action Type of history navigation to apply (\"restore\",\n * \"replace\" or \"advance\")\n * @param options.historyChanged Specifies whether the browser history has\n * already been changed for this visit or not\n * @param options.referrer Specifies the referrer of this visit such that\n * navigations to the same page will not result in a new history entry.\n * @param options.snapshotHTML Cached snapshot to render\n * @param options.response Response of the specified location\n */\nfunction visit(location, options) {\n  session.visit(location, options);\n}\n\n/**\n * Connects a stream source to the main session.\n *\n * @param source Stream source to connect\n */\nfunction connectStreamSource(source) {\n  session.connectStreamSource(source);\n}\n\n/**\n * Disconnects a stream source from the main session.\n *\n * @param source Stream source to disconnect\n */\nfunction disconnectStreamSource(source) {\n  session.disconnectStreamSource(source);\n}\n\n/**\n * Renders a stream message to the main session by appending it to the\n * current document.\n *\n * @param message Message to render\n */\nfunction renderStreamMessage(message) {\n  session.renderStreamMessage(message);\n}\n\n/**\n * Removes all entries from the Turbo Drive page cache.\n * Call this when state has changed on the server that may affect cached pages.\n *\n * @deprecated since version 7.2.0 in favor of `Turbo.cache.clear()`\n */\nfunction clearCache() {\n  console.warn(\n    \"Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  session.clearCache();\n}\n\n/**\n * Sets the delay after which the progress bar will appear during navigation.\n *\n * The progress bar appears after 500ms by default.\n *\n * Note that this method has no effect when used with the iOS or Android\n * adapters.\n *\n * @param delay Time to delay in milliseconds\n */\nfunction setProgressBarDelay(delay) {\n  console.warn(\n    \"Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.drive.progressBarDelay = delay;\n}\n\nfunction setConfirmMethod(confirmMethod) {\n  console.warn(\n    \"Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.forms.confirm = confirmMethod;\n}\n\nfunction setFormMode(mode) {\n  console.warn(\n    \"Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.forms.mode = mode;\n}\n\nvar Turbo = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  navigator: navigator$1,\n  session: session,\n  cache: cache,\n  PageRenderer: PageRenderer,\n  PageSnapshot: PageSnapshot,\n  FrameRenderer: FrameRenderer,\n  fetch: fetchWithTurboHeaders,\n  config: config,\n  start: start,\n  registerAdapter: registerAdapter,\n  visit: visit,\n  connectStreamSource: connectStreamSource,\n  disconnectStreamSource: disconnectStreamSource,\n  renderStreamMessage: renderStreamMessage,\n  clearCache: clearCache,\n  setProgressBarDelay: setProgressBarDelay,\n  setConfirmMethod: setConfirmMethod,\n  setFormMode: setFormMode\n});\n\nclass TurboFrameMissingError extends Error {}\n\nclass FrameController {\n  fetchResponseLoaded = (_fetchResponse) => Promise.resolve()\n  #currentFetchRequest = null\n  #resolveVisitPromise = () => {}\n  #connected = false\n  #hasBeenLoaded = false\n  #ignoredAttributes = new Set()\n  #shouldMorphFrame = false\n  action = null\n\n  constructor(element) {\n    this.element = element;\n    this.view = new FrameView(this, this.element);\n    this.appearanceObserver = new AppearanceObserver(this, this.element);\n    this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);\n    this.linkInterceptor = new LinkInterceptor(this, this.element);\n    this.restorationIdentifier = uuid();\n    this.formSubmitObserver = new FormSubmitObserver(this, this.element);\n  }\n\n  // Frame delegate\n\n  connect() {\n    if (!this.#connected) {\n      this.#connected = true;\n      if (this.loadingStyle == FrameLoadingStyle.lazy) {\n        this.appearanceObserver.start();\n      } else {\n        this.#loadSourceURL();\n      }\n      this.formLinkClickObserver.start();\n      this.linkInterceptor.start();\n      this.formSubmitObserver.start();\n    }\n  }\n\n  disconnect() {\n    if (this.#connected) {\n      this.#connected = false;\n      this.appearanceObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkInterceptor.stop();\n      this.formSubmitObserver.stop();\n    }\n  }\n\n  disabledChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.eager) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLChanged() {\n    if (this.#isIgnoringChangesTo(\"src\")) return\n\n    if (this.element.isConnected) {\n      this.complete = false;\n    }\n\n    if (this.loadingStyle == FrameLoadingStyle.eager || this.#hasBeenLoaded) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLReloaded() {\n    const { refresh, src } = this.element;\n\n    this.#shouldMorphFrame = src && refresh === \"morph\";\n\n    this.element.removeAttribute(\"complete\");\n    this.element.src = null;\n    this.element.src = src;\n    return this.element.loaded\n  }\n\n  loadingStyleChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.lazy) {\n      this.appearanceObserver.start();\n    } else {\n      this.appearanceObserver.stop();\n      this.#loadSourceURL();\n    }\n  }\n\n  async #loadSourceURL() {\n    if (this.enabled && this.isActive && !this.complete && this.sourceURL) {\n      this.element.loaded = this.#visit(expandURL(this.sourceURL));\n      this.appearanceObserver.stop();\n      await this.element.loaded;\n      this.#hasBeenLoaded = true;\n    }\n  }\n\n  async loadResponse(fetchResponse) {\n    if (fetchResponse.redirected || (fetchResponse.succeeded && fetchResponse.isHTML)) {\n      this.sourceURL = fetchResponse.response.url;\n    }\n\n    try {\n      const html = await fetchResponse.responseHTML;\n      if (html) {\n        const document = parseHTMLDocument(html);\n        const pageSnapshot = PageSnapshot.fromDocument(document);\n\n        if (pageSnapshot.isVisitable) {\n          await this.#loadFrameResponse(fetchResponse, document);\n        } else {\n          await this.#handleUnvisitableFrameResponse(fetchResponse);\n        }\n      }\n    } finally {\n      this.#shouldMorphFrame = false;\n      this.fetchResponseLoaded = () => Promise.resolve();\n    }\n  }\n\n  // Appearance observer delegate\n\n  elementAppearedInViewport(element) {\n    this.proposeVisitIfNavigatedWithAction(element, getVisitAction(element));\n    this.#loadSourceURL();\n  }\n\n  // Form link click observer delegate\n\n  willSubmitFormLinkToLocation(link) {\n    return this.#shouldInterceptNavigation(link)\n  }\n\n  submittedFormLinkToLocation(link, _location, form) {\n    const frame = this.#findFrameElement(link);\n    if (frame) form.setAttribute(\"data-turbo-frame\", frame.id);\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldInterceptNavigation(element)\n  }\n\n  linkClickIntercepted(element, location) {\n    this.#navigateFrame(element, location);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return element.closest(\"turbo-frame\") == this.element && this.#shouldInterceptNavigation(element, submitter)\n  }\n\n  formSubmitted(element, submitter) {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n    }\n\n    this.formSubmission = new FormSubmission(this, element, submitter);\n    const { fetchRequest } = this.formSubmission;\n    this.prepareRequest(fetchRequest);\n    this.formSubmission.start();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    request.headers[\"Turbo-Frame\"] = this.id;\n\n    if (this.currentNavigationElement?.hasAttribute(\"data-turbo-stream\")) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    markAsBusy(this.element);\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {\n    this.#resolveVisitPromise();\n  }\n\n  async requestSucceededWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  async requestFailedWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  requestErrored(request, error) {\n    console.error(error);\n    this.#resolveVisitPromise();\n  }\n\n  requestFinished(_request) {\n    clearBusyState(this.element);\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted({ formElement }) {\n    markAsBusy(formElement, this.#findFrameElement(formElement));\n  }\n\n  formSubmissionSucceededWithResponse(formSubmission, response) {\n    const frame = this.#findFrameElement(formSubmission.formElement, formSubmission.submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(formSubmission.submitter, formSubmission.formElement, frame));\n    frame.delegate.loadResponse(response);\n\n    if (!formSubmission.isSafe) {\n      session.clearCache();\n    }\n  }\n\n  formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    this.element.delegate.loadResponse(fetchResponse);\n    session.clearCache();\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished({ formElement }) {\n    clearBusyState(formElement, this.#findFrameElement(formElement));\n  }\n\n  // View delegate\n\n  allowsImmediateRender({ element: newFrame }, options) {\n    const event = dispatch(\"turbo:before-frame-render\", {\n      target: this.element,\n      detail: { newFrame, ...options },\n      cancelable: true\n    });\n\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, _renderMethod) {}\n\n  preloadOnLoadLinksForView(element) {\n    session.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated() {}\n\n  // Frame renderer delegate\n\n  willRenderFrame(currentElement, _newElement) {\n    this.previousFrameElement = currentElement.cloneNode(true);\n  }\n\n  visitCachedSnapshot = ({ element }) => {\n    const frame = element.querySelector(\"#\" + this.element.id);\n\n    if (frame && this.previousFrameElement) {\n      frame.replaceChildren(...this.previousFrameElement.children);\n    }\n\n    delete this.previousFrameElement;\n  }\n\n  // Private\n\n  async #loadFrameResponse(fetchResponse, document) {\n    const newFrameElement = await this.extractForeignFrameElement(document.body);\n    const rendererClass = this.#shouldMorphFrame ? MorphingFrameRenderer : FrameRenderer;\n\n    if (newFrameElement) {\n      const snapshot = new Snapshot(newFrameElement);\n      const renderer = new rendererClass(this, this.view.snapshot, snapshot, false, false);\n      if (this.view.renderPromise) await this.view.renderPromise;\n      this.changeHistory();\n\n      await this.view.render(renderer);\n      this.complete = true;\n      session.frameRendered(fetchResponse, this.element);\n      session.frameLoaded(this.element);\n      await this.fetchResponseLoaded(fetchResponse);\n    } else if (this.#willHandleFrameMissingFromResponse(fetchResponse)) {\n      this.#handleFrameMissingFromResponse(fetchResponse);\n    }\n  }\n\n  async #visit(url) {\n    const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);\n\n    this.#currentFetchRequest?.cancel();\n    this.#currentFetchRequest = request;\n\n    return new Promise((resolve) => {\n      this.#resolveVisitPromise = () => {\n        this.#resolveVisitPromise = () => {};\n        this.#currentFetchRequest = null;\n        resolve();\n      };\n      request.perform();\n    })\n  }\n\n  #navigateFrame(element, url, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(submitter, element, frame));\n\n    this.#withCurrentNavigationElement(element, () => {\n      frame.src = url;\n    });\n  }\n\n  proposeVisitIfNavigatedWithAction(frame, action = null) {\n    this.action = action;\n\n    if (this.action) {\n      const pageSnapshot = PageSnapshot.fromElement(frame).clone();\n      const { visitCachedSnapshot } = frame.delegate;\n\n      frame.delegate.fetchResponseLoaded = async (fetchResponse) => {\n        if (frame.src) {\n          const { statusCode, redirected } = fetchResponse;\n          const responseHTML = await fetchResponse.responseHTML;\n          const response = { statusCode, redirected, responseHTML };\n          const options = {\n            response,\n            visitCachedSnapshot,\n            willRender: false,\n            updateHistory: false,\n            restorationIdentifier: this.restorationIdentifier,\n            snapshot: pageSnapshot\n          };\n\n          if (this.action) options.action = this.action;\n\n          session.visit(frame.src, options);\n        }\n      };\n    }\n  }\n\n  changeHistory() {\n    if (this.action) {\n      const method = getHistoryMethodForAction(this.action);\n      session.history.update(method, expandURL(this.element.src || \"\"), this.restorationIdentifier);\n    }\n  }\n\n  async #handleUnvisitableFrameResponse(fetchResponse) {\n    console.warn(\n      `The response (${fetchResponse.statusCode}) from <turbo-frame id=\"${this.element.id}\"> is performing a full page visit due to turbo-visit-control.`\n    );\n\n    await this.#visitResponse(fetchResponse.response);\n  }\n\n  #willHandleFrameMissingFromResponse(fetchResponse) {\n    this.element.setAttribute(\"complete\", \"\");\n\n    const response = fetchResponse.response;\n    const visit = async (url, options) => {\n      if (url instanceof Response) {\n        this.#visitResponse(url);\n      } else {\n        session.visit(url, options);\n      }\n    };\n\n    const event = dispatch(\"turbo:frame-missing\", {\n      target: this.element,\n      detail: { response, visit },\n      cancelable: true\n    });\n\n    return !event.defaultPrevented\n  }\n\n  #handleFrameMissingFromResponse(fetchResponse) {\n    this.view.missing();\n    this.#throwFrameMissingError(fetchResponse);\n  }\n\n  #throwFrameMissingError(fetchResponse) {\n    const message = `The response (${fetchResponse.statusCode}) did not contain the expected <turbo-frame id=\"${this.element.id}\"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;\n    throw new TurboFrameMissingError(message)\n  }\n\n  async #visitResponse(response) {\n    const wrapped = new FetchResponse(response);\n    const responseHTML = await wrapped.responseHTML;\n    const { location, redirected, statusCode } = wrapped;\n\n    return session.visit(location, { response: { redirected, statusCode, responseHTML } })\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n    return getFrameElementById(id) ?? this.element\n  }\n\n  async extractForeignFrameElement(container) {\n    let element;\n    const id = CSS.escape(this.id);\n\n    try {\n      element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);\n      if (element) {\n        return element\n      }\n\n      element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);\n      if (element) {\n        await element.loaded;\n        return await this.extractForeignFrameElement(element)\n      }\n    } catch (error) {\n      console.error(error);\n      return new FrameElement()\n    }\n\n    return null\n  }\n\n  #formActionIsVisitable(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return locationIsVisitable(expandURL(action), this.rootLocation)\n  }\n\n  #shouldInterceptNavigation(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n\n    if (element instanceof HTMLFormElement && !this.#formActionIsVisitable(element, submitter)) {\n      return false\n    }\n\n    if (!this.enabled || id == \"_top\") {\n      return false\n    }\n\n    if (id) {\n      const frameElement = getFrameElementById(id);\n      if (frameElement) {\n        return !frameElement.disabled\n      }\n    }\n\n    if (!session.elementIsNavigatable(element)) {\n      return false\n    }\n\n    if (submitter && !session.elementIsNavigatable(submitter)) {\n      return false\n    }\n\n    return true\n  }\n\n  // Computed properties\n\n  get id() {\n    return this.element.id\n  }\n\n  get enabled() {\n    return !this.element.disabled\n  }\n\n  get sourceURL() {\n    if (this.element.src) {\n      return this.element.src\n    }\n  }\n\n  set sourceURL(sourceURL) {\n    this.#ignoringChangesToAttribute(\"src\", () => {\n      this.element.src = sourceURL ?? null;\n    });\n  }\n\n  get loadingStyle() {\n    return this.element.loading\n  }\n\n  get isLoading() {\n    return this.formSubmission !== undefined || this.#resolveVisitPromise() !== undefined\n  }\n\n  get complete() {\n    return this.element.hasAttribute(\"complete\")\n  }\n\n  set complete(value) {\n    if (value) {\n      this.element.setAttribute(\"complete\", \"\");\n    } else {\n      this.element.removeAttribute(\"complete\");\n    }\n  }\n\n  get isActive() {\n    return this.element.isActive && this.#connected\n  }\n\n  get rootLocation() {\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const root = meta?.content ?? \"/\";\n    return expandURL(root)\n  }\n\n  #isIgnoringChangesTo(attributeName) {\n    return this.#ignoredAttributes.has(attributeName)\n  }\n\n  #ignoringChangesToAttribute(attributeName, callback) {\n    this.#ignoredAttributes.add(attributeName);\n    callback();\n    this.#ignoredAttributes.delete(attributeName);\n  }\n\n  #withCurrentNavigationElement(element, callback) {\n    this.currentNavigationElement = element;\n    callback();\n    delete this.currentNavigationElement;\n  }\n}\n\nfunction getFrameElementById(id) {\n  if (id != null) {\n    const element = document.getElementById(id);\n    if (element instanceof FrameElement) {\n      return element\n    }\n  }\n}\n\nfunction activateElement(element, currentURL) {\n  if (element) {\n    const src = element.getAttribute(\"src\");\n    if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {\n      throw new Error(`Matching <turbo-frame id=\"${element.id}\"> element has a source URL which references itself`)\n    }\n    if (element.ownerDocument !== document) {\n      element = document.importNode(element, true);\n    }\n\n    if (element instanceof FrameElement) {\n      element.connectedCallback();\n      element.disconnectedCallback();\n      return element\n    }\n  }\n}\n\nconst StreamActions = {\n  after() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e.nextSibling));\n  },\n\n  append() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.append(this.templateContent));\n  },\n\n  before() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e));\n  },\n\n  prepend() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.prepend(this.templateContent));\n  },\n\n  remove() {\n    this.targetElements.forEach((e) => e.remove());\n  },\n\n  replace() {\n    const method = this.getAttribute(\"method\");\n\n    this.targetElements.forEach((targetElement) => {\n      if (method === \"morph\") {\n        morphElements(targetElement, this.templateContent);\n      } else {\n        targetElement.replaceWith(this.templateContent);\n      }\n    });\n  },\n\n  update() {\n    const method = this.getAttribute(\"method\");\n\n    this.targetElements.forEach((targetElement) => {\n      if (method === \"morph\") {\n        morphChildren(targetElement, this.templateContent);\n      } else {\n        targetElement.innerHTML = \"\";\n        targetElement.append(this.templateContent);\n      }\n    });\n  },\n\n  refresh() {\n    session.refresh(this.baseURI, this.requestId);\n  }\n};\n\n// <turbo-stream action=replace target=id><template>...\n\n/**\n * Renders updates to the page from a stream of messages.\n *\n * Using the `action` attribute, this can be configured one of eight ways:\n *\n * - `after` - inserts the result after the target\n * - `append` - appends the result to the target\n * - `before` - inserts the result before the target\n * - `prepend` - prepends the result to the target\n * - `refresh` - initiates a page refresh\n * - `remove` - removes the target\n * - `replace` - replaces the outer HTML of the target\n * - `update` - replaces the inner HTML of the target\n *\n * @customElement turbo-stream\n * @example\n *   <turbo-stream action=\"append\" target=\"dom_id\">\n *     <template>\n *       Content to append to target designated with the dom_id.\n *     </template>\n *   </turbo-stream>\n */\nclass StreamElement extends HTMLElement {\n  static async renderElement(newElement) {\n    await newElement.performAction();\n  }\n\n  async connectedCallback() {\n    try {\n      await this.render();\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.disconnect();\n    }\n  }\n\n  async render() {\n    return (this.renderPromise ??= (async () => {\n      const event = this.beforeRenderEvent;\n\n      if (this.dispatchEvent(event)) {\n        await nextRepaint();\n        await event.detail.render(this);\n      }\n    })())\n  }\n\n  disconnect() {\n    try {\n      this.remove();\n      // eslint-disable-next-line no-empty\n    } catch {}\n  }\n\n  /**\n   * Removes duplicate children (by ID)\n   */\n  removeDuplicateTargetChildren() {\n    this.duplicateChildren.forEach((c) => c.remove());\n  }\n\n  /**\n   * Gets the list of duplicate children (i.e. those with the same ID)\n   */\n  get duplicateChildren() {\n    const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.getAttribute(\"id\"));\n    const newChildrenIds = [...(this.templateContent?.children || [])].filter((c) => !!c.getAttribute(\"id\")).map((c) => c.getAttribute(\"id\"));\n\n    return existingChildren.filter((c) => newChildrenIds.includes(c.getAttribute(\"id\")))\n  }\n\n  /**\n   * Gets the action function to be performed.\n   */\n  get performAction() {\n    if (this.action) {\n      const actionFunction = StreamActions[this.action];\n      if (actionFunction) {\n        return actionFunction\n      }\n      this.#raise(\"unknown action\");\n    }\n    this.#raise(\"action attribute is missing\");\n  }\n\n  /**\n   * Gets the target elements which the template will be rendered to.\n   */\n  get targetElements() {\n    if (this.target) {\n      return this.targetElementsById\n    } else if (this.targets) {\n      return this.targetElementsByQuery\n    } else {\n      this.#raise(\"target or targets attribute is missing\");\n    }\n  }\n\n  /**\n   * Gets the contents of the main `<template>`.\n   */\n  get templateContent() {\n    return this.templateElement.content.cloneNode(true)\n  }\n\n  /**\n   * Gets the main `<template>` used for rendering\n   */\n  get templateElement() {\n    if (this.firstElementChild === null) {\n      const template = this.ownerDocument.createElement(\"template\");\n      this.appendChild(template);\n      return template\n    } else if (this.firstElementChild instanceof HTMLTemplateElement) {\n      return this.firstElementChild\n    }\n    this.#raise(\"first child element must be a <template> element\");\n  }\n\n  /**\n   * Gets the current action.\n   */\n  get action() {\n    return this.getAttribute(\"action\")\n  }\n\n  /**\n   * Gets the current target (an element ID) to which the result will\n   * be rendered.\n   */\n  get target() {\n    return this.getAttribute(\"target\")\n  }\n\n  /**\n   * Gets the current \"targets\" selector (a CSS selector)\n   */\n  get targets() {\n    return this.getAttribute(\"targets\")\n  }\n\n  /**\n   * Reads the request-id attribute\n   */\n  get requestId() {\n    return this.getAttribute(\"request-id\")\n  }\n\n  #raise(message) {\n    throw new Error(`${this.description}: ${message}`)\n  }\n\n  get description() {\n    return (this.outerHTML.match(/<[^>]+>/) ?? [])[0] ?? \"<turbo-stream>\"\n  }\n\n  get beforeRenderEvent() {\n    return new CustomEvent(\"turbo:before-stream-render\", {\n      bubbles: true,\n      cancelable: true,\n      detail: { newStream: this, render: StreamElement.renderElement }\n    })\n  }\n\n  get targetElementsById() {\n    const element = this.ownerDocument?.getElementById(this.target);\n\n    if (element !== null) {\n      return [element]\n    } else {\n      return []\n    }\n  }\n\n  get targetElementsByQuery() {\n    const elements = this.ownerDocument?.querySelectorAll(this.targets);\n\n    if (elements.length !== 0) {\n      return Array.prototype.slice.call(elements)\n    } else {\n      return []\n    }\n  }\n}\n\nclass StreamSourceElement extends HTMLElement {\n  streamSource = null\n\n  connectedCallback() {\n    this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);\n\n    connectStreamSource(this.streamSource);\n  }\n\n  disconnectedCallback() {\n    if (this.streamSource) {\n      this.streamSource.close();\n\n      disconnectStreamSource(this.streamSource);\n    }\n  }\n\n  get src() {\n    return this.getAttribute(\"src\") || \"\"\n  }\n}\n\nFrameElement.delegateConstructor = FrameController;\n\nif (customElements.get(\"turbo-frame\") === undefined) {\n  customElements.define(\"turbo-frame\", FrameElement);\n}\n\nif (customElements.get(\"turbo-stream\") === undefined) {\n  customElements.define(\"turbo-stream\", StreamElement);\n}\n\nif (customElements.get(\"turbo-stream-source\") === undefined) {\n  customElements.define(\"turbo-stream-source\", StreamSourceElement);\n}\n\n(() => {\n  let element = document.currentScript;\n  if (!element) return\n  if (element.hasAttribute(\"data-turbo-suppress-warning\")) return\n\n  element = element.parentElement;\n  while (element) {\n    if (element == document.body) {\n      return console.warn(\n        unindent`\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        \n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `,\n        element.outerHTML\n      )\n    }\n\n    element = element.parentElement;\n  }\n})();\n\nwindow.Turbo = { ...Turbo, StreamActions };\nstart();\n\nexport { FetchEnctype, FetchMethod, FetchRequest, FetchResponse, FrameElement, FrameLoadingStyle, FrameRenderer, PageRenderer, PageSnapshot, StreamActions, StreamElement, StreamSourceElement, cache, clearCache, config, connectStreamSource, disconnectStreamSource, fetchWithTurboHeaders as fetch, fetchEnctypeFromString, fetchMethodFromString, isSafe, navigator$1 as navigator, registerAdapter, renderStreamMessage, session, setConfirmMethod, setFormMode, setProgressBarDelay, start, visit };\n","let consumer\n\nexport async function getConsumer() {\n  return consumer || setConsumer(createConsumer().then(setConsumer))\n}\n\nexport function setConsumer(newConsumer) {\n  return consumer = newConsumer\n}\n\nexport async function createConsumer() {\n  const { createConsumer } = await import(/* webpackChunkName: \"actioncable\" */ \"@rails/actioncable/src\")\n  return createConsumer()\n}\n\nexport async function subscribeTo(channel, mixin) {\n  const { subscriptions } = await getConsumer()\n  return subscriptions.create(channel, mixin)\n}\n","// Based on https://github.com/nathan7/snakeize\n//\n// This software is released under the MIT license:\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nexport default function walk (obj) {\n    if (!obj || typeof obj !== 'object') return obj;\n    if (obj instanceof Date || obj instanceof RegExp) return obj;\n    if (Array.isArray(obj)) return obj.map(walk);\n    return Object.keys(obj).reduce(function (acc, key) {\n        var camel = key[0].toLowerCase() + key.slice(1).replace(/([A-Z]+)/g, function (m, x) {\n            return '_' + x.toLowerCase();\n        });\n        acc[camel] = walk(obj[key]);\n        return acc;\n    }, {});\n};","import { connectStreamSource, disconnectStreamSource } from \"@hotwired/turbo\"\nimport { subscribeTo } from \"./cable\"\nimport snakeize from \"./snakeize\"\n\nclass TurboCableStreamSourceElement extends HTMLElement {\n  static observedAttributes = [\"channel\", \"signed-stream-name\"]\n\n  async connectedCallback() {\n    connectStreamSource(this)\n    this.subscription = await subscribeTo(this.channel, {\n      received: this.dispatchMessageEvent.bind(this),\n      connected: this.subscriptionConnected.bind(this),\n      disconnected: this.subscriptionDisconnected.bind(this)\n    })\n  }\n\n  disconnectedCallback() {\n    disconnectStreamSource(this)\n    if (this.subscription) this.subscription.unsubscribe()\n    this.subscriptionDisconnected()\n  }\n\n  attributeChangedCallback() {\n    if (this.subscription) {\n      this.disconnectedCallback()\n      this.connectedCallback()\n    }\n  }\n\n  dispatchMessageEvent(data) {\n    const event = new MessageEvent(\"message\", { data })\n    return this.dispatchEvent(event)\n  }\n\n  subscriptionConnected() {\n    this.setAttribute(\"connected\", \"\")\n  }\n\n  subscriptionDisconnected() {\n    this.removeAttribute(\"connected\")\n  }\n\n  get channel() {\n    const channel = this.getAttribute(\"channel\")\n    const signed_stream_name = this.getAttribute(\"signed-stream-name\")\n    return { channel, signed_stream_name, ...snakeize({ ...this.dataset }) }\n  }\n}\n\n\nif (customElements.get(\"turbo-cable-stream-source\") === undefined) {\n  customElements.define(\"turbo-cable-stream-source\", TurboCableStreamSourceElement)\n}\n","export function encodeMethodIntoRequestBody(event) {\n  if (event.target instanceof HTMLFormElement) {\n    const { target: form, detail: { fetchOptions } } = event\n\n    form.addEventListener(\"turbo:submit-start\", ({ detail: { formSubmission: { submitter } } }) => {\n      const body = isBodyInit(fetchOptions.body) ? fetchOptions.body : new URLSearchParams()\n      const method = determineFetchMethod(submitter, body, form)\n\n      if (!/get/i.test(method)) {\n        if (/post/i.test(method)) {\n          body.delete(\"_method\")\n        } else {\n          body.set(\"_method\", method)\n        }\n\n        fetchOptions.method = \"post\"\n      }\n    }, { once: true })\n  }\n}\n\nfunction determineFetchMethod(submitter, body, form) {\n  const formMethod = determineFormMethod(submitter)\n  const overrideMethod = body.get(\"_method\")\n  const method = form.getAttribute(\"method\") || \"get\"\n\n  if (typeof formMethod == \"string\") {\n    return formMethod\n  } else if (typeof overrideMethod == \"string\") {\n    return overrideMethod\n  } else {\n    return method\n  }\n}\n\nfunction determineFormMethod(submitter) {\n  if (submitter instanceof HTMLButtonElement || submitter instanceof HTMLInputElement) {\n    // Rails 7 ActionView::Helpers::FormBuilder#button method has an override\n    // for formmethod if the button does not have name or value attributes\n    // set, which is the default. This means that if you use <%= f.button\n    // formmethod: :delete %>, it will generate a <button name=\"_method\"\n    // value=\"delete\" formmethod=\"post\">. Therefore, if the submitter's name\n    // is already _method, it's value attribute already contains the desired\n    // method.\n    if (submitter.name === '_method') {\n      return submitter.value\n    } else if (submitter.hasAttribute(\"formmethod\")) {\n      return submitter.formMethod\n    } else {\n      return null\n    }\n  } else {\n    return null\n  }\n}\n\nfunction isBodyInit(body) {\n  return body instanceof FormData || body instanceof URLSearchParams\n}\n","import \"./cable_stream_source_element\"\n\nimport * as Turbo from \"@hotwired/turbo\"\nexport { Turbo }\n\nimport * as cable from \"./cable\"\nexport { cable }\n\nimport { encodeMethodIntoRequestBody } from \"./fetch_requests\"\n\nwindow.Turbo = Turbo\n\naddEventListener(\"turbo:before-fetch-request\", encodeMethodIntoRequestBody)\n","/*\nStimulus 3.2.1\nCopyright  2023 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    hasBindings() {\n        return this.unorderedBindings.size > 0;\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            },\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map();\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach((eventListener) => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach((eventListener) => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding, clearEventListeners = false) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n        if (clearEventListeners)\n            this.clearEventListenersForBinding(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    clearEventListenersForBinding(binding) {\n        const eventListener = this.fetchEventListenerForBinding(binding);\n        if (!eventListener.hasBindings()) {\n            eventListener.disconnect();\n            this.removeMappedEventListenerFor(binding);\n        }\n    }\n    removeMappedEventListenerFor(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        eventListenerMap.delete(cacheKey);\n        if (eventListenerMap.size == 0)\n            this.eventListenerMaps.delete(eventTarget);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map();\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions)\n            .sort()\n            .forEach((key) => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst defaultActionDescriptorFilters = {\n    stop({ event, value }) {\n        if (value)\n            event.stopPropagation();\n        return true;\n    },\n    prevent({ event, value }) {\n        if (value)\n            event.preventDefault();\n        return true;\n    },\n    self({ event, value, element }) {\n        if (value) {\n            return element === event.target;\n        }\n        else {\n            return true;\n        }\n    },\n};\nconst descriptorPattern = /^(?:(?:([^.]+?)\\+)?(.+?)(?:\\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    let eventName = matches[2];\n    let keyFilter = matches[3];\n    if (keyFilter && ![\"keydown\", \"keyup\", \"keypress\"].includes(eventName)) {\n        eventName += `.${keyFilter}`;\n        keyFilter = \"\";\n    }\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName,\n        eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},\n        identifier: matches[5],\n        methodName: matches[6],\n        keyFilter: matches[1] || keyFilter,\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions\n        .split(\":\")\n        .reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction namespaceCamelize(value) {\n    return camelize(value.replace(/--/g, \"-\").replace(/__/g, \"_\"));\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nfunction isSomething(object) {\n    return object !== null && object !== undefined;\n}\nfunction hasProperty(object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nconst allModifiers = [\"meta\", \"ctrl\", \"alt\", \"shift\"];\nclass Action {\n    constructor(element, index, descriptor, schema) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n        this.keyFilter = descriptor.keyFilter || \"\";\n        this.schema = schema;\n    }\n    static forToken(token, schema) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);\n    }\n    toString() {\n        const eventFilter = this.keyFilter ? `.${this.keyFilter}` : \"\";\n        const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;\n    }\n    shouldIgnoreKeyboardEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = this.keyFilter.split(\"+\");\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];\n        if (!standardFilter) {\n            return false;\n        }\n        if (!hasProperty(this.keyMappings, standardFilter)) {\n            error(`contains unknown key filter: ${this.keyFilter}`);\n        }\n        return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();\n    }\n    shouldIgnoreMouseEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = [this.keyFilter];\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        return false;\n    }\n    get params() {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, \"i\");\n        for (const { name, value } of Array.from(this.element.attributes)) {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                params[camelize(key)] = typecast(value);\n            }\n        }\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n    get keyMappings() {\n        return this.schema.keyMappings;\n    }\n    keyFilterDissatisfied(event, filters) {\n        const [meta, ctrl, alt, shift] = allModifiers.map((modifier) => filters.includes(modifier));\n        return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift;\n    }\n}\nconst defaultEventNames = {\n    a: () => \"click\",\n    button: () => \"click\",\n    form: () => \"submit\",\n    details: () => \"toggle\",\n    input: (e) => (e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"),\n    select: () => \"change\",\n    textarea: () => \"input\",\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        const actionEvent = this.prepareActionEvent(event);\n        if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {\n            this.invokeWithEvent(actionEvent);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    applyEventModifiers(event) {\n        const { element } = this.action;\n        const { actionDescriptorFilters } = this.context.application;\n        const { controller } = this.context;\n        let passes = true;\n        for (const [name, value] of Object.entries(this.eventOptions)) {\n            if (name in actionDescriptorFilters) {\n                const filter = actionDescriptorFilters[name];\n                passes = passes && filter({ name, value, event, element, controller });\n            }\n            else {\n                continue;\n            }\n        }\n        return passes;\n    }\n    prepareActionEvent(event) {\n        return Object.assign(event, { params: this.action.params });\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            this.method.call(this.controller, event);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {\n            return false;\n        }\n        if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {\n            return false;\n        }\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(element, attributeName) {\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some((set) => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([_key, values]) => values.has(value))\n            .map(([key, _values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map();\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass SelectorObserver {\n    constructor(element, selector, delegate, details) {\n        this._selector = selector;\n        this.details = details;\n        this.elementObserver = new ElementObserver(element, this);\n        this.delegate = delegate;\n        this.matchesByElement = new Multimap();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    get selector() {\n        return this._selector;\n    }\n    set selector(selector) {\n        this._selector = selector;\n        this.refresh();\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    matchElement(element) {\n        const { selector } = this;\n        if (selector) {\n            const matches = element.matches(selector);\n            if (this.delegate.selectorMatchElement) {\n                return matches && this.delegate.selectorMatchElement(element, this.details);\n            }\n            return matches;\n        }\n        else {\n            return false;\n        }\n    }\n    matchElementsInTree(tree) {\n        const { selector } = this;\n        if (selector) {\n            const match = this.matchElement(tree) ? [tree] : [];\n            const matches = Array.from(tree.querySelectorAll(selector)).filter((match) => this.matchElement(match));\n            return match.concat(matches);\n        }\n        else {\n            return [];\n        }\n    }\n    elementMatched(element) {\n        const { selector } = this;\n        if (selector) {\n            this.selectorMatched(element, selector);\n        }\n    }\n    elementUnmatched(element) {\n        const selectors = this.matchesByElement.getKeysForValue(element);\n        for (const selector of selectors) {\n            this.selectorUnmatched(element, selector);\n        }\n    }\n    elementAttributeChanged(element, _attributeName) {\n        const { selector } = this;\n        if (selector) {\n            const matches = this.matchElement(element);\n            const matchedBefore = this.matchesByElement.has(selector, element);\n            if (matches && !matchedBefore) {\n                this.selectorMatched(element, selector);\n            }\n            else if (!matches && matchedBefore) {\n                this.selectorUnmatched(element, selector);\n            }\n        }\n    }\n    selectorMatched(element, selector) {\n        this.delegate.selectorMatched(element, selector, this.details);\n        this.matchesByElement.add(selector, element);\n    }\n    selectorUnmatched(element, selector) {\n        this.delegate.selectorUnmatched(element, selector, this.details);\n        this.matchesByElement.delete(selector, element);\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map((attribute) => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap();\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach((token) => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach((token) => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString\n        .trim()\n        .split(/\\s+/)\n        .filter((content) => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap();\n        this.valuesByTokenByElement = new WeakMap();\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map();\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map();\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token, this.schema);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n    }\n    start() {\n        this.stringMapObserver.start();\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            try {\n                const value = descriptor.reader(rawValue);\n                let oldValue = rawOldValue;\n                if (rawOldValue) {\n                    oldValue = descriptor.reader(rawOldValue);\n                }\n                changedMethod.call(this.receiver, value, oldValue);\n            }\n            catch (error) {\n                if (error instanceof TypeError) {\n                    error.message = `Stimulus Value \"${this.context.identifier}.${descriptor.name}\" - ${error.message}`;\n                }\n                throw error;\n            }\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach((key) => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap();\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach((name) => values.add(name));\n        return values;\n    }, new Set()));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];\n}\n\nclass OutletObserver {\n    constructor(context, delegate) {\n        this.started = false;\n        this.context = context;\n        this.delegate = delegate;\n        this.outletsByName = new Multimap();\n        this.outletElementsByName = new Multimap();\n        this.selectorObserverMap = new Map();\n        this.attributeObserverMap = new Map();\n    }\n    start() {\n        if (!this.started) {\n            this.outletDefinitions.forEach((outletName) => {\n                this.setupSelectorObserverForOutlet(outletName);\n                this.setupAttributeObserverForOutlet(outletName);\n            });\n            this.started = true;\n            this.dependentContexts.forEach((context) => context.refresh());\n        }\n    }\n    refresh() {\n        this.selectorObserverMap.forEach((observer) => observer.refresh());\n        this.attributeObserverMap.forEach((observer) => observer.refresh());\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.disconnectAllOutlets();\n            this.stopSelectorObservers();\n            this.stopAttributeObservers();\n        }\n    }\n    stopSelectorObservers() {\n        if (this.selectorObserverMap.size > 0) {\n            this.selectorObserverMap.forEach((observer) => observer.stop());\n            this.selectorObserverMap.clear();\n        }\n    }\n    stopAttributeObservers() {\n        if (this.attributeObserverMap.size > 0) {\n            this.attributeObserverMap.forEach((observer) => observer.stop());\n            this.attributeObserverMap.clear();\n        }\n    }\n    selectorMatched(element, _selector, { outletName }) {\n        const outlet = this.getOutlet(element, outletName);\n        if (outlet) {\n            this.connectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorUnmatched(element, _selector, { outletName }) {\n        const outlet = this.getOutletFromMap(element, outletName);\n        if (outlet) {\n            this.disconnectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorMatchElement(element, { outletName }) {\n        const selector = this.selector(outletName);\n        const hasOutlet = this.hasOutlet(element, outletName);\n        const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);\n        if (selector) {\n            return hasOutlet && hasOutletController && element.matches(selector);\n        }\n        else {\n            return false;\n        }\n    }\n    elementMatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementAttributeValueChanged(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementUnmatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    connectOutlet(outlet, element, outletName) {\n        var _a;\n        if (!this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.add(outletName, outlet);\n            this.outletElementsByName.add(outletName, element);\n            (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));\n        }\n    }\n    disconnectOutlet(outlet, element, outletName) {\n        var _a;\n        if (this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.delete(outletName, outlet);\n            this.outletElementsByName.delete(outletName, element);\n            (_a = this.selectorObserverMap\n                .get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));\n        }\n    }\n    disconnectAllOutlets() {\n        for (const outletName of this.outletElementsByName.keys) {\n            for (const element of this.outletElementsByName.getValuesForKey(outletName)) {\n                for (const outlet of this.outletsByName.getValuesForKey(outletName)) {\n                    this.disconnectOutlet(outlet, element, outletName);\n                }\n            }\n        }\n    }\n    updateSelectorObserverForOutlet(outletName) {\n        const observer = this.selectorObserverMap.get(outletName);\n        if (observer) {\n            observer.selector = this.selector(outletName);\n        }\n    }\n    setupSelectorObserverForOutlet(outletName) {\n        const selector = this.selector(outletName);\n        const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });\n        this.selectorObserverMap.set(outletName, selectorObserver);\n        selectorObserver.start();\n    }\n    setupAttributeObserverForOutlet(outletName) {\n        const attributeName = this.attributeNameForOutletName(outletName);\n        const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);\n        this.attributeObserverMap.set(outletName, attributeObserver);\n        attributeObserver.start();\n    }\n    selector(outletName) {\n        return this.scope.outlets.getSelectorForOutletName(outletName);\n    }\n    attributeNameForOutletName(outletName) {\n        return this.scope.schema.outletAttributeForScope(this.identifier, outletName);\n    }\n    getOutletNameFromOutletAttributeName(attributeName) {\n        return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);\n    }\n    get outletDependencies() {\n        const dependencies = new Multimap();\n        this.router.modules.forEach((module) => {\n            const constructor = module.definition.controllerConstructor;\n            const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n            outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));\n        });\n        return dependencies;\n    }\n    get outletDefinitions() {\n        return this.outletDependencies.getKeysForValue(this.identifier);\n    }\n    get dependentControllerIdentifiers() {\n        return this.outletDependencies.getValuesForKey(this.identifier);\n    }\n    get dependentContexts() {\n        const identifiers = this.dependentControllerIdentifiers;\n        return this.router.contexts.filter((context) => identifiers.includes(context.identifier));\n    }\n    hasOutlet(element, outletName) {\n        return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);\n    }\n    getOutlet(element, outletName) {\n        return this.application.getControllerForElementAndIdentifier(element, outletName);\n    }\n    getOutletFromMap(element, outletName) {\n        return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get router() {\n        return this.application.router;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        this.outletObserver = new OutletObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        this.outletObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    refresh() {\n        this.outletObserver.refresh();\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.outletObserver.stop();\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    outletConnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);\n    }\n    outletDisconnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended },\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () {\n            this.a.call(this);\n        };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b();\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor),\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap();\n        this.connectedContexts = new Set();\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap();\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set();\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName),\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass OutletSet {\n    constructor(scope, controllerElement) {\n        this.scope = scope;\n        this.controllerElement = controllerElement;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(outletName) {\n        return this.find(outletName) != null;\n    }\n    find(...outletNames) {\n        return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), undefined);\n    }\n    findAll(...outletNames) {\n        return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);\n    }\n    getSelectorForOutletName(outletName) {\n        const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);\n        return this.controllerElement.getAttribute(attributeName);\n    }\n    findOutlet(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        if (selector)\n            return this.findElement(selector, outletName);\n    }\n    findAllOutlets(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        return selector ? this.findAllElements(selector, outletName) : [];\n    }\n    findElement(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];\n    }\n    findAllElements(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName));\n    }\n    matchesElement(element, selector, outletName) {\n        const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || \"\";\n        return element.matches(selector) && controllerAttribute.split(\" \").includes(outletName);\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n        this.outlets = new OutletSet(this.documentScope, element);\n    }\n    findElement(selector) {\n        return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...(this.element.matches(selector) ? [this.element] : []),\n            ...this.queryElements(selector).filter(this.containsElement),\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n    get isDocumentScope() {\n        return this.element === document.documentElement;\n    }\n    get documentScope() {\n        return this.isDocumentScope\n            ? this\n            : new Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap();\n        this.scopeReferenceCounts = new WeakMap();\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        return this.parseValueForElementAndIdentifier(element, identifier);\n    }\n    parseValueForElementAndIdentifier(element, identifier) {\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map();\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap();\n        this.modulesByIdentifier = new Map();\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n        const afterLoad = definition.controllerConstructor.afterLoad;\n        if (afterLoad) {\n            afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);\n        }\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find((context) => context.element == element);\n        }\n    }\n    proposeToConnectScopeForElementAndIdentifier(element, identifier) {\n        const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);\n        if (scope) {\n            this.scopeObserver.elementMatchedValue(scope.element, scope);\n        }\n        else {\n            console.error(`Couldn't find or create scope for identifier: \"${identifier}\" and element:`, element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: (identifier) => `data-${identifier}-target`,\n    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,\n    keyMappings: Object.assign(Object.assign({ enter: \"Enter\", tab: \"Tab\", esc: \"Escape\", space: \" \", up: \"ArrowUp\", down: \"ArrowDown\", left: \"ArrowLeft\", right: \"ArrowRight\", home: \"Home\", end: \"End\", page_up: \"PageUp\", page_down: \"PageDown\" }, objectFromEntries(\"abcdefghijklmnopqrstuvwxyz\".split(\"\").map((c) => [c, c]))), objectFromEntries(\"0123456789\".split(\"\").map((n) => [n, n]))),\n};\nfunction objectFromEntries(array) {\n    return array.reduce((memo, [k, v]) => (Object.assign(Object.assign({}, memo), { [k]: v })), {});\n}\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n        this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);\n    }\n    static start(element, schema) {\n        const application = new this(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        this.load({ identifier, controllerConstructor });\n    }\n    registerActionOption(name, filter) {\n        this.actionDescriptorFilters[name] = filter;\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach((definition) => {\n            if (definition.controllerConstructor.shouldLoad) {\n                this.router.loadDefinition(definition);\n            }\n        });\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map((context) => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise((resolve) => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            },\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            },\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            },\n        },\n    };\n}\n\nfunction OutletPropertiesBlessing(constructor) {\n    const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n    return outlets.reduce((properties, outletDefinition) => {\n        return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));\n    }, {});\n}\nfunction getOutletController(controller, element, identifier) {\n    return controller.application.getControllerForElementAndIdentifier(element, identifier);\n}\nfunction getControllerAndEnsureConnectedScope(controller, element, outletName) {\n    let outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);\n    outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n}\nfunction propertiesForOutletDefinition(name) {\n    const camelizedName = namespaceCamelize(name);\n    return {\n        [`${camelizedName}Outlet`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                    if (outletController)\n                        return outletController;\n                    throw new Error(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`);\n                }\n                throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n            },\n        },\n        [`${camelizedName}Outlets`]: {\n            get() {\n                const outlets = this.outlets.findAll(name);\n                if (outlets.length > 0) {\n                    return outlets\n                        .map((outletElement) => {\n                        const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                        if (outletController)\n                            return outletController;\n                        console.warn(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`, outletElement);\n                    })\n                        .filter((controller) => controller);\n                }\n                return [];\n            },\n        },\n        [`${camelizedName}OutletElement`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    return outletElement;\n                }\n                else {\n                    throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n                }\n            },\n        },\n        [`${camelizedName}OutletElements`]: {\n            get() {\n                return this.outlets.findAll(name);\n            },\n        },\n        [`has${capitalize(camelizedName)}Outlet`]: {\n            get() {\n                return this.outlets.has(name);\n            },\n        },\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            },\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            },\n        },\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            },\n        },\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair, controller) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            },\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            },\n        },\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition], controller) {\n    return valueDescriptorForTokenAndTypeDefinition({\n        controller,\n        token,\n        typeDefinition,\n    });\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array:\n            return \"array\";\n        case Boolean:\n            return \"boolean\";\n        case Number:\n            return \"number\";\n        case Object:\n            return \"object\";\n        case String:\n            return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\":\n            return \"boolean\";\n        case \"number\":\n            return \"number\";\n        case \"string\":\n            return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(payload) {\n    const { controller, token, typeObject } = payload;\n    const hasType = isSomething(typeObject.type);\n    const hasDefault = isSomething(typeObject.default);\n    const fullObject = hasType && hasDefault;\n    const onlyType = hasType && !hasDefault;\n    const onlyDefault = !hasType && hasDefault;\n    const typeFromObject = parseValueTypeConstant(typeObject.type);\n    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);\n    if (onlyType)\n        return typeFromObject;\n    if (onlyDefault)\n        return typeFromDefaultValue;\n    if (typeFromObject !== typeFromDefaultValue) {\n        const propertyPath = controller ? `${controller}.${token}` : token;\n        throw new Error(`The specified default value for the Stimulus Value \"${propertyPath}\" must match the defined type \"${typeFromObject}\". The provided default value of \"${typeObject.default}\" is of type \"${typeFromDefaultValue}\".`);\n    }\n    if (fullObject)\n        return typeFromObject;\n}\nfunction parseValueTypeDefinition(payload) {\n    const { controller, token, typeDefinition } = payload;\n    const typeObject = { controller, token, typeObject: typeDefinition };\n    const typeFromObject = parseValueTypeObject(typeObject);\n    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;\n    throw new Error(`Unknown value type \"${propertyPath}\" for \"${token}\" value`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const hasDefault = hasProperty(typeDefinition, \"default\");\n    const hasType = hasProperty(typeDefinition, \"type\");\n    const typeObject = typeDefinition;\n    if (hasDefault)\n        return typeObject.default;\n    if (hasType) {\n        const { type } = typeObject;\n        const constantFromType = parseValueTypeConstant(type);\n        if (constantFromType)\n            return defaultValuesByType[constantFromType];\n    }\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(payload) {\n    const { token, typeDefinition } = payload;\n    const key = `${dasherize(token)}-value`;\n    const type = parseValueTypeDefinition(payload);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() {\n            return defaultValueForDefinition(typeDefinition);\n        },\n        get hasCustomDefaultValue() {\n            return parseValueTypeDefault(typeDefinition) !== undefined;\n        },\n        reader: readers[type],\n        writer: writers[type] || writers.default,\n    };\n}\nconst defaultValuesByType = {\n    get array() {\n        return [];\n    },\n    boolean: false,\n    number: 0,\n    get object() {\n        return {};\n    },\n    string: \"\",\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(`expected value of type \"array\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(array)}\"`);\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || String(value).toLowerCase() == \"false\");\n    },\n    number(value) {\n        return Number(value.replace(/_/g, \"\"));\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(`expected value of type \"object\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(object)}\"`);\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    },\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON,\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    static afterLoad(_identifier, _application) {\n        return;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get outlets() {\n        return this.scope.outlets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true, } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [\n    ClassPropertiesBlessing,\n    TargetPropertiesBlessing,\n    ValuePropertiesBlessing,\n    OutletPropertiesBlessing,\n];\nController.targets = [];\nController.outlets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, SelectorObserver, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n","/*!\n * @kurkle/color v0.3.4\n * https://github.com/kurkle/color#readme\n * (c) 2024 Jukka Kurkela\n * Released under the MIT License\n */\nfunction round(v) {\n  return v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n  return lim(round(v * 2.55), 0, 255);\n}\nfunction b2p(v) {\n  return lim(round(v / 2.55), 0, 100);\n}\nfunction n2b(v) {\n  return lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n  return lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n  return lim(round(v * 100), 0, 100);\n}\n\nconst map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = [...'0123456789ABCDEF'];\nconst h1 = b => hex[b & 0xF];\nconst h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = b => ((b & 0xF0) >> 4) === (b & 0xF);\nconst isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\nfunction hexParse(str) {\n  var len = str.length;\n  var ret;\n  if (str[0] === '#') {\n    if (len === 4 || len === 5) {\n      ret = {\n        r: 255 & map$1[str[1]] * 17,\n        g: 255 & map$1[str[2]] * 17,\n        b: 255 & map$1[str[3]] * 17,\n        a: len === 5 ? map$1[str[4]] * 17 : 255\n      };\n    } else if (len === 7 || len === 9) {\n      ret = {\n        r: map$1[str[1]] << 4 | map$1[str[2]],\n        g: map$1[str[3]] << 4 | map$1[str[4]],\n        b: map$1[str[5]] << 4 | map$1[str[6]],\n        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255\n      };\n    }\n  }\n  return ret;\n}\nconst alpha = (a, f) => a < 255 ? f(a) : '';\nfunction hexString(v) {\n  var f = isShort(v) ? h1 : h2;\n  return v\n    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)\n    : undefined;\n}\n\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n  const a = s * Math.min(l, 1 - l);\n  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  return [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n  return [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n  const rgb = hsl2rgbn(h, 1, 0.5);\n  let i;\n  if (w + b > 1) {\n    i = 1 / (w + b);\n    w *= i;\n    b *= i;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] *= 1 - w - b;\n    rgb[i] += w;\n  }\n  return rgb;\n}\nfunction hueValue(r, g, b, d, max) {\n  if (r === max) {\n    return ((g - b) / d) + (g < b ? 6 : 0);\n  }\n  if (g === max) {\n    return (b - r) / d + 2;\n  }\n  return (r - g) / d + 4;\n}\nfunction rgb2hsl(v) {\n  const range = 255;\n  const r = v.r / range;\n  const g = v.g / range;\n  const b = v.b / range;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const l = (max + min) / 2;\n  let h, s, d;\n  if (max !== min) {\n    d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    h = hueValue(r, g, b, d, max);\n    h = h * 60 + 0.5;\n  }\n  return [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n  return (\n    Array.isArray(a)\n      ? f(a[0], a[1], a[2])\n      : f(a, b, c)\n  ).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n  return calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n  return calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n  return calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n  return (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n  const m = HUE_RE.exec(str);\n  let a = 255;\n  let v;\n  if (!m) {\n    return;\n  }\n  if (m[5] !== v) {\n    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n  }\n  const h = hue(+m[2]);\n  const p1 = +m[3] / 100;\n  const p2 = +m[4] / 100;\n  if (m[1] === 'hwb') {\n    v = hwb2rgb(h, p1, p2);\n  } else if (m[1] === 'hsv') {\n    v = hsv2rgb(h, p1, p2);\n  } else {\n    v = hsl2rgb(h, p1, p2);\n  }\n  return {\n    r: v[0],\n    g: v[1],\n    b: v[2],\n    a: a\n  };\n}\nfunction rotate(v, deg) {\n  var h = rgb2hsl(v);\n  h[0] = hue(h[0] + deg);\n  h = hsl2rgb(h);\n  v.r = h[0];\n  v.g = h[1];\n  v.b = h[2];\n}\nfunction hslString(v) {\n  if (!v) {\n    return;\n  }\n  const a = rgb2hsl(v);\n  const h = a[0];\n  const s = n2p(a[1]);\n  const l = n2p(a[2]);\n  return v.a < 255\n    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n    : `hsl(${h}, ${s}%, ${l}%)`;\n}\n\nconst map = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names$1 = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n  const unpacked = {};\n  const keys = Object.keys(names$1);\n  const tkeys = Object.keys(map);\n  let i, j, k, ok, nk;\n  for (i = 0; i < keys.length; i++) {\n    ok = nk = keys[i];\n    for (j = 0; j < tkeys.length; j++) {\n      k = tkeys[j];\n      nk = nk.replace(k, map[k]);\n    }\n    k = parseInt(names$1[ok], 16);\n    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n  }\n  return unpacked;\n}\n\nlet names;\nfunction nameParse(str) {\n  if (!names) {\n    names = unpack();\n    names.transparent = [0, 0, 0, 0];\n  }\n  const a = names[str.toLowerCase()];\n  return a && {\n    r: a[0],\n    g: a[1],\n    b: a[2],\n    a: a.length === 4 ? a[3] : 255\n  };\n}\n\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n  const m = RGB_RE.exec(str);\n  let a = 255;\n  let r, g, b;\n  if (!m) {\n    return;\n  }\n  if (m[7] !== r) {\n    const v = +m[7];\n    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);\n  }\n  r = +m[1];\n  g = +m[3];\n  b = +m[5];\n  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));\n  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));\n  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));\n  return {\n    r: r,\n    g: g,\n    b: b,\n    a: a\n  };\n}\nfunction rgbString(v) {\n  return v && (\n    v.a < 255\n      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n      : `rgb(${v.r}, ${v.g}, ${v.b})`\n  );\n}\n\nconst to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;\nconst from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\nfunction interpolate(rgb1, rgb2, t) {\n  const r = from(b2n(rgb1.r));\n  const g = from(b2n(rgb1.g));\n  const b = from(b2n(rgb1.b));\n  return {\n    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),\n    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),\n    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),\n    a: rgb1.a + t * (rgb2.a - rgb1.a)\n  };\n}\n\nfunction modHSL(v, i, ratio) {\n  if (v) {\n    let tmp = rgb2hsl(v);\n    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n    tmp = hsl2rgb(tmp);\n    v.r = tmp[0];\n    v.g = tmp[1];\n    v.b = tmp[2];\n  }\n}\nfunction clone(v, proto) {\n  return v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n  var v = {r: 0, g: 0, b: 0, a: 255};\n  if (Array.isArray(input)) {\n    if (input.length >= 3) {\n      v = {r: input[0], g: input[1], b: input[2], a: 255};\n      if (input.length > 3) {\n        v.a = n2b(input[3]);\n      }\n    }\n  } else {\n    v = clone(input, {r: 0, g: 0, b: 0, a: 1});\n    v.a = n2b(v.a);\n  }\n  return v;\n}\nfunction functionParse(str) {\n  if (str.charAt(0) === 'r') {\n    return rgbParse(str);\n  }\n  return hueParse(str);\n}\nclass Color {\n  constructor(input) {\n    if (input instanceof Color) {\n      return input;\n    }\n    const type = typeof input;\n    let v;\n    if (type === 'object') {\n      v = fromObject(input);\n    } else if (type === 'string') {\n      v = hexParse(input) || nameParse(input) || functionParse(input);\n    }\n    this._rgb = v;\n    this._valid = !!v;\n  }\n  get valid() {\n    return this._valid;\n  }\n  get rgb() {\n    var v = clone(this._rgb);\n    if (v) {\n      v.a = b2n(v.a);\n    }\n    return v;\n  }\n  set rgb(obj) {\n    this._rgb = fromObject(obj);\n  }\n  rgbString() {\n    return this._valid ? rgbString(this._rgb) : undefined;\n  }\n  hexString() {\n    return this._valid ? hexString(this._rgb) : undefined;\n  }\n  hslString() {\n    return this._valid ? hslString(this._rgb) : undefined;\n  }\n  mix(color, weight) {\n    if (color) {\n      const c1 = this.rgb;\n      const c2 = color.rgb;\n      let w2;\n      const p = weight === w2 ? 0.5 : weight;\n      const w = 2 * p - 1;\n      const a = c1.a - c2.a;\n      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n      w2 = 1 - w1;\n      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n      c1.a = p * c1.a + (1 - p) * c2.a;\n      this.rgb = c1;\n    }\n    return this;\n  }\n  interpolate(color, t) {\n    if (color) {\n      this._rgb = interpolate(this._rgb, color._rgb, t);\n    }\n    return this;\n  }\n  clone() {\n    return new Color(this.rgb);\n  }\n  alpha(a) {\n    this._rgb.a = n2b(a);\n    return this;\n  }\n  clearer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 - ratio;\n    return this;\n  }\n  greyscale() {\n    const rgb = this._rgb;\n    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n    rgb.r = rgb.g = rgb.b = val;\n    return this;\n  }\n  opaquer(ratio) {\n    const rgb = this._rgb;\n    rgb.a *= 1 + ratio;\n    return this;\n  }\n  negate() {\n    const v = this._rgb;\n    v.r = 255 - v.r;\n    v.g = 255 - v.g;\n    v.b = 255 - v.b;\n    return this;\n  }\n  lighten(ratio) {\n    modHSL(this._rgb, 2, ratio);\n    return this;\n  }\n  darken(ratio) {\n    modHSL(this._rgb, 2, -ratio);\n    return this;\n  }\n  saturate(ratio) {\n    modHSL(this._rgb, 1, ratio);\n    return this;\n  }\n  desaturate(ratio) {\n    modHSL(this._rgb, 1, -ratio);\n    return this;\n  }\n  rotate(deg) {\n    rotate(this._rgb, deg);\n    return this;\n  }\n}\n\nfunction index_esm(input) {\n  return new Color(input);\n}\n\nexport { Color, b2n, b2p, index_esm as default, hexParse, hexString, hsl2rgb, hslString, hsv2rgb, hueParse, hwb2rgb, lim, n2b, n2p, nameParse, p2b, rgb2hsl, rgbParse, rgbString, rotate, round };\n","/*!\n * Chart.js v4.4.9\n * https://www.chartjs.org\n * (c) 2025 Chart.js Contributors\n * Released under the MIT License\n */\nimport { Color } from '@kurkle/color';\n\n/**\n * @namespace Chart.helpers\n */ /**\n * An empty function that can be used, for example, for optional callback.\n */ function noop() {\n/* noop */ }\n/**\n * Returns a unique id, sequentially generated from a global variable.\n */ const uid = (()=>{\n    let id = 0;\n    return ()=>id++;\n})();\n/**\n * Returns true if `value` is neither null nor undefined, else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isNullOrUndef(value) {\n    return value === null || value === undefined;\n}\n/**\n * Returns true if `value` is an array (including typed arrays), else returns false.\n * @param value - The value to test.\n * @function\n */ function isArray(value) {\n    if (Array.isArray && Array.isArray(value)) {\n        return true;\n    }\n    const type = Object.prototype.toString.call(value);\n    if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns true if `value` is an object (excluding null), else returns false.\n * @param value - The value to test.\n * @since 2.7.0\n */ function isObject(value) {\n    return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\n/**\n * Returns true if `value` is a finite number, else returns false\n * @param value  - The value to test.\n */ function isNumberFinite(value) {\n    return (typeof value === 'number' || value instanceof Number) && isFinite(+value);\n}\n/**\n * Returns `value` if finite, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is not finite.\n */ function finiteOrDefault(value, defaultValue) {\n    return isNumberFinite(value) ? value : defaultValue;\n}\n/**\n * Returns `value` if defined, else returns `defaultValue`.\n * @param value - The value to return if defined.\n * @param defaultValue - The value to return if `value` is undefined.\n */ function valueOrDefault(value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 : +value / dimension;\nconst toDimension = (value, dimension)=>typeof value === 'string' && value.endsWith('%') ? parseFloat(value) / 100 * dimension : +value;\n/**\n * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the\n * value returned by `fn`. If `fn` is not a function, this method returns undefined.\n * @param fn - The function to call.\n * @param args - The arguments with which `fn` should be called.\n * @param [thisArg] - The value of `this` provided for the call to `fn`.\n */ function callback(fn, args, thisArg) {\n    if (fn && typeof fn.call === 'function') {\n        return fn.apply(thisArg, args);\n    }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n    let i, len, keys;\n    if (isArray(loopable)) {\n        len = loopable.length;\n        if (reverse) {\n            for(i = len - 1; i >= 0; i--){\n                fn.call(thisArg, loopable[i], i);\n            }\n        } else {\n            for(i = 0; i < len; i++){\n                fn.call(thisArg, loopable[i], i);\n            }\n        }\n    } else if (isObject(loopable)) {\n        keys = Object.keys(loopable);\n        len = keys.length;\n        for(i = 0; i < len; i++){\n            fn.call(thisArg, loopable[keys[i]], keys[i]);\n        }\n    }\n}\n/**\n * Returns true if the `a0` and `a1` arrays have the same content, else returns false.\n * @param a0 - The array to compare\n * @param a1 - The array to compare\n * @private\n */ function _elementsEqual(a0, a1) {\n    let i, ilen, v0, v1;\n    if (!a0 || !a1 || a0.length !== a1.length) {\n        return false;\n    }\n    for(i = 0, ilen = a0.length; i < ilen; ++i){\n        v0 = a0[i];\n        v1 = a1[i];\n        if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns a deep copy of `source` without keeping references on objects and arrays.\n * @param source - The value to clone.\n */ function clone(source) {\n    if (isArray(source)) {\n        return source.map(clone);\n    }\n    if (isObject(source)) {\n        const target = Object.create(null);\n        const keys = Object.keys(source);\n        const klen = keys.length;\n        let k = 0;\n        for(; k < klen; ++k){\n            target[keys[k]] = clone(source[keys[k]]);\n        }\n        return target;\n    }\n    return source;\n}\nfunction isValidKey(key) {\n    return [\n        '__proto__',\n        'prototype',\n        'constructor'\n    ].indexOf(key) === -1;\n}\n/**\n * The default merger when Chart.helpers.merge is called without merger option.\n * Note(SB): also used by mergeConfig and mergeScaleConfig as fallback.\n * @private\n */ function _merger(key, target, source, options) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        merge(tval, sval, options);\n    } else {\n        target[key] = clone(sval);\n    }\n}\nfunction merge(target, source, options) {\n    const sources = isArray(source) ? source : [\n        source\n    ];\n    const ilen = sources.length;\n    if (!isObject(target)) {\n        return target;\n    }\n    options = options || {};\n    const merger = options.merger || _merger;\n    let current;\n    for(let i = 0; i < ilen; ++i){\n        current = sources[i];\n        if (!isObject(current)) {\n            continue;\n        }\n        const keys = Object.keys(current);\n        for(let k = 0, klen = keys.length; k < klen; ++k){\n            merger(keys[k], target, current, options);\n        }\n    }\n    return target;\n}\nfunction mergeIf(target, source) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return merge(target, source, {\n        merger: _mergerIf\n    });\n}\n/**\n * Merges source[key] in target[key] only if target[key] is undefined.\n * @private\n */ function _mergerIf(key, target, source) {\n    if (!isValidKey(key)) {\n        return;\n    }\n    const tval = target[key];\n    const sval = source[key];\n    if (isObject(tval) && isObject(sval)) {\n        mergeIf(tval, sval);\n    } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n        target[key] = clone(sval);\n    }\n}\n/**\n * @private\n */ function _deprecated(scope, value, previous, current) {\n    if (value !== undefined) {\n        console.warn(scope + ': \"' + previous + '\" is deprecated. Please use \"' + current + '\" instead');\n    }\n}\n// resolveObjectKey resolver cache\nconst keyResolvers = {\n    // Chart.helpers.core resolveObjectKey should resolve empty key to root object\n    '': (v)=>v,\n    // default resolvers\n    x: (o)=>o.x,\n    y: (o)=>o.y\n};\n/**\n * @private\n */ function _splitKey(key) {\n    const parts = key.split('.');\n    const keys = [];\n    let tmp = '';\n    for (const part of parts){\n        tmp += part;\n        if (tmp.endsWith('\\\\')) {\n            tmp = tmp.slice(0, -1) + '.';\n        } else {\n            keys.push(tmp);\n            tmp = '';\n        }\n    }\n    return keys;\n}\nfunction _getKeyResolver(key) {\n    const keys = _splitKey(key);\n    return (obj)=>{\n        for (const k of keys){\n            if (k === '') {\n                break;\n            }\n            obj = obj && obj[k];\n        }\n        return obj;\n    };\n}\nfunction resolveObjectKey(obj, key) {\n    const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));\n    return resolver(obj);\n}\n/**\n * @private\n */ function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value)=>typeof value !== 'undefined';\nconst isFunction = (value)=>typeof value === 'function';\n// Adapted from https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality#31129384\nconst setsEqual = (a, b)=>{\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a){\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * @param e - The event\n * @private\n */ function _isClickEvent(e) {\n    return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\n/**\n * @alias Chart.helpers.math\n * @namespace\n */ const PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction almostEquals(x, y, epsilon) {\n    return Math.abs(x - y) < epsilon;\n}\n/**\n * Implementation of the nice number algorithm used in determining where axis labels will go\n */ function niceNum(range) {\n    const roundedRange = Math.round(range);\n    range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n    const niceRange = Math.pow(10, Math.floor(log10(range)));\n    const fraction = range / niceRange;\n    const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n    return niceFraction * niceRange;\n}\n/**\n * Returns an array of factors sorted from 1 to sqrt(value)\n * @private\n */ function _factorize(value) {\n    const result = [];\n    const sqrt = Math.sqrt(value);\n    let i;\n    for(i = 1; i < sqrt; i++){\n        if (value % i === 0) {\n            result.push(i);\n            result.push(value / i);\n        }\n    }\n    if (sqrt === (sqrt | 0)) {\n        result.push(sqrt);\n    }\n    result.sort((a, b)=>a - b).pop();\n    return result;\n}\n/**\n * Verifies that attempting to coerce n to string or number won't throw a TypeError.\n */ function isNonPrimitive(n) {\n    return typeof n === 'symbol' || typeof n === 'object' && n !== null && !(Symbol.toPrimitive in n || 'toString' in n || 'valueOf' in n);\n}\nfunction isNumber(n) {\n    return !isNonPrimitive(n) && !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostWhole(x, epsilon) {\n    const rounded = Math.round(x);\n    return rounded - epsilon <= x && rounded + epsilon >= x;\n}\n/**\n * @private\n */ function _setMinAndMaxByKey(array, target, property) {\n    let i, ilen, value;\n    for(i = 0, ilen = array.length; i < ilen; i++){\n        value = array[i][property];\n        if (!isNaN(value)) {\n            target.min = Math.min(target.min, value);\n            target.max = Math.max(target.max, value);\n        }\n    }\n}\nfunction toRadians(degrees) {\n    return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n    return radians * (180 / PI);\n}\n/**\n * Returns the number of decimal places\n * i.e. the number of digits after the decimal point, of the value of this Number.\n * @param x - A number.\n * @returns The number of decimal places.\n * @private\n */ function _decimalPlaces(x) {\n    if (!isNumberFinite(x)) {\n        return;\n    }\n    let e = 1;\n    let p = 0;\n    while(Math.round(x * e) / e !== x){\n        e *= 10;\n        p++;\n    }\n    return p;\n}\n// Gets the angle from vertical upright to the point about a centre.\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n    const distanceFromXCenter = anglePoint.x - centrePoint.x;\n    const distanceFromYCenter = anglePoint.y - centrePoint.y;\n    const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n    let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n    if (angle < -0.5 * PI) {\n        angle += TAU; // make sure the returned angle is in the range of (-PI/2, 3PI/2]\n    }\n    return {\n        angle,\n        distance: radialDistanceFromCenter\n    };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n    return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\n/**\n * Shortest distance between angles, in either direction.\n * @private\n */ function _angleDiff(a, b) {\n    return (a - b + PITAU) % TAU - PI;\n}\n/**\n * Normalize angle to be between 0 and 2*PI\n * @private\n */ function _normalizeAngle(a) {\n    return (a % TAU + TAU) % TAU;\n}\n/**\n * @private\n */ function _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n    const a = _normalizeAngle(angle);\n    const s = _normalizeAngle(start);\n    const e = _normalizeAngle(end);\n    const angleToStart = _normalizeAngle(s - a);\n    const angleToEnd = _normalizeAngle(e - a);\n    const startToAngle = _normalizeAngle(a - s);\n    const endToAngle = _normalizeAngle(a - e);\n    return a === s || a === e || sameAngleIsFullCircle && s === e || angleToStart > angleToEnd && startToAngle < endToAngle;\n}\n/**\n * Limit `value` between `min` and `max`\n * @param value\n * @param min\n * @param max\n * @private\n */ function _limitValue(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n}\n/**\n * @param {number} value\n * @private\n */ function _int16Range(value) {\n    return _limitValue(value, -32768, 32767);\n}\n/**\n * @param value\n * @param start\n * @param end\n * @param [epsilon]\n * @private\n */ function _isBetween(value, start, end, epsilon = 1e-6) {\n    return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nfunction _lookup(table, value, cmp) {\n    cmp = cmp || ((index)=>table[index] < value);\n    let hi = table.length - 1;\n    let lo = 0;\n    let mid;\n    while(hi - lo > 1){\n        mid = lo + hi >> 1;\n        if (cmp(mid)) {\n            lo = mid;\n        } else {\n            hi = mid;\n        }\n    }\n    return {\n        lo,\n        hi\n    };\n}\n/**\n * Binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @param last - lookup last index\n * @private\n */ const _lookupByKey = (table, key, value, last)=>_lookup(table, value, last ? (index)=>{\n        const ti = table[index][key];\n        return ti < value || ti === value && table[index + 1][key] === value;\n    } : (index)=>table[index][key] < value);\n/**\n * Reverse binary search\n * @param table - the table search. must be sorted!\n * @param key - property name for the value in each entry\n * @param value - value to find\n * @private\n */ const _rlookupByKey = (table, key, value)=>_lookup(table, value, (index)=>table[index][key] >= value);\n/**\n * Return subset of `values` between `min` and `max` inclusive.\n * Values are assumed to be in sorted order.\n * @param values - sorted array of values\n * @param min - min value\n * @param max - max value\n */ function _filterBetween(values, min, max) {\n    let start = 0;\n    let end = values.length;\n    while(start < end && values[start] < min){\n        start++;\n    }\n    while(end > start && values[end - 1] > max){\n        end--;\n    }\n    return start > 0 || end < values.length ? values.slice(start, end) : values;\n}\nconst arrayEvents = [\n    'push',\n    'pop',\n    'shift',\n    'splice',\n    'unshift'\n];\nfunction listenArrayEvents(array, listener) {\n    if (array._chartjs) {\n        array._chartjs.listeners.push(listener);\n        return;\n    }\n    Object.defineProperty(array, '_chartjs', {\n        configurable: true,\n        enumerable: false,\n        value: {\n            listeners: [\n                listener\n            ]\n        }\n    });\n    arrayEvents.forEach((key)=>{\n        const method = '_onData' + _capitalize(key);\n        const base = array[key];\n        Object.defineProperty(array, key, {\n            configurable: true,\n            enumerable: false,\n            value (...args) {\n                const res = base.apply(this, args);\n                array._chartjs.listeners.forEach((object)=>{\n                    if (typeof object[method] === 'function') {\n                        object[method](...args);\n                    }\n                });\n                return res;\n            }\n        });\n    });\n}\nfunction unlistenArrayEvents(array, listener) {\n    const stub = array._chartjs;\n    if (!stub) {\n        return;\n    }\n    const listeners = stub.listeners;\n    const index = listeners.indexOf(listener);\n    if (index !== -1) {\n        listeners.splice(index, 1);\n    }\n    if (listeners.length > 0) {\n        return;\n    }\n    arrayEvents.forEach((key)=>{\n        delete array[key];\n    });\n    delete array._chartjs;\n}\n/**\n * @param items\n */ function _arrayUnique(items) {\n    const set = new Set(items);\n    if (set.size === items.length) {\n        return items;\n    }\n    return Array.from(set);\n}\n\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n    return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\n/**\n* Request animation polyfill\n*/ const requestAnimFrame = function() {\n    if (typeof window === 'undefined') {\n        return function(callback) {\n            return callback();\n        };\n    }\n    return window.requestAnimationFrame;\n}();\n/**\n * Throttles calling `fn` once per animation frame\n * Latest arguments are used on the actual call\n */ function throttled(fn, thisArg) {\n    let argsToUse = [];\n    let ticking = false;\n    return function(...args) {\n        // Save the args for use later\n        argsToUse = args;\n        if (!ticking) {\n            ticking = true;\n            requestAnimFrame.call(window, ()=>{\n                ticking = false;\n                fn.apply(thisArg, argsToUse);\n            });\n        }\n    };\n}\n/**\n * Debounces calling `fn` for `delay` ms\n */ function debounce(fn, delay) {\n    let timeout;\n    return function(...args) {\n        if (delay) {\n            clearTimeout(timeout);\n            timeout = setTimeout(fn, delay, args);\n        } else {\n            fn.apply(this, args);\n        }\n        return delay;\n    };\n}\n/**\n * Converts 'start' to 'left', 'end' to 'right' and others to 'center'\n * @private\n */ const _toLeftRightCenter = (align)=>align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\n/**\n * Returns `start`, `end` or `(start + end) / 2` depending on `align`. Defaults to `center`\n * @private\n */ const _alignStartEnd = (align, start, end)=>align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\n/**\n * Returns `left`, `right` or `(left + right) / 2` depending on `align`. Defaults to `left`\n * @private\n */ const _textX = (align, left, right, rtl)=>{\n    const check = rtl ? 'left' : 'right';\n    return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n/**\n * Return start and count of visible points.\n * @private\n */ function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n    const pointCount = points.length;\n    let start = 0;\n    let count = pointCount;\n    if (meta._sorted) {\n        const { iScale , vScale , _parsed  } = meta;\n        const spanGaps = meta.dataset ? meta.dataset.options ? meta.dataset.options.spanGaps : null : null;\n        const axis = iScale.axis;\n        const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n        if (minDefined) {\n            start = Math.min(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, axis, min).lo, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo);\n            if (spanGaps) {\n                const distanceToDefinedLo = _parsed.slice(0, start + 1).reverse().findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                start -= Math.max(0, distanceToDefinedLo);\n            }\n            start = _limitValue(start, 0, pointCount - 1);\n        }\n        if (maxDefined) {\n            let end = Math.max(// @ts-expect-error Need to type _parsed\n            _lookupByKey(_parsed, iScale.axis, max, true).hi + 1, // @ts-expect-error Need to fix types on _lookupByKey\n            animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1);\n            if (spanGaps) {\n                const distanceToDefinedHi = _parsed.slice(end - 1).findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                end += Math.max(0, distanceToDefinedHi);\n            }\n            count = _limitValue(end, start, pointCount) - start;\n        } else {\n            count = pointCount - start;\n        }\n    }\n    return {\n        start,\n        count\n    };\n}\n/**\n * Checks if the scale ranges have changed.\n * @param {object} meta - dataset meta.\n * @returns {boolean}\n * @private\n */ function _scaleRangesChanged(meta) {\n    const { xScale , yScale , _scaleRanges  } = meta;\n    const newRanges = {\n        xmin: xScale.min,\n        xmax: xScale.max,\n        ymin: yScale.min,\n        ymax: yScale.max\n    };\n    if (!_scaleRanges) {\n        meta._scaleRanges = newRanges;\n        return true;\n    }\n    const changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n    Object.assign(_scaleRanges, newRanges);\n    return changed;\n}\n\nconst atEdge = (t)=>t === 0 || t === 1;\nconst elasticIn = (t, s, p)=>-(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p)=>Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\n/**\n * Easing functions adapted from Robert Penner's easing equations.\n * @namespace Chart.helpers.easing.effects\n * @see http://www.robertpenner.com/easing/\n */ const effects = {\n    linear: (t)=>t,\n    easeInQuad: (t)=>t * t,\n    easeOutQuad: (t)=>-t * (t - 2),\n    easeInOutQuad: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t : -0.5 * (--t * (t - 2) - 1),\n    easeInCubic: (t)=>t * t * t,\n    easeOutCubic: (t)=>(t -= 1) * t * t + 1,\n    easeInOutCubic: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t : 0.5 * ((t -= 2) * t * t + 2),\n    easeInQuart: (t)=>t * t * t * t,\n    easeOutQuart: (t)=>-((t -= 1) * t * t * t - 1),\n    easeInOutQuart: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t : -0.5 * ((t -= 2) * t * t * t - 2),\n    easeInQuint: (t)=>t * t * t * t * t,\n    easeOutQuint: (t)=>(t -= 1) * t * t * t * t + 1,\n    easeInOutQuint: (t)=>(t /= 0.5) < 1 ? 0.5 * t * t * t * t * t : 0.5 * ((t -= 2) * t * t * t * t + 2),\n    easeInSine: (t)=>-Math.cos(t * HALF_PI) + 1,\n    easeOutSine: (t)=>Math.sin(t * HALF_PI),\n    easeInOutSine: (t)=>-0.5 * (Math.cos(PI * t) - 1),\n    easeInExpo: (t)=>t === 0 ? 0 : Math.pow(2, 10 * (t - 1)),\n    easeOutExpo: (t)=>t === 1 ? 1 : -Math.pow(2, -10 * t) + 1,\n    easeInOutExpo: (t)=>atEdge(t) ? t : t < 0.5 ? 0.5 * Math.pow(2, 10 * (t * 2 - 1)) : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n    easeInCirc: (t)=>t >= 1 ? t : -(Math.sqrt(1 - t * t) - 1),\n    easeOutCirc: (t)=>Math.sqrt(1 - (t -= 1) * t),\n    easeInOutCirc: (t)=>(t /= 0.5) < 1 ? -0.5 * (Math.sqrt(1 - t * t) - 1) : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n    easeInElastic: (t)=>atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n    easeOutElastic: (t)=>atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n    easeInOutElastic (t) {\n        const s = 0.1125;\n        const p = 0.45;\n        return atEdge(t) ? t : t < 0.5 ? 0.5 * elasticIn(t * 2, s, p) : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n    },\n    easeInBack (t) {\n        const s = 1.70158;\n        return t * t * ((s + 1) * t - s);\n    },\n    easeOutBack (t) {\n        const s = 1.70158;\n        return (t -= 1) * t * ((s + 1) * t + s) + 1;\n    },\n    easeInOutBack (t) {\n        let s = 1.70158;\n        if ((t /= 0.5) < 1) {\n            return 0.5 * (t * t * (((s *= 1.525) + 1) * t - s));\n        }\n        return 0.5 * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);\n    },\n    easeInBounce: (t)=>1 - effects.easeOutBounce(1 - t),\n    easeOutBounce (t) {\n        const m = 7.5625;\n        const d = 2.75;\n        if (t < 1 / d) {\n            return m * t * t;\n        }\n        if (t < 2 / d) {\n            return m * (t -= 1.5 / d) * t + 0.75;\n        }\n        if (t < 2.5 / d) {\n            return m * (t -= 2.25 / d) * t + 0.9375;\n        }\n        return m * (t -= 2.625 / d) * t + 0.984375;\n    },\n    easeInOutBounce: (t)=>t < 0.5 ? effects.easeInBounce(t * 2) * 0.5 : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5\n};\n\nfunction isPatternOrGradient(value) {\n    if (value && typeof value === 'object') {\n        const type = value.toString();\n        return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';\n    }\n    return false;\n}\nfunction color(value) {\n    return isPatternOrGradient(value) ? value : new Color(value);\n}\nfunction getHoverColor(value) {\n    return isPatternOrGradient(value) ? value : new Color(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst numbers = [\n    'x',\n    'y',\n    'borderWidth',\n    'radius',\n    'tension'\n];\nconst colors = [\n    'color',\n    'borderColor',\n    'backgroundColor'\n];\nfunction applyAnimationsDefaults(defaults) {\n    defaults.set('animation', {\n        delay: undefined,\n        duration: 1000,\n        easing: 'easeOutQuart',\n        fn: undefined,\n        from: undefined,\n        loop: undefined,\n        to: undefined,\n        type: undefined\n    });\n    defaults.describe('animation', {\n        _fallback: false,\n        _indexable: false,\n        _scriptable: (name)=>name !== 'onProgress' && name !== 'onComplete' && name !== 'fn'\n    });\n    defaults.set('animations', {\n        colors: {\n            type: 'color',\n            properties: colors\n        },\n        numbers: {\n            type: 'number',\n            properties: numbers\n        }\n    });\n    defaults.describe('animations', {\n        _fallback: 'animation'\n    });\n    defaults.set('transitions', {\n        active: {\n            animation: {\n                duration: 400\n            }\n        },\n        resize: {\n            animation: {\n                duration: 0\n            }\n        },\n        show: {\n            animations: {\n                colors: {\n                    from: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    duration: 0\n                }\n            }\n        },\n        hide: {\n            animations: {\n                colors: {\n                    to: 'transparent'\n                },\n                visible: {\n                    type: 'boolean',\n                    easing: 'linear',\n                    fn: (v)=>v | 0\n                }\n            }\n        }\n    });\n}\n\nfunction applyLayoutsDefaults(defaults) {\n    defaults.set('layout', {\n        autoPadding: true,\n        padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        }\n    });\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n    options = options || {};\n    const cacheKey = locale + JSON.stringify(options);\n    let formatter = intlCache.get(cacheKey);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(locale, options);\n        intlCache.set(cacheKey, formatter);\n    }\n    return formatter;\n}\nfunction formatNumber(num, locale, options) {\n    return getNumberFormat(locale, options).format(num);\n}\n\nconst formatters = {\n values (value) {\n        return isArray(value) ?  value : '' + value;\n    },\n numeric (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const locale = this.chart.options.locale;\n        let notation;\n        let delta = tickValue;\n        if (ticks.length > 1) {\n            const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n            if (maxTick < 1e-4 || maxTick > 1e+15) {\n                notation = 'scientific';\n            }\n            delta = calculateDelta(tickValue, ticks);\n        }\n        const logDelta = log10(Math.abs(delta));\n        const numDecimal = isNaN(logDelta) ? 1 : Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n        const options = {\n            notation,\n            minimumFractionDigits: numDecimal,\n            maximumFractionDigits: numDecimal\n        };\n        Object.assign(options, this.options.ticks.format);\n        return formatNumber(tickValue, locale, options);\n    },\n logarithmic (tickValue, index, ticks) {\n        if (tickValue === 0) {\n            return '0';\n        }\n        const remain = ticks[index].significand || tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n        if ([\n            1,\n            2,\n            3,\n            5,\n            10,\n            15\n        ].includes(remain) || index > 0.8 * ticks.length) {\n            return formatters.numeric.call(this, tickValue, index, ticks);\n        }\n        return '';\n    }\n};\nfunction calculateDelta(tickValue, ticks) {\n    let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n    if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n        delta = tickValue - Math.floor(tickValue);\n    }\n    return delta;\n}\n var Ticks = {\n    formatters\n};\n\nfunction applyScaleDefaults(defaults) {\n    defaults.set('scale', {\n        display: true,\n        offset: false,\n        reverse: false,\n        beginAtZero: false,\n bounds: 'ticks',\n        clip: true,\n grace: 0,\n        grid: {\n            display: true,\n            lineWidth: 1,\n            drawOnChartArea: true,\n            drawTicks: true,\n            tickLength: 8,\n            tickWidth: (_ctx, options)=>options.lineWidth,\n            tickColor: (_ctx, options)=>options.color,\n            offset: false\n        },\n        border: {\n            display: true,\n            dash: [],\n            dashOffset: 0.0,\n            width: 1\n        },\n        title: {\n            display: false,\n            text: '',\n            padding: {\n                top: 4,\n                bottom: 4\n            }\n        },\n        ticks: {\n            minRotation: 0,\n            maxRotation: 50,\n            mirror: false,\n            textStrokeWidth: 0,\n            textStrokeColor: '',\n            padding: 3,\n            display: true,\n            autoSkip: true,\n            autoSkipPadding: 3,\n            labelOffset: 0,\n            callback: Ticks.formatters.values,\n            minor: {},\n            major: {},\n            align: 'center',\n            crossAlign: 'near',\n            showLabelBackdrop: false,\n            backdropColor: 'rgba(255, 255, 255, 0.75)',\n            backdropPadding: 2\n        }\n    });\n    defaults.route('scale.ticks', 'color', '', 'color');\n    defaults.route('scale.grid', 'color', '', 'borderColor');\n    defaults.route('scale.border', 'color', '', 'borderColor');\n    defaults.route('scale.title', 'color', '', 'color');\n    defaults.describe('scale', {\n        _fallback: false,\n        _scriptable: (name)=>!name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n        _indexable: (name)=>name !== 'borderDash' && name !== 'tickBorderDash' && name !== 'dash'\n    });\n    defaults.describe('scales', {\n        _fallback: 'scale'\n    });\n    defaults.describe('scale.ticks', {\n        _scriptable: (name)=>name !== 'backdropPadding' && name !== 'callback',\n        _indexable: (name)=>name !== 'backdropPadding'\n    });\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\n function getScope$1(node, key) {\n    if (!key) {\n        return node;\n    }\n    const keys = key.split('.');\n    for(let i = 0, n = keys.length; i < n; ++i){\n        const k = keys[i];\n        node = node[k] || (node[k] = Object.create(null));\n    }\n    return node;\n}\nfunction set(root, scope, values) {\n    if (typeof scope === 'string') {\n        return merge(getScope$1(root, scope), values);\n    }\n    return merge(getScope$1(root, ''), scope);\n}\n class Defaults {\n    constructor(_descriptors, _appliers){\n        this.animation = undefined;\n        this.backgroundColor = 'rgba(0,0,0,0.1)';\n        this.borderColor = 'rgba(0,0,0,0.1)';\n        this.color = '#666';\n        this.datasets = {};\n        this.devicePixelRatio = (context)=>context.chart.platform.getDevicePixelRatio();\n        this.elements = {};\n        this.events = [\n            'mousemove',\n            'mouseout',\n            'click',\n            'touchstart',\n            'touchmove'\n        ];\n        this.font = {\n            family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            size: 12,\n            style: 'normal',\n            lineHeight: 1.2,\n            weight: null\n        };\n        this.hover = {};\n        this.hoverBackgroundColor = (ctx, options)=>getHoverColor(options.backgroundColor);\n        this.hoverBorderColor = (ctx, options)=>getHoverColor(options.borderColor);\n        this.hoverColor = (ctx, options)=>getHoverColor(options.color);\n        this.indexAxis = 'x';\n        this.interaction = {\n            mode: 'nearest',\n            intersect: true,\n            includeInvisible: false\n        };\n        this.maintainAspectRatio = true;\n        this.onHover = null;\n        this.onClick = null;\n        this.parsing = true;\n        this.plugins = {};\n        this.responsive = true;\n        this.scale = undefined;\n        this.scales = {};\n        this.showLine = true;\n        this.drawActiveElementsOnTop = true;\n        this.describe(_descriptors);\n        this.apply(_appliers);\n    }\n set(scope, values) {\n        return set(this, scope, values);\n    }\n get(scope) {\n        return getScope$1(this, scope);\n    }\n describe(scope, values) {\n        return set(descriptors, scope, values);\n    }\n    override(scope, values) {\n        return set(overrides, scope, values);\n    }\n route(scope, name, targetScope, targetName) {\n        const scopeObject = getScope$1(this, scope);\n        const targetScopeObject = getScope$1(this, targetScope);\n        const privateName = '_' + name;\n        Object.defineProperties(scopeObject, {\n            [privateName]: {\n                value: scopeObject[name],\n                writable: true\n            },\n            [name]: {\n                enumerable: true,\n                get () {\n                    const local = this[privateName];\n                    const target = targetScopeObject[targetName];\n                    if (isObject(local)) {\n                        return Object.assign({}, target, local);\n                    }\n                    return valueOrDefault(local, target);\n                },\n                set (value) {\n                    this[privateName] = value;\n                }\n            }\n        });\n    }\n    apply(appliers) {\n        appliers.forEach((apply)=>apply(this));\n    }\n}\nvar defaults = /* #__PURE__ */ new Defaults({\n    _scriptable: (name)=>!name.startsWith('on'),\n    _indexable: (name)=>name !== 'events',\n    hover: {\n        _fallback: 'interaction'\n    },\n    interaction: {\n        _scriptable: false,\n        _indexable: false\n    }\n}, [\n    applyAnimationsDefaults,\n    applyLayoutsDefaults,\n    applyScaleDefaults\n]);\n\n/**\n * Converts the given font object into a CSS font string.\n * @param font - A font object.\n * @return The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font\n * @private\n */ function toFontString(font) {\n    if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n        return null;\n    }\n    return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n}\n/**\n * @private\n */ function _measureText(ctx, data, gc, longest, string) {\n    let textWidth = data[string];\n    if (!textWidth) {\n        textWidth = data[string] = ctx.measureText(string).width;\n        gc.push(string);\n    }\n    if (textWidth > longest) {\n        longest = textWidth;\n    }\n    return longest;\n}\n/**\n * @private\n */ // eslint-disable-next-line complexity\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n    cache = cache || {};\n    let data = cache.data = cache.data || {};\n    let gc = cache.garbageCollect = cache.garbageCollect || [];\n    if (cache.font !== font) {\n        data = cache.data = {};\n        gc = cache.garbageCollect = [];\n        cache.font = font;\n    }\n    ctx.save();\n    ctx.font = font;\n    let longest = 0;\n    const ilen = arrayOfThings.length;\n    let i, j, jlen, thing, nestedThing;\n    for(i = 0; i < ilen; i++){\n        thing = arrayOfThings[i];\n        // Undefined strings and arrays should not be measured\n        if (thing !== undefined && thing !== null && !isArray(thing)) {\n            longest = _measureText(ctx, data, gc, longest, thing);\n        } else if (isArray(thing)) {\n            // if it is an array lets measure each element\n            // to do maybe simplify this function a bit so we can do this more recursively?\n            for(j = 0, jlen = thing.length; j < jlen; j++){\n                nestedThing = thing[j];\n                // Undefined strings and arrays should not be measured\n                if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n                    longest = _measureText(ctx, data, gc, longest, nestedThing);\n                }\n            }\n        }\n    }\n    ctx.restore();\n    const gcLen = gc.length / 2;\n    if (gcLen > arrayOfThings.length) {\n        for(i = 0; i < gcLen; i++){\n            delete data[gc[i]];\n        }\n        gc.splice(0, gcLen);\n    }\n    return longest;\n}\n/**\n * Returns the aligned pixel value to avoid anti-aliasing blur\n * @param chart - The chart instance.\n * @param pixel - A pixel value.\n * @param width - The width of the element.\n * @returns The aligned pixel value.\n * @private\n */ function _alignPixel(chart, pixel, width) {\n    const devicePixelRatio = chart.currentDevicePixelRatio;\n    const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n    return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\n/**\n * Clears the entire canvas.\n */ function clearCanvas(canvas, ctx) {\n    if (!ctx && !canvas) {\n        return;\n    }\n    ctx = ctx || canvas.getContext('2d');\n    ctx.save();\n    // canvas.width and canvas.height do not consider the canvas transform,\n    // while clearRect does\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    drawPointLegend(ctx, options, x, y, null);\n}\n// eslint-disable-next-line complexity\nfunction drawPointLegend(ctx, options, x, y, w) {\n    let type, xOffset, yOffset, size, cornerRadius, width, xOffsetW, yOffsetW;\n    const style = options.pointStyle;\n    const rotation = options.rotation;\n    const radius = options.radius;\n    let rad = (rotation || 0) * RAD_PER_DEG;\n    if (style && typeof style === 'object') {\n        type = style.toString();\n        if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n            ctx.save();\n            ctx.translate(x, y);\n            ctx.rotate(rad);\n            ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n            ctx.restore();\n            return;\n        }\n    }\n    if (isNaN(radius) || radius <= 0) {\n        return;\n    }\n    ctx.beginPath();\n    switch(style){\n        // Default includes circle\n        default:\n            if (w) {\n                ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);\n            } else {\n                ctx.arc(x, y, radius, 0, TAU);\n            }\n            ctx.closePath();\n            break;\n        case 'triangle':\n            width = w ? w / 2 : radius;\n            ctx.moveTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            rad += TWO_THIRDS_PI;\n            ctx.lineTo(x + Math.sin(rad) * width, y - Math.cos(rad) * radius);\n            ctx.closePath();\n            break;\n        case 'rectRounded':\n            // NOTE: the rounded rect implementation changed to use `arc` instead of\n            // `quadraticCurveTo` since it generates better results when rect is\n            // almost a circle. 0.516 (instead of 0.5) produces results with visually\n            // closer proportion to the previous impl and it is inscribed in the\n            // circle with `radius`. For more details, see the following PRs:\n            // https://github.com/chartjs/Chart.js/issues/5597\n            // https://github.com/chartjs/Chart.js/issues/5858\n            cornerRadius = radius * 0.516;\n            size = radius - cornerRadius;\n            xOffset = Math.cos(rad + QUARTER_PI) * size;\n            xOffsetW = Math.cos(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            yOffset = Math.sin(rad + QUARTER_PI) * size;\n            yOffsetW = Math.sin(rad + QUARTER_PI) * (w ? w / 2 - cornerRadius : size);\n            ctx.arc(x - xOffsetW, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n            ctx.arc(x + yOffsetW, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n            ctx.arc(x + xOffsetW, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n            ctx.arc(x - yOffsetW, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n            ctx.closePath();\n            break;\n        case 'rect':\n            if (!rotation) {\n                size = Math.SQRT1_2 * radius;\n                width = w ? w / 2 : size;\n                ctx.rect(x - width, y - size, 2 * width, 2 * size);\n                break;\n            }\n            rad += QUARTER_PI;\n        /* falls through */ case 'rectRot':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            ctx.closePath();\n            break;\n        case 'crossRot':\n            rad += QUARTER_PI;\n        /* falls through */ case 'cross':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'star':\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            rad += QUARTER_PI;\n            xOffsetW = Math.cos(rad) * (w ? w / 2 : radius);\n            xOffset = Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            yOffsetW = Math.sin(rad) * (w ? w / 2 : radius);\n            ctx.moveTo(x - xOffsetW, y - yOffset);\n            ctx.lineTo(x + xOffsetW, y + yOffset);\n            ctx.moveTo(x + yOffsetW, y - xOffset);\n            ctx.lineTo(x - yOffsetW, y + xOffset);\n            break;\n        case 'line':\n            xOffset = w ? w / 2 : Math.cos(rad) * radius;\n            yOffset = Math.sin(rad) * radius;\n            ctx.moveTo(x - xOffset, y - yOffset);\n            ctx.lineTo(x + xOffset, y + yOffset);\n            break;\n        case 'dash':\n            ctx.moveTo(x, y);\n            ctx.lineTo(x + Math.cos(rad) * (w ? w / 2 : radius), y + Math.sin(rad) * radius);\n            break;\n        case false:\n            ctx.closePath();\n            break;\n    }\n    ctx.fill();\n    if (options.borderWidth > 0) {\n        ctx.stroke();\n    }\n}\n/**\n * Returns true if the point is inside the rectangle\n * @param point - The point to test\n * @param area - The rectangle\n * @param margin - allowed margin\n * @private\n */ function _isPointInArea(point, area, margin) {\n    margin = margin || 0.5; // margin - default is to match rounded decimals\n    return !area || point && point.x > area.left - margin && point.x < area.right + margin && point.y > area.top - margin && point.y < area.bottom + margin;\n}\nfunction clipArea(ctx, area) {\n    ctx.save();\n    ctx.beginPath();\n    ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n    ctx.clip();\n}\nfunction unclipArea(ctx) {\n    ctx.restore();\n}\n/**\n * @private\n */ function _steppedLineTo(ctx, previous, target, flip, mode) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    if (mode === 'middle') {\n        const midpoint = (previous.x + target.x) / 2.0;\n        ctx.lineTo(midpoint, previous.y);\n        ctx.lineTo(midpoint, target.y);\n    } else if (mode === 'after' !== !!flip) {\n        ctx.lineTo(previous.x, target.y);\n    } else {\n        ctx.lineTo(target.x, previous.y);\n    }\n    ctx.lineTo(target.x, target.y);\n}\n/**\n * @private\n */ function _bezierCurveTo(ctx, previous, target, flip) {\n    if (!previous) {\n        return ctx.lineTo(target.x, target.y);\n    }\n    ctx.bezierCurveTo(flip ? previous.cp1x : previous.cp2x, flip ? previous.cp1y : previous.cp2y, flip ? target.cp2x : target.cp1x, flip ? target.cp2y : target.cp1y, target.x, target.y);\n}\nfunction setRenderOpts(ctx, opts) {\n    if (opts.translation) {\n        ctx.translate(opts.translation[0], opts.translation[1]);\n    }\n    if (!isNullOrUndef(opts.rotation)) {\n        ctx.rotate(opts.rotation);\n    }\n    if (opts.color) {\n        ctx.fillStyle = opts.color;\n    }\n    if (opts.textAlign) {\n        ctx.textAlign = opts.textAlign;\n    }\n    if (opts.textBaseline) {\n        ctx.textBaseline = opts.textBaseline;\n    }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n    if (opts.strikethrough || opts.underline) {\n        /**\n     * Now that IE11 support has been dropped, we can use more\n     * of the TextMetrics object. The actual bounding boxes\n     * are unflagged in Chrome, Firefox, Edge, and Safari so they\n     * can be safely used.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#Browser_compatibility\n     */ const metrics = ctx.measureText(line);\n        const left = x - metrics.actualBoundingBoxLeft;\n        const right = x + metrics.actualBoundingBoxRight;\n        const top = y - metrics.actualBoundingBoxAscent;\n        const bottom = y + metrics.actualBoundingBoxDescent;\n        const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n        ctx.strokeStyle = ctx.fillStyle;\n        ctx.beginPath();\n        ctx.lineWidth = opts.decorationWidth || 2;\n        ctx.moveTo(left, yDecoration);\n        ctx.lineTo(right, yDecoration);\n        ctx.stroke();\n    }\n}\nfunction drawBackdrop(ctx, opts) {\n    const oldColor = ctx.fillStyle;\n    ctx.fillStyle = opts.color;\n    ctx.fillRect(opts.left, opts.top, opts.width, opts.height);\n    ctx.fillStyle = oldColor;\n}\n/**\n * Render text onto the canvas\n */ function renderText(ctx, text, x, y, font, opts = {}) {\n    const lines = isArray(text) ? text : [\n        text\n    ];\n    const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n    let i, line;\n    ctx.save();\n    ctx.font = font.string;\n    setRenderOpts(ctx, opts);\n    for(i = 0; i < lines.length; ++i){\n        line = lines[i];\n        if (opts.backdrop) {\n            drawBackdrop(ctx, opts.backdrop);\n        }\n        if (stroke) {\n            if (opts.strokeColor) {\n                ctx.strokeStyle = opts.strokeColor;\n            }\n            if (!isNullOrUndef(opts.strokeWidth)) {\n                ctx.lineWidth = opts.strokeWidth;\n            }\n            ctx.strokeText(line, x, y, opts.maxWidth);\n        }\n        ctx.fillText(line, x, y, opts.maxWidth);\n        decorateText(ctx, x, y, line, opts);\n        y += Number(font.lineHeight);\n    }\n    ctx.restore();\n}\n/**\n * Add a path of a rectangle with rounded corners to the current sub-path\n * @param ctx - Context\n * @param rect - Bounding rect\n */ function addRoundedRectPath(ctx, rect) {\n    const { x , y , w , h , radius  } = rect;\n    // top left arc\n    ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, 1.5 * PI, PI, true);\n    // line from top left to bottom left\n    ctx.lineTo(x, y + h - radius.bottomLeft);\n    // bottom left arc\n    ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n    // line from bottom left to bottom right\n    ctx.lineTo(x + w - radius.bottomRight, y + h);\n    // bottom right arc\n    ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n    // line from bottom right to top right\n    ctx.lineTo(x + w, y + radius.topRight);\n    // top right arc\n    ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n    // line from top right to top left\n    ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = /^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/;\nconst FONT_STYLE = /^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;\n/**\n * @alias Chart.helpers.options\n * @namespace\n */ /**\n * Converts the given line height `value` in pixels for a specific font `size`.\n * @param value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').\n * @param size - The font size (in pixels) used to resolve relative `value`.\n * @returns The effective line height in pixels (size * 1.2 if value is invalid).\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n * @since 2.7.0\n */ function toLineHeight(value, size) {\n    const matches = ('' + value).match(LINE_HEIGHT);\n    if (!matches || matches[1] === 'normal') {\n        return size * 1.2;\n    }\n    value = +matches[2];\n    switch(matches[3]){\n        case 'px':\n            return value;\n        case '%':\n            value /= 100;\n            break;\n    }\n    return size * value;\n}\nconst numberOrZero = (v)=>+v || 0;\nfunction _readValueToProps(value, props) {\n    const ret = {};\n    const objProps = isObject(props);\n    const keys = objProps ? Object.keys(props) : props;\n    const read = isObject(value) ? objProps ? (prop)=>valueOrDefault(value[prop], value[props[prop]]) : (prop)=>value[prop] : ()=>value;\n    for (const prop of keys){\n        ret[prop] = numberOrZero(read(prop));\n    }\n    return ret;\n}\n/**\n * Converts the given value into a TRBL object.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left)\n * @since 3.0.0\n */ function toTRBL(value) {\n    return _readValueToProps(value, {\n        top: 'y',\n        right: 'x',\n        bottom: 'y',\n        left: 'x'\n    });\n}\n/**\n * Converts the given value into a TRBL corners object (similar with css border-radius).\n * @param value - If a number, set the value to all TRBL corner components,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n * @returns The TRBL corner values (topLeft, topRight, bottomLeft, bottomRight)\n * @since 3.0.0\n */ function toTRBLCorners(value) {\n    return _readValueToProps(value, [\n        'topLeft',\n        'topRight',\n        'bottomLeft',\n        'bottomRight'\n    ]);\n}\n/**\n * Converts the given value into a padding object with pre-computed width/height.\n * @param value - If a number, set the value to all TRBL component,\n *  else, if an object, use defined properties and sets undefined ones to 0.\n *  x / y are shorthands for same value for left/right and top/bottom.\n * @returns The padding values (top, right, bottom, left, width, height)\n * @since 2.7.0\n */ function toPadding(value) {\n    const obj = toTRBL(value);\n    obj.width = obj.left + obj.right;\n    obj.height = obj.top + obj.bottom;\n    return obj;\n}\n/**\n * Parses font options and returns the font object.\n * @param options - A object that contains font options to be parsed.\n * @param fallback - A object that contains fallback font options.\n * @return The font object.\n * @private\n */ function toFont(options, fallback) {\n    options = options || {};\n    fallback = fallback || defaults.font;\n    let size = valueOrDefault(options.size, fallback.size);\n    if (typeof size === 'string') {\n        size = parseInt(size, 10);\n    }\n    let style = valueOrDefault(options.style, fallback.style);\n    if (style && !('' + style).match(FONT_STYLE)) {\n        console.warn('Invalid font style specified: \"' + style + '\"');\n        style = undefined;\n    }\n    const font = {\n        family: valueOrDefault(options.family, fallback.family),\n        lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n        size,\n        style,\n        weight: valueOrDefault(options.weight, fallback.weight),\n        string: ''\n    };\n    font.string = toFontString(font);\n    return font;\n}\n/**\n * Evaluates the given `inputs` sequentially and returns the first defined value.\n * @param inputs - An array of values, falling back to the last value.\n * @param context - If defined and the current value is a function, the value\n * is called with `context` as first argument and the result becomes the new input.\n * @param index - If defined and the current value is an array, the value\n * at `index` become the new input.\n * @param info - object to return information about resolution in\n * @param info.cacheable - Will be set to `false` if option is not cacheable.\n * @since 2.7.0\n */ function resolve(inputs, context, index, info) {\n    let cacheable = true;\n    let i, ilen, value;\n    for(i = 0, ilen = inputs.length; i < ilen; ++i){\n        value = inputs[i];\n        if (value === undefined) {\n            continue;\n        }\n        if (context !== undefined && typeof value === 'function') {\n            value = value(context);\n            cacheable = false;\n        }\n        if (index !== undefined && isArray(value)) {\n            value = value[index % value.length];\n            cacheable = false;\n        }\n        if (value !== undefined) {\n            if (info && !cacheable) {\n                info.cacheable = false;\n            }\n            return value;\n        }\n    }\n}\n/**\n * @param minmax\n * @param grace\n * @param beginAtZero\n * @private\n */ function _addGrace(minmax, grace, beginAtZero) {\n    const { min , max  } = minmax;\n    const change = toDimension(grace, (max - min) / 2);\n    const keepZero = (value, add)=>beginAtZero && value === 0 ? 0 : value + add;\n    return {\n        min: keepZero(min, -Math.abs(change)),\n        max: keepZero(max, change)\n    };\n}\nfunction createContext(parentContext, context) {\n    return Object.assign(Object.create(parentContext), context);\n}\n\n/**\n * Creates a Proxy for resolving raw values for options.\n * @param scopes - The option scopes to look for values, in resolution order\n * @param prefixes - The prefixes for values, in resolution order.\n * @param rootScopes - The root option scopes\n * @param fallback - Parent scopes fallback\n * @param getTarget - callback for getting the target for changed values\n * @returns Proxy\n * @private\n */ function _createResolver(scopes, prefixes = [\n    ''\n], rootScopes, fallback, getTarget = ()=>scopes[0]) {\n    const finalRootScopes = rootScopes || scopes;\n    if (typeof fallback === 'undefined') {\n        fallback = _resolve('_fallback', scopes);\n    }\n    const cache = {\n        [Symbol.toStringTag]: 'Object',\n        _cacheable: true,\n        _scopes: scopes,\n        _rootScopes: finalRootScopes,\n        _fallback: fallback,\n        _getTarget: getTarget,\n        override: (scope)=>_createResolver([\n                scope,\n                ...scopes\n            ], prefixes, finalRootScopes, fallback)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete target._keys; // remove cached keys\n            delete scopes[0][prop]; // remove from top level scope\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop) {\n            return _cached(target, prop, ()=>_resolveWithPrefixes(prop, prefixes, scopes, target));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(scopes[0]);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return getKeysFromAllScopes(target).includes(prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys (target) {\n            return getKeysFromAllScopes(target);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            const storage = target._storage || (target._storage = getTarget());\n            target[prop] = storage[prop] = value; // set to top level scope + cache\n            delete target._keys; // remove cached keys\n            return true;\n        }\n    });\n}\n/**\n * Returns an Proxy for resolving option values with context.\n * @param proxy - The Proxy returned by `_createResolver`\n * @param context - Context object for scriptable/indexable options\n * @param subProxy - The proxy provided for scriptable options\n * @param descriptorDefaults - Defaults for descriptors\n * @private\n */ function _attachContext(proxy, context, subProxy, descriptorDefaults) {\n    const cache = {\n        _cacheable: false,\n        _proxy: proxy,\n        _context: context,\n        _subProxy: subProxy,\n        _stack: new Set(),\n        _descriptors: _descriptors(proxy, descriptorDefaults),\n        setContext: (ctx)=>_attachContext(proxy, ctx, subProxy, descriptorDefaults),\n        override: (scope)=>_attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n    };\n    return new Proxy(cache, {\n        /**\n     * A trap for the delete operator.\n     */ deleteProperty (target, prop) {\n            delete target[prop]; // remove from cache\n            delete proxy[prop]; // remove from proxy\n            return true;\n        },\n        /**\n     * A trap for getting property values.\n     */ get (target, prop, receiver) {\n            return _cached(target, prop, ()=>_resolveWithContext(target, prop, receiver));\n        },\n        /**\n     * A trap for Object.getOwnPropertyDescriptor.\n     * Also used by Object.hasOwnProperty.\n     */ getOwnPropertyDescriptor (target, prop) {\n            return target._descriptors.allKeys ? Reflect.has(proxy, prop) ? {\n                enumerable: true,\n                configurable: true\n            } : undefined : Reflect.getOwnPropertyDescriptor(proxy, prop);\n        },\n        /**\n     * A trap for Object.getPrototypeOf.\n     */ getPrototypeOf () {\n            return Reflect.getPrototypeOf(proxy);\n        },\n        /**\n     * A trap for the in operator.\n     */ has (target, prop) {\n            return Reflect.has(proxy, prop);\n        },\n        /**\n     * A trap for Object.getOwnPropertyNames and Object.getOwnPropertySymbols.\n     */ ownKeys () {\n            return Reflect.ownKeys(proxy);\n        },\n        /**\n     * A trap for setting property values.\n     */ set (target, prop, value) {\n            proxy[prop] = value; // set to proxy\n            delete target[prop]; // remove from cache\n            return true;\n        }\n    });\n}\n/**\n * @private\n */ function _descriptors(proxy, defaults = {\n    scriptable: true,\n    indexable: true\n}) {\n    const { _scriptable =defaults.scriptable , _indexable =defaults.indexable , _allKeys =defaults.allKeys  } = proxy;\n    return {\n        allKeys: _allKeys,\n        scriptable: _scriptable,\n        indexable: _indexable,\n        isScriptable: isFunction(_scriptable) ? _scriptable : ()=>_scriptable,\n        isIndexable: isFunction(_indexable) ? _indexable : ()=>_indexable\n    };\n}\nconst readKey = (prefix, name)=>prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value)=>isObject(value) && prop !== 'adapters' && (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n    if (Object.prototype.hasOwnProperty.call(target, prop) || prop === 'constructor') {\n        return target[prop];\n    }\n    const value = resolve();\n    // cache the resolved value\n    target[prop] = value;\n    return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    let value = _proxy[prop]; // resolve from proxy\n    // resolve with context\n    if (isFunction(value) && descriptors.isScriptable(prop)) {\n        value = _resolveScriptable(prop, value, target, receiver);\n    }\n    if (isArray(value) && value.length) {\n        value = _resolveArray(prop, value, target, descriptors.isIndexable);\n    }\n    if (needsSubResolver(prop, value)) {\n        // if the resolved value is an object, create a sub resolver for it\n        value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n    }\n    return value;\n}\nfunction _resolveScriptable(prop, getValue, target, receiver) {\n    const { _proxy , _context , _subProxy , _stack  } = target;\n    if (_stack.has(prop)) {\n        throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n    }\n    _stack.add(prop);\n    let value = getValue(_context, _subProxy || receiver);\n    _stack.delete(prop);\n    if (needsSubResolver(prop, value)) {\n        // When scriptable option returns an object, create a resolver on that.\n        value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n    }\n    return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n    const { _proxy , _context , _subProxy , _descriptors: descriptors  } = target;\n    if (typeof _context.index !== 'undefined' && isIndexable(prop)) {\n        return value[_context.index % value.length];\n    } else if (isObject(value[0])) {\n        // Array of objects, return array or resolvers\n        const arr = value;\n        const scopes = _proxy._scopes.filter((s)=>s !== arr);\n        value = [];\n        for (const item of arr){\n            const resolver = createSubResolver(scopes, _proxy, prop, item);\n            value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n        }\n    }\n    return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n    return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent)=>key === true ? parent : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n    for (const parent of parentScopes){\n        const scope = getScope(key, parent);\n        if (scope) {\n            set.add(scope);\n            const fallback = resolveFallback(scope._fallback, key, value);\n            if (typeof fallback !== 'undefined' && fallback !== key && fallback !== parentFallback) {\n                // When we reach the descriptor that defines a new _fallback, return that.\n                // The fallback will resume to that new scope.\n                return fallback;\n            }\n        } else if (scope === false && typeof parentFallback !== 'undefined' && key !== parentFallback) {\n            // Fallback to `false` results to `false`, when falling back to different key.\n            // For example `interaction` from `hover` or `plugins.tooltip` and `animation` from `animations`\n            return null;\n        }\n    }\n    return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n    const rootScopes = resolver._rootScopes;\n    const fallback = resolveFallback(resolver._fallback, prop, value);\n    const allScopes = [\n        ...parentScopes,\n        ...rootScopes\n    ];\n    const set = new Set();\n    set.add(value);\n    let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n    if (key === null) {\n        return false;\n    }\n    if (typeof fallback !== 'undefined' && fallback !== prop) {\n        key = addScopesFromKey(set, allScopes, fallback, key, value);\n        if (key === null) {\n            return false;\n        }\n    }\n    return _createResolver(Array.from(set), [\n        ''\n    ], rootScopes, fallback, ()=>subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n    while(key){\n        key = addScopes(set, allScopes, key, fallback, item);\n    }\n    return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n    const parent = resolver._getTarget();\n    if (!(prop in parent)) {\n        parent[prop] = {};\n    }\n    const target = parent[prop];\n    if (isArray(target) && isObject(value)) {\n        // For array of objects, the object is used to store updated values\n        return value;\n    }\n    return target || {};\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n    let value;\n    for (const prefix of prefixes){\n        value = _resolve(readKey(prefix, prop), scopes);\n        if (typeof value !== 'undefined') {\n            return needsSubResolver(prop, value) ? createSubResolver(scopes, proxy, prop, value) : value;\n        }\n    }\n}\nfunction _resolve(key, scopes) {\n    for (const scope of scopes){\n        if (!scope) {\n            continue;\n        }\n        const value = scope[key];\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n    }\n}\nfunction getKeysFromAllScopes(target) {\n    let keys = target._keys;\n    if (!keys) {\n        keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n    }\n    return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n    const set = new Set();\n    for (const scope of scopes){\n        for (const key of Object.keys(scope).filter((k)=>!k.startsWith('_'))){\n            set.add(key);\n        }\n    }\n    return Array.from(set);\n}\nfunction _parseObjectDataRadialScale(meta, data, start, count) {\n    const { iScale  } = meta;\n    const { key ='r'  } = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for(i = 0, ilen = count; i < ilen; ++i){\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n            r: iScale.parse(resolveObjectKey(item, key), index)\n        };\n    }\n    return parsed;\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i)=>i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis)=>indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n    // Props to Rob Spencer at scaled innovation for his post on splining between points\n    // http://scaledinnovation.com/analytics/splines/aboutSplines.html\n    // This function must also respect \"skipped\" points\n    const previous = firstPoint.skip ? middlePoint : firstPoint;\n    const current = middlePoint;\n    const next = afterPoint.skip ? middlePoint : afterPoint;\n    const d01 = distanceBetweenPoints(current, previous);\n    const d12 = distanceBetweenPoints(next, current);\n    let s01 = d01 / (d01 + d12);\n    let s12 = d12 / (d01 + d12);\n    // If all points are the same, s01 & s02 will be inf\n    s01 = isNaN(s01) ? 0 : s01;\n    s12 = isNaN(s12) ? 0 : s12;\n    const fa = t * s01; // scaling factor for triangle Ta\n    const fb = t * s12;\n    return {\n        previous: {\n            x: current.x - fa * (next.x - previous.x),\n            y: current.y - fa * (next.y - previous.y)\n        },\n        next: {\n            x: current.x + fb * (next.x - previous.x),\n            y: current.y + fb * (next.y - previous.y)\n        }\n    };\n}\n/**\n * Adjust tangents to ensure monotonic properties\n */ function monotoneAdjust(points, deltaK, mK) {\n    const pointsLen = points.length;\n    let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen - 1; ++i){\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent || !pointAfter) {\n            continue;\n        }\n        if (almostEquals(deltaK[i], 0, EPSILON)) {\n            mK[i] = mK[i + 1] = 0;\n            continue;\n        }\n        alphaK = mK[i] / deltaK[i];\n        betaK = mK[i + 1] / deltaK[i];\n        squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n        if (squaredMagnitude <= 9) {\n            continue;\n        }\n        tauK = 3 / Math.sqrt(squaredMagnitude);\n        mK[i] = alphaK * tauK * deltaK[i];\n        mK[i + 1] = betaK * tauK * deltaK[i];\n    }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    let delta, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(let i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        const iPixel = pointCurrent[indexAxis];\n        const vPixel = pointCurrent[valueAxis];\n        if (pointBefore) {\n            delta = (iPixel - pointBefore[indexAxis]) / 3;\n            pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n            pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n        }\n        if (pointAfter) {\n            delta = (pointAfter[indexAxis] - iPixel) / 3;\n            pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n            pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n        }\n    }\n}\n/**\n * This function calculates Bzier control points in a similar way than |splineCurve|,\n * but preserves monotonicity of the provided data and ensures no local extremums are added\n * between the dataset discrete points due to the interpolation.\n * See : https://en.wikipedia.org/wiki/Monotone_cubic_interpolation\n */ function splineCurveMonotone(points, indexAxis = 'x') {\n    const valueAxis = getValueAxis(indexAxis);\n    const pointsLen = points.length;\n    const deltaK = Array(pointsLen).fill(0);\n    const mK = Array(pointsLen);\n    // Calculate slopes (deltaK) and initialize tangents (mK)\n    let i, pointBefore, pointCurrent;\n    let pointAfter = getPoint(points, 0);\n    for(i = 0; i < pointsLen; ++i){\n        pointBefore = pointCurrent;\n        pointCurrent = pointAfter;\n        pointAfter = getPoint(points, i + 1);\n        if (!pointCurrent) {\n            continue;\n        }\n        if (pointAfter) {\n            const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n            // In the case of two points that appear at the same x pixel, slopeDeltaX is 0\n            deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n        }\n        mK[i] = !pointBefore ? deltaK[i] : !pointAfter ? deltaK[i - 1] : sign(deltaK[i - 1]) !== sign(deltaK[i]) ? 0 : (deltaK[i - 1] + deltaK[i]) / 2;\n    }\n    monotoneAdjust(points, deltaK, mK);\n    monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n    return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n    let i, ilen, point, inArea, inAreaPrev;\n    let inAreaNext = _isPointInArea(points[0], area);\n    for(i = 0, ilen = points.length; i < ilen; ++i){\n        inAreaPrev = inArea;\n        inArea = inAreaNext;\n        inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n        if (!inArea) {\n            continue;\n        }\n        point = points[i];\n        if (inAreaPrev) {\n            point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n            point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n        }\n        if (inAreaNext) {\n            point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n            point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n        }\n    }\n}\n/**\n * @private\n */ function _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n    let i, ilen, point, controlPoints;\n    // Only consider points that are drawn in case the spanGaps option is used\n    if (options.spanGaps) {\n        points = points.filter((pt)=>!pt.skip);\n    }\n    if (options.cubicInterpolationMode === 'monotone') {\n        splineCurveMonotone(points, indexAxis);\n    } else {\n        let prev = loop ? points[points.length - 1] : points[0];\n        for(i = 0, ilen = points.length; i < ilen; ++i){\n            point = points[i];\n            controlPoints = splineCurve(prev, point, points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen], options.tension);\n            point.cp1x = controlPoints.previous.x;\n            point.cp1y = controlPoints.previous.y;\n            point.cp2x = controlPoints.next.x;\n            point.cp2y = controlPoints.next.y;\n            prev = point;\n        }\n    }\n    if (options.capBezierPoints) {\n        capBezierPoints(points, area);\n    }\n}\n\n/**\n * @private\n */ function _isDomSupported() {\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * @private\n */ function _getParentNode(domNode) {\n    let parent = domNode.parentNode;\n    if (parent && parent.toString() === '[object ShadowRoot]') {\n        parent = parent.host;\n    }\n    return parent;\n}\n/**\n * convert max-width/max-height values that may be percentages into a number\n * @private\n */ function parseMaxStyle(styleValue, node, parentProperty) {\n    let valueInPixels;\n    if (typeof styleValue === 'string') {\n        valueInPixels = parseInt(styleValue, 10);\n        if (styleValue.indexOf('%') !== -1) {\n            // percentage * size in dimension\n            valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n        }\n    } else {\n        valueInPixels = styleValue;\n    }\n    return valueInPixels;\n}\nconst getComputedStyle = (element)=>element.ownerDocument.defaultView.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n    return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = [\n    'top',\n    'right',\n    'bottom',\n    'left'\n];\nfunction getPositionedStyle(styles, style, suffix) {\n    const result = {};\n    suffix = suffix ? '-' + suffix : '';\n    for(let i = 0; i < 4; i++){\n        const pos = positions[i];\n        result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n    }\n    result.width = result.left + result.right;\n    result.height = result.top + result.bottom;\n    return result;\n}\nconst useOffsetPos = (x, y, target)=>(x > 0 || y > 0) && (!target || !target.shadowRoot);\n/**\n * @param e\n * @param canvas\n * @returns Canvas position\n */ function getCanvasPosition(e, canvas) {\n    const touches = e.touches;\n    const source = touches && touches.length ? touches[0] : e;\n    const { offsetX , offsetY  } = source;\n    let box = false;\n    let x, y;\n    if (useOffsetPos(offsetX, offsetY, e.target)) {\n        x = offsetX;\n        y = offsetY;\n    } else {\n        const rect = canvas.getBoundingClientRect();\n        x = source.clientX - rect.left;\n        y = source.clientY - rect.top;\n        box = true;\n    }\n    return {\n        x,\n        y,\n        box\n    };\n}\n/**\n * Gets an event's x, y coordinates, relative to the chart area\n * @param event\n * @param chart\n * @returns x and y coordinates of the event\n */ function getRelativePosition(event, chart) {\n    if ('native' in event) {\n        return event;\n    }\n    const { canvas , currentDevicePixelRatio  } = chart;\n    const style = getComputedStyle(canvas);\n    const borderBox = style.boxSizing === 'border-box';\n    const paddings = getPositionedStyle(style, 'padding');\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const { x , y , box  } = getCanvasPosition(event, canvas);\n    const xOffset = paddings.left + (box && borders.left);\n    const yOffset = paddings.top + (box && borders.top);\n    let { width , height  } = chart;\n    if (borderBox) {\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    return {\n        x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n        y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n    };\n}\nfunction getContainerSize(canvas, width, height) {\n    let maxWidth, maxHeight;\n    if (width === undefined || height === undefined) {\n        const container = canvas && _getParentNode(canvas);\n        if (!container) {\n            width = canvas.clientWidth;\n            height = canvas.clientHeight;\n        } else {\n            const rect = container.getBoundingClientRect(); // this is the border box of the container\n            const containerStyle = getComputedStyle(container);\n            const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n            const containerPadding = getPositionedStyle(containerStyle, 'padding');\n            width = rect.width - containerPadding.width - containerBorder.width;\n            height = rect.height - containerPadding.height - containerBorder.height;\n            maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n            maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n        }\n    }\n    return {\n        width,\n        height,\n        maxWidth: maxWidth || INFINITY,\n        maxHeight: maxHeight || INFINITY\n    };\n}\nconst round1 = (v)=>Math.round(v * 10) / 10;\n// eslint-disable-next-line complexity\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n    const style = getComputedStyle(canvas);\n    const margins = getPositionedStyle(style, 'margin');\n    const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n    const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n    const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n    let { width , height  } = containerSize;\n    if (style.boxSizing === 'content-box') {\n        const borders = getPositionedStyle(style, 'border', 'width');\n        const paddings = getPositionedStyle(style, 'padding');\n        width -= paddings.width + borders.width;\n        height -= paddings.height + borders.height;\n    }\n    width = Math.max(0, width - margins.width);\n    height = Math.max(0, aspectRatio ? width / aspectRatio : height - margins.height);\n    width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n    height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n    if (width && !height) {\n        // https://github.com/chartjs/Chart.js/issues/4659\n        // If the canvas has width, but no height, default to aspectRatio of 2 (canvas default)\n        height = round1(width / 2);\n    }\n    const maintainHeight = bbWidth !== undefined || bbHeight !== undefined;\n    if (maintainHeight && aspectRatio && containerSize.height && height > containerSize.height) {\n        height = containerSize.height;\n        width = round1(Math.floor(height * aspectRatio));\n    }\n    return {\n        width,\n        height\n    };\n}\n/**\n * @param chart\n * @param forceRatio\n * @param forceStyle\n * @returns True if the canvas context size or transformation has changed.\n */ function retinaScale(chart, forceRatio, forceStyle) {\n    const pixelRatio = forceRatio || 1;\n    const deviceHeight = Math.floor(chart.height * pixelRatio);\n    const deviceWidth = Math.floor(chart.width * pixelRatio);\n    chart.height = Math.floor(chart.height);\n    chart.width = Math.floor(chart.width);\n    const canvas = chart.canvas;\n    // If no style has been set on the canvas, the render size is used as display size,\n    // making the chart visually bigger, so let's enforce it to the \"correct\" values.\n    // See https://github.com/chartjs/Chart.js/issues/3575\n    if (canvas.style && (forceStyle || !canvas.style.height && !canvas.style.width)) {\n        canvas.style.height = `${chart.height}px`;\n        canvas.style.width = `${chart.width}px`;\n    }\n    if (chart.currentDevicePixelRatio !== pixelRatio || canvas.height !== deviceHeight || canvas.width !== deviceWidth) {\n        chart.currentDevicePixelRatio = pixelRatio;\n        canvas.height = deviceHeight;\n        canvas.width = deviceWidth;\n        chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        return true;\n    }\n    return false;\n}\n/**\n * Detects support for options object argument in addEventListener.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\n * @private\n */ const supportsEventListenerOptions = function() {\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n                return false;\n            }\n        };\n        if (_isDomSupported()) {\n            window.addEventListener('test', null, options);\n            window.removeEventListener('test', null, options);\n        }\n    } catch (e) {\n    // continue regardless of error\n    }\n    return passiveSupported;\n}();\n/**\n * The \"used\" size is the final value of a dimension property after all calculations have\n * been performed. This method uses the computed style of `element` but returns undefined\n * if the computed style is not expressed in pixels. That can happen in some cases where\n * `element` has a size relative to its parent and this last one is not yet displayed,\n * for example because of `display: none` on a parent node.\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value\n * @returns Size in pixels or undefined if unknown.\n */ function readUsedSize(element, property) {\n    const value = getStyle(element, property);\n    const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n    return matches ? +matches[1] : undefined;\n}\n\n/**\n * @private\n */ function _pointInLine(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: p1.y + t * (p2.y - p1.y)\n    };\n}\n/**\n * @private\n */ function _steppedInterpolation(p1, p2, t, mode) {\n    return {\n        x: p1.x + t * (p2.x - p1.x),\n        y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y : mode === 'after' ? t < 1 ? p1.y : p2.y : t > 0 ? p2.y : p1.y\n    };\n}\n/**\n * @private\n */ function _bezierInterpolation(p1, p2, t, mode) {\n    const cp1 = {\n        x: p1.cp2x,\n        y: p1.cp2y\n    };\n    const cp2 = {\n        x: p2.cp1x,\n        y: p2.cp1y\n    };\n    const a = _pointInLine(p1, cp1, t);\n    const b = _pointInLine(cp1, cp2, t);\n    const c = _pointInLine(cp2, p2, t);\n    const d = _pointInLine(a, b, t);\n    const e = _pointInLine(b, c, t);\n    return _pointInLine(d, e, t);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n    return {\n        x (x) {\n            return rectX + rectX + width - x;\n        },\n        setWidth (w) {\n            width = w;\n        },\n        textAlign (align) {\n            if (align === 'center') {\n                return align;\n            }\n            return align === 'right' ? 'left' : 'right';\n        },\n        xPlus (x, value) {\n            return x - value;\n        },\n        leftForLtr (x, itemWidth) {\n            return x - itemWidth;\n        }\n    };\n};\nconst getLeftToRightAdapter = function() {\n    return {\n        x (x) {\n            return x;\n        },\n        setWidth (w) {},\n        textAlign (align) {\n            return align;\n        },\n        xPlus (x, value) {\n            return x + value;\n        },\n        leftForLtr (x, _itemWidth) {\n            return x;\n        }\n    };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n    return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n    let style, original;\n    if (direction === 'ltr' || direction === 'rtl') {\n        style = ctx.canvas.style;\n        original = [\n            style.getPropertyValue('direction'),\n            style.getPropertyPriority('direction')\n        ];\n        style.setProperty('direction', direction, 'important');\n        ctx.prevTextDirection = original;\n    }\n}\nfunction restoreTextDirection(ctx, original) {\n    if (original !== undefined) {\n        delete ctx.prevTextDirection;\n        ctx.canvas.style.setProperty('direction', original[0], original[1]);\n    }\n}\n\nfunction propertyFn(property) {\n    if (property === 'angle') {\n        return {\n            between: _angleBetween,\n            compare: _angleDiff,\n            normalize: _normalizeAngle\n        };\n    }\n    return {\n        between: _isBetween,\n        compare: (a, b)=>a - b,\n        normalize: (x)=>x\n    };\n}\nfunction normalizeSegment({ start , end , count , loop , style  }) {\n    return {\n        start: start % count,\n        end: end % count,\n        loop: loop && (end - start + 1) % count === 0,\n        style\n    };\n}\nfunction getSegment(segment, points, bounds) {\n    const { property , start: startBound , end: endBound  } = bounds;\n    const { between , normalize  } = propertyFn(property);\n    const count = points.length;\n    let { start , end , loop  } = segment;\n    let i, ilen;\n    if (loop) {\n        start += count;\n        end += count;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n                break;\n            }\n            start--;\n            end--;\n        }\n        start %= count;\n        end %= count;\n    }\n    if (end < start) {\n        end += count;\n    }\n    return {\n        start,\n        end,\n        loop,\n        style: segment.style\n    };\n}\n function _boundSegment(segment, points, bounds) {\n    if (!bounds) {\n        return [\n            segment\n        ];\n    }\n    const { property , start: startBound , end: endBound  } = bounds;\n    const count = points.length;\n    const { compare , between , normalize  } = propertyFn(property);\n    const { start , end , loop , style  } = getSegment(segment, points, bounds);\n    const result = [];\n    let inside = false;\n    let subStart = null;\n    let value, point, prevValue;\n    const startIsBefore = ()=>between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n    const endIsBefore = ()=>compare(endBound, value) === 0 || between(endBound, prevValue, value);\n    const shouldStart = ()=>inside || startIsBefore();\n    const shouldStop = ()=>!inside || endIsBefore();\n    for(let i = start, prev = start; i <= end; ++i){\n        point = points[i % count];\n        if (point.skip) {\n            continue;\n        }\n        value = normalize(point[property]);\n        if (value === prevValue) {\n            continue;\n        }\n        inside = between(value, startBound, endBound);\n        if (subStart === null && shouldStart()) {\n            subStart = compare(value, startBound) === 0 ? i : prev;\n        }\n        if (subStart !== null && shouldStop()) {\n            result.push(normalizeSegment({\n                start: subStart,\n                end: i,\n                loop,\n                count,\n                style\n            }));\n            subStart = null;\n        }\n        prev = i;\n        prevValue = value;\n    }\n    if (subStart !== null) {\n        result.push(normalizeSegment({\n            start: subStart,\n            end,\n            loop,\n            count,\n            style\n        }));\n    }\n    return result;\n}\n function _boundSegments(line, bounds) {\n    const result = [];\n    const segments = line.segments;\n    for(let i = 0; i < segments.length; i++){\n        const sub = _boundSegment(segments[i], line.points, bounds);\n        if (sub.length) {\n            result.push(...sub);\n        }\n    }\n    return result;\n}\n function findStartAndEnd(points, count, loop, spanGaps) {\n    let start = 0;\n    let end = count - 1;\n    if (loop && !spanGaps) {\n        while(start < count && !points[start].skip){\n            start++;\n        }\n    }\n    while(start < count && points[start].skip){\n        start++;\n    }\n    start %= count;\n    if (loop) {\n        end += start;\n    }\n    while(end > start && points[end % count].skip){\n        end--;\n    }\n    end %= count;\n    return {\n        start,\n        end\n    };\n}\n function solidSegments(points, start, max, loop) {\n    const count = points.length;\n    const result = [];\n    let last = start;\n    let prev = points[start];\n    let end;\n    for(end = start + 1; end <= max; ++end){\n        const cur = points[end % count];\n        if (cur.skip || cur.stop) {\n            if (!prev.skip) {\n                loop = false;\n                result.push({\n                    start: start % count,\n                    end: (end - 1) % count,\n                    loop\n                });\n                start = last = cur.stop ? end : null;\n            }\n        } else {\n            last = end;\n            if (prev.skip) {\n                start = end;\n            }\n        }\n        prev = cur;\n    }\n    if (last !== null) {\n        result.push({\n            start: start % count,\n            end: last % count,\n            loop\n        });\n    }\n    return result;\n}\n function _computeSegments(line, segmentOptions) {\n    const points = line.points;\n    const spanGaps = line.options.spanGaps;\n    const count = points.length;\n    if (!count) {\n        return [];\n    }\n    const loop = !!line._loop;\n    const { start , end  } = findStartAndEnd(points, count, loop, spanGaps);\n    if (spanGaps === true) {\n        return splitByStyles(line, [\n            {\n                start,\n                end,\n                loop\n            }\n        ], points, segmentOptions);\n    }\n    const max = end < start ? end + count : end;\n    const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n    return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\n function splitByStyles(line, segments, points, segmentOptions) {\n    if (!segmentOptions || !segmentOptions.setContext || !points) {\n        return segments;\n    }\n    return doSplitByStyles(line, segments, points, segmentOptions);\n}\n function doSplitByStyles(line, segments, points, segmentOptions) {\n    const chartContext = line._chart.getContext();\n    const baseStyle = readStyle(line.options);\n    const { _datasetIndex: datasetIndex , options: { spanGaps  }  } = line;\n    const count = points.length;\n    const result = [];\n    let prevStyle = baseStyle;\n    let start = segments[0].start;\n    let i = start;\n    function addStyle(s, e, l, st) {\n        const dir = spanGaps ? -1 : 1;\n        if (s === e) {\n            return;\n        }\n        s += count;\n        while(points[s % count].skip){\n            s -= dir;\n        }\n        while(points[e % count].skip){\n            e += dir;\n        }\n        if (s % count !== e % count) {\n            result.push({\n                start: s % count,\n                end: e % count,\n                loop: l,\n                style: st\n            });\n            prevStyle = st;\n            start = e % count;\n        }\n    }\n    for (const segment of segments){\n        start = spanGaps ? start : segment.start;\n        let prev = points[start % count];\n        let style;\n        for(i = start + 1; i <= segment.end; i++){\n            const pt = points[i % count];\n            style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n                type: 'segment',\n                p0: prev,\n                p1: pt,\n                p0DataIndex: (i - 1) % count,\n                p1DataIndex: i % count,\n                datasetIndex\n            })));\n            if (styleChanged(style, prevStyle)) {\n                addStyle(start, i - 1, segment.loop, prevStyle);\n            }\n            prev = pt;\n            prevStyle = style;\n        }\n        if (start < i - 1) {\n            addStyle(start, i - 1, segment.loop, prevStyle);\n        }\n    }\n    return result;\n}\nfunction readStyle(options) {\n    return {\n        backgroundColor: options.backgroundColor,\n        borderCapStyle: options.borderCapStyle,\n        borderDash: options.borderDash,\n        borderDashOffset: options.borderDashOffset,\n        borderJoinStyle: options.borderJoinStyle,\n        borderWidth: options.borderWidth,\n        borderColor: options.borderColor\n    };\n}\nfunction styleChanged(style, prevStyle) {\n    if (!prevStyle) {\n        return false;\n    }\n    const cache = [];\n    const replacer = function(key, value) {\n        if (!isPatternOrGradient(value)) {\n            return value;\n        }\n        if (!cache.includes(value)) {\n            cache.push(value);\n        }\n        return cache.indexOf(value);\n    };\n    return JSON.stringify(style, replacer) !== JSON.stringify(prevStyle, replacer);\n}\n\nfunction getSizeForArea(scale, chartArea, field) {\n    return scale.options.clip ? scale[field] : chartArea[field];\n}\nfunction getDatasetArea(meta, chartArea) {\n    const { xScale , yScale  } = meta;\n    if (xScale && yScale) {\n        return {\n            left: getSizeForArea(xScale, chartArea, 'left'),\n            right: getSizeForArea(xScale, chartArea, 'right'),\n            top: getSizeForArea(yScale, chartArea, 'top'),\n            bottom: getSizeForArea(yScale, chartArea, 'bottom')\n        };\n    }\n    return chartArea;\n}\nfunction getDatasetClipArea(chart, meta) {\n    const clip = meta._clip;\n    if (clip.disabled) {\n        return false;\n    }\n    const area = getDatasetArea(meta, chart.chartArea);\n    return {\n        left: clip.left === false ? 0 : area.left - (clip.left === true ? 0 : clip.left),\n        right: clip.right === false ? chart.width : area.right + (clip.right === true ? 0 : clip.right),\n        top: clip.top === false ? 0 : area.top - (clip.top === true ? 0 : clip.top),\n        bottom: clip.bottom === false ? chart.height : area.bottom + (clip.bottom === true ? 0 : clip.bottom)\n    };\n}\n\nexport { unclipArea as $, _rlookupByKey as A, _lookupByKey as B, _isPointInArea as C, getAngleFromPoint as D, toPadding as E, each as F, getMaximumSize as G, HALF_PI as H, _getParentNode as I, readUsedSize as J, supportsEventListenerOptions as K, throttled as L, _isDomSupported as M, _factorize as N, finiteOrDefault as O, PI as P, callback as Q, _addGrace as R, _limitValue as S, TAU as T, toDegrees as U, _measureText as V, _int16Range as W, _alignPixel as X, clipArea as Y, renderText as Z, _arrayUnique as _, resolve as a, getStyle as a$, toFont as a0, _toLeftRightCenter as a1, _alignStartEnd as a2, overrides as a3, merge as a4, _capitalize as a5, descriptors as a6, isFunction as a7, _attachContext as a8, _createResolver as a9, getRtlAdapter as aA, overrideTextDirection as aB, _textX as aC, restoreTextDirection as aD, drawPointLegend as aE, distanceBetweenPoints as aF, noop as aG, _setMinAndMaxByKey as aH, niceNum as aI, almostWhole as aJ, almostEquals as aK, _decimalPlaces as aL, Ticks as aM, log10 as aN, _longestText as aO, _filterBetween as aP, _lookup as aQ, isPatternOrGradient as aR, getHoverColor as aS, clone as aT, _merger as aU, _mergerIf as aV, _deprecated as aW, _splitKey as aX, toFontString as aY, splineCurve as aZ, splineCurveMonotone as a_, _descriptors as aa, mergeIf as ab, uid as ac, debounce as ad, retinaScale as ae, clearCanvas as af, setsEqual as ag, getDatasetClipArea as ah, _elementsEqual as ai, _isClickEvent as aj, _isBetween as ak, _readValueToProps as al, _updateBezierControlPoints as am, _computeSegments as an, _boundSegments as ao, _steppedInterpolation as ap, _bezierInterpolation as aq, _pointInLine as ar, _steppedLineTo as as, _bezierCurveTo as at, drawPoint as au, addRoundedRectPath as av, toTRBL as aw, toTRBLCorners as ax, _boundSegment as ay, _normalizeAngle as az, isArray as b, fontString as b0, toLineHeight as b1, PITAU as b2, INFINITY as b3, RAD_PER_DEG as b4, QUARTER_PI as b5, TWO_THIRDS_PI as b6, _angleDiff as b7, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, defined as h, isObject as i, createContext as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, _getStartAndCountOfVisiblePoints as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _scaleRangesChanged as w, isNumber as x, _parseObjectDataRadialScale as y, getRelativePosition as z };\n//# sourceMappingURL=helpers.dataset.js.map\n","/*!\n * Chart.js v4.4.9\n * https://www.chartjs.org\n * (c) 2025 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, i as isObject, d as defaults, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as defined, s as sign, j as createContext, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as _getStartAndCountOfVisiblePoints, w as _scaleRangesChanged, x as isNumber, y as _parseObjectDataRadialScale, z as getRelativePosition, A as _rlookupByKey, B as _lookupByKey, C as _isPointInArea, D as getAngleFromPoint, E as toPadding, F as each, G as getMaximumSize, I as _getParentNode, J as readUsedSize, K as supportsEventListenerOptions, L as throttled, M as _isDomSupported, N as _factorize, O as finiteOrDefault, Q as callback, R as _addGrace, S as _limitValue, U as toDegrees, V as _measureText, W as _int16Range, X as _alignPixel, Y as clipArea, Z as renderText, $ as unclipArea, a0 as toFont, a1 as _toLeftRightCenter, a2 as _alignStartEnd, a3 as overrides, a4 as merge, a5 as _capitalize, a6 as descriptors, a7 as isFunction, a8 as _attachContext, a9 as _createResolver, aa as _descriptors, ab as mergeIf, ac as uid, ad as debounce, ae as retinaScale, af as clearCanvas, ag as setsEqual, ah as getDatasetClipArea, ai as _elementsEqual, aj as _isClickEvent, ak as _isBetween, al as _readValueToProps, am as _updateBezierControlPoints, an as _computeSegments, ao as _boundSegments, ap as _steppedInterpolation, aq as _bezierInterpolation, ar as _pointInLine, as as _steppedLineTo, at as _bezierCurveTo, au as drawPoint, av as addRoundedRectPath, aw as toTRBL, ax as toTRBLCorners, ay as _boundSegment, az as _normalizeAngle, aA as getRtlAdapter, aB as overrideTextDirection, aC as _textX, aD as restoreTextDirection, aE as drawPointLegend, aF as distanceBetweenPoints, aG as noop, aH as _setMinAndMaxByKey, aI as niceNum, aJ as almostWhole, aK as almostEquals, aL as _decimalPlaces, aM as Ticks, aN as log10, aO as _longestText, aP as _filterBetween, aQ as _lookup } from './chunks/helpers.dataset.js';\nimport '@kurkle/color';\n\nclass Animator {\n    constructor(){\n        this._request = null;\n        this._charts = new Map();\n        this._running = false;\n        this._lastDate = undefined;\n    }\n _notify(chart, anims, date, type) {\n        const callbacks = anims.listeners[type];\n        const numSteps = anims.duration;\n        callbacks.forEach((fn)=>fn({\n                chart,\n                initial: anims.initial,\n                numSteps,\n                currentStep: Math.min(date - anims.start, numSteps)\n            }));\n    }\n _refresh() {\n        if (this._request) {\n            return;\n        }\n        this._running = true;\n        this._request = requestAnimFrame.call(window, ()=>{\n            this._update();\n            this._request = null;\n            if (this._running) {\n                this._refresh();\n            }\n        });\n    }\n _update(date = Date.now()) {\n        let remaining = 0;\n        this._charts.forEach((anims, chart)=>{\n            if (!anims.running || !anims.items.length) {\n                return;\n            }\n            const items = anims.items;\n            let i = items.length - 1;\n            let draw = false;\n            let item;\n            for(; i >= 0; --i){\n                item = items[i];\n                if (item._active) {\n                    if (item._total > anims.duration) {\n                        anims.duration = item._total;\n                    }\n                    item.tick(date);\n                    draw = true;\n                } else {\n                    items[i] = items[items.length - 1];\n                    items.pop();\n                }\n            }\n            if (draw) {\n                chart.draw();\n                this._notify(chart, anims, date, 'progress');\n            }\n            if (!items.length) {\n                anims.running = false;\n                this._notify(chart, anims, date, 'complete');\n                anims.initial = false;\n            }\n            remaining += items.length;\n        });\n        this._lastDate = date;\n        if (remaining === 0) {\n            this._running = false;\n        }\n    }\n _getAnims(chart) {\n        const charts = this._charts;\n        let anims = charts.get(chart);\n        if (!anims) {\n            anims = {\n                running: false,\n                initial: true,\n                items: [],\n                listeners: {\n                    complete: [],\n                    progress: []\n                }\n            };\n            charts.set(chart, anims);\n        }\n        return anims;\n    }\n listen(chart, event, cb) {\n        this._getAnims(chart).listeners[event].push(cb);\n    }\n add(chart, items) {\n        if (!items || !items.length) {\n            return;\n        }\n        this._getAnims(chart).items.push(...items);\n    }\n has(chart) {\n        return this._getAnims(chart).items.length > 0;\n    }\n start(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims) {\n            return;\n        }\n        anims.running = true;\n        anims.start = Date.now();\n        anims.duration = anims.items.reduce((acc, cur)=>Math.max(acc, cur._duration), 0);\n        this._refresh();\n    }\n    running(chart) {\n        if (!this._running) {\n            return false;\n        }\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.running || !anims.items.length) {\n            return false;\n        }\n        return true;\n    }\n stop(chart) {\n        const anims = this._charts.get(chart);\n        if (!anims || !anims.items.length) {\n            return;\n        }\n        const items = anims.items;\n        let i = items.length - 1;\n        for(; i >= 0; --i){\n            items[i].cancel();\n        }\n        anims.items = [];\n        this._notify(chart, anims, Date.now(), 'complete');\n    }\n remove(chart) {\n        return this._charts.delete(chart);\n    }\n}\nvar animator = /* #__PURE__ */ new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n    boolean (from, to, factor) {\n        return factor > 0.5 ? to : from;\n    },\n color (from, to, factor) {\n        const c0 = color(from || transparent);\n        const c1 = c0.valid && color(to || transparent);\n        return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n    },\n    number (from, to, factor) {\n        return from + (to - from) * factor;\n    }\n};\nclass Animation {\n    constructor(cfg, target, prop, to){\n        const currentValue = target[prop];\n        to = resolve([\n            cfg.to,\n            to,\n            currentValue,\n            cfg.from\n        ]);\n        const from = resolve([\n            cfg.from,\n            currentValue,\n            to\n        ]);\n        this._active = true;\n        this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n        this._easing = effects[cfg.easing] || effects.linear;\n        this._start = Math.floor(Date.now() + (cfg.delay || 0));\n        this._duration = this._total = Math.floor(cfg.duration);\n        this._loop = !!cfg.loop;\n        this._target = target;\n        this._prop = prop;\n        this._from = from;\n        this._to = to;\n        this._promises = undefined;\n    }\n    active() {\n        return this._active;\n    }\n    update(cfg, to, date) {\n        if (this._active) {\n            this._notify(false);\n            const currentValue = this._target[this._prop];\n            const elapsed = date - this._start;\n            const remain = this._duration - elapsed;\n            this._start = date;\n            this._duration = Math.floor(Math.max(remain, cfg.duration));\n            this._total += elapsed;\n            this._loop = !!cfg.loop;\n            this._to = resolve([\n                cfg.to,\n                to,\n                currentValue,\n                cfg.from\n            ]);\n            this._from = resolve([\n                cfg.from,\n                currentValue,\n                to\n            ]);\n        }\n    }\n    cancel() {\n        if (this._active) {\n            this.tick(Date.now());\n            this._active = false;\n            this._notify(false);\n        }\n    }\n    tick(date) {\n        const elapsed = date - this._start;\n        const duration = this._duration;\n        const prop = this._prop;\n        const from = this._from;\n        const loop = this._loop;\n        const to = this._to;\n        let factor;\n        this._active = from !== to && (loop || elapsed < duration);\n        if (!this._active) {\n            this._target[prop] = to;\n            this._notify(true);\n            return;\n        }\n        if (elapsed < 0) {\n            this._target[prop] = from;\n            return;\n        }\n        factor = elapsed / duration % 2;\n        factor = loop && factor > 1 ? 2 - factor : factor;\n        factor = this._easing(Math.min(1, Math.max(0, factor)));\n        this._target[prop] = this._fn(from, to, factor);\n    }\n    wait() {\n        const promises = this._promises || (this._promises = []);\n        return new Promise((res, rej)=>{\n            promises.push({\n                res,\n                rej\n            });\n        });\n    }\n    _notify(resolved) {\n        const method = resolved ? 'res' : 'rej';\n        const promises = this._promises || [];\n        for(let i = 0; i < promises.length; i++){\n            promises[i][method]();\n        }\n    }\n}\n\nclass Animations {\n    constructor(chart, config){\n        this._chart = chart;\n        this._properties = new Map();\n        this.configure(config);\n    }\n    configure(config) {\n        if (!isObject(config)) {\n            return;\n        }\n        const animationOptions = Object.keys(defaults.animation);\n        const animatedProps = this._properties;\n        Object.getOwnPropertyNames(config).forEach((key)=>{\n            const cfg = config[key];\n            if (!isObject(cfg)) {\n                return;\n            }\n            const resolved = {};\n            for (const option of animationOptions){\n                resolved[option] = cfg[option];\n            }\n            (isArray(cfg.properties) && cfg.properties || [\n                key\n            ]).forEach((prop)=>{\n                if (prop === key || !animatedProps.has(prop)) {\n                    animatedProps.set(prop, resolved);\n                }\n            });\n        });\n    }\n _animateOptions(target, values) {\n        const newOptions = values.options;\n        const options = resolveTargetOptions(target, newOptions);\n        if (!options) {\n            return [];\n        }\n        const animations = this._createAnimations(options, newOptions);\n        if (newOptions.$shared) {\n            awaitAll(target.options.$animations, newOptions).then(()=>{\n                target.options = newOptions;\n            }, ()=>{\n            });\n        }\n        return animations;\n    }\n _createAnimations(target, values) {\n        const animatedProps = this._properties;\n        const animations = [];\n        const running = target.$animations || (target.$animations = {});\n        const props = Object.keys(values);\n        const date = Date.now();\n        let i;\n        for(i = props.length - 1; i >= 0; --i){\n            const prop = props[i];\n            if (prop.charAt(0) === '$') {\n                continue;\n            }\n            if (prop === 'options') {\n                animations.push(...this._animateOptions(target, values));\n                continue;\n            }\n            const value = values[prop];\n            let animation = running[prop];\n            const cfg = animatedProps.get(prop);\n            if (animation) {\n                if (cfg && animation.active()) {\n                    animation.update(cfg, value, date);\n                    continue;\n                } else {\n                    animation.cancel();\n                }\n            }\n            if (!cfg || !cfg.duration) {\n                target[prop] = value;\n                continue;\n            }\n            running[prop] = animation = new Animation(cfg, target, prop, value);\n            animations.push(animation);\n        }\n        return animations;\n    }\n update(target, values) {\n        if (this._properties.size === 0) {\n            Object.assign(target, values);\n            return;\n        }\n        const animations = this._createAnimations(target, values);\n        if (animations.length) {\n            animator.add(this._chart, animations);\n            return true;\n        }\n    }\n}\nfunction awaitAll(animations, properties) {\n    const running = [];\n    const keys = Object.keys(properties);\n    for(let i = 0; i < keys.length; i++){\n        const anim = animations[keys[i]];\n        if (anim && anim.active()) {\n            running.push(anim.wait());\n        }\n    }\n    return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n    if (!newOptions) {\n        return;\n    }\n    let options = target.options;\n    if (!options) {\n        target.options = newOptions;\n        return;\n    }\n    if (options.$shared) {\n        target.options = options = Object.assign({}, options, {\n            $shared: false,\n            $animations: {}\n        });\n    }\n    return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n    const opts = scale && scale.options || {};\n    const reverse = opts.reverse;\n    const min = opts.min === undefined ? allowedOverflow : 0;\n    const max = opts.max === undefined ? allowedOverflow : 0;\n    return {\n        start: reverse ? max : min,\n        end: reverse ? min : max\n    };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n    if (allowedOverflow === false) {\n        return false;\n    }\n    const x = scaleClip(xScale, allowedOverflow);\n    const y = scaleClip(yScale, allowedOverflow);\n    return {\n        top: y.end,\n        right: x.end,\n        bottom: y.start,\n        left: x.start\n    };\n}\nfunction toClip(value) {\n    let t, r, b, l;\n    if (isObject(value)) {\n        t = value.top;\n        r = value.right;\n        b = value.bottom;\n        l = value.left;\n    } else {\n        t = r = b = l = value;\n    }\n    return {\n        top: t,\n        right: r,\n        bottom: b,\n        left: l,\n        disabled: value === false\n    };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n    const keys = [];\n    const metasets = chart._getSortedDatasetMetas(filterVisible);\n    let i, ilen;\n    for(i = 0, ilen = metasets.length; i < ilen; ++i){\n        keys.push(metasets[i].index);\n    }\n    return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n    const keys = stack.keys;\n    const singleMode = options.mode === 'single';\n    let i, ilen, datasetIndex, otherValue;\n    if (value === null) {\n        return;\n    }\n    let found = false;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        datasetIndex = +keys[i];\n        if (datasetIndex === dsIndex) {\n            found = true;\n            if (options.all) {\n                continue;\n            }\n            break;\n        }\n        otherValue = stack.values[datasetIndex];\n        if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n            value += otherValue;\n        }\n    }\n    if (!found && !options.all) {\n        return 0;\n    }\n    return value;\n}\nfunction convertObjectDataToArray(data, meta) {\n    const { iScale , vScale  } = meta;\n    const iAxisKey = iScale.axis === 'x' ? 'x' : 'y';\n    const vAxisKey = vScale.axis === 'x' ? 'x' : 'y';\n    const keys = Object.keys(data);\n    const adata = new Array(keys.length);\n    let i, ilen, key;\n    for(i = 0, ilen = keys.length; i < ilen; ++i){\n        key = keys[i];\n        adata[i] = {\n            [iAxisKey]: key,\n            [vAxisKey]: data[key]\n        };\n    }\n    return adata;\n}\nfunction isStacked(scale, meta) {\n    const stacked = scale && scale.options.stacked;\n    return stacked || stacked === undefined && meta.stack !== undefined;\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n    return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n    const { min , max , minDefined , maxDefined  } = scale.getUserBounds();\n    return {\n        min: minDefined ? min : Number.NEGATIVE_INFINITY,\n        max: maxDefined ? max : Number.POSITIVE_INFINITY\n    };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n    const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n    return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n    for (const meta of vScale.getMatchingVisibleMetas(type).reverse()){\n        const value = stack[meta.index];\n        if (positive && value > 0 || !positive && value < 0) {\n            return meta.index;\n        }\n    }\n    return null;\n}\nfunction updateStacks(controller, parsed) {\n    const { chart , _cachedMeta: meta  } = controller;\n    const stacks = chart._stacks || (chart._stacks = {});\n    const { iScale , vScale , index: datasetIndex  } = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const key = getStackKey(iScale, vScale, meta);\n    const ilen = parsed.length;\n    let stack;\n    for(let i = 0; i < ilen; ++i){\n        const item = parsed[i];\n        const { [iAxis]: index , [vAxis]: value  } = item;\n        const itemStacks = item._stacks || (item._stacks = {});\n        stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n        stack[datasetIndex] = value;\n        stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n        stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n        const visualValues = stack._visualValues || (stack._visualValues = {});\n        visualValues[datasetIndex] = value;\n    }\n}\nfunction getFirstScaleId(chart, axis) {\n    const scales = chart.scales;\n    return Object.keys(scales).filter((key)=>scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n    return createContext(parent, {\n        active: false,\n        dataset: undefined,\n        datasetIndex: index,\n        index,\n        mode: 'default',\n        type: 'dataset'\n    });\n}\nfunction createDataContext(parent, index, element) {\n    return createContext(parent, {\n        active: false,\n        dataIndex: index,\n        parsed: undefined,\n        raw: undefined,\n        element,\n        index,\n        mode: 'default',\n        type: 'data'\n    });\n}\nfunction clearStacks(meta, items) {\n    const datasetIndex = meta.controller.index;\n    const axis = meta.vScale && meta.vScale.axis;\n    if (!axis) {\n        return;\n    }\n    items = items || meta._parsed;\n    for (const parsed of items){\n        const stacks = parsed._stacks;\n        if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n            return;\n        }\n        delete stacks[axis][datasetIndex];\n        if (stacks[axis]._visualValues !== undefined && stacks[axis]._visualValues[datasetIndex] !== undefined) {\n            delete stacks[axis]._visualValues[datasetIndex];\n        }\n    }\n}\nconst isDirectUpdateMode = (mode)=>mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared)=>shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart)=>canStack && !meta.hidden && meta._stacked && {\n        keys: getSortedDatasetIndices(chart, true),\n        values: null\n    };\nclass DatasetController {\n static defaults = {};\n static datasetElementType = null;\n static dataElementType = null;\n constructor(chart, datasetIndex){\n        this.chart = chart;\n        this._ctx = chart.ctx;\n        this.index = datasetIndex;\n        this._cachedDataOpts = {};\n        this._cachedMeta = this.getMeta();\n        this._type = this._cachedMeta.type;\n        this.options = undefined;\n         this._parsing = false;\n        this._data = undefined;\n        this._objectData = undefined;\n        this._sharedOptions = undefined;\n        this._drawStart = undefined;\n        this._drawCount = undefined;\n        this.enableOptionSharing = false;\n        this.supportsDecimation = false;\n        this.$context = undefined;\n        this._syncList = [];\n        this.datasetElementType = new.target.datasetElementType;\n        this.dataElementType = new.target.dataElementType;\n        this.initialize();\n    }\n    initialize() {\n        const meta = this._cachedMeta;\n        this.configure();\n        this.linkScales();\n        meta._stacked = isStacked(meta.vScale, meta);\n        this.addElements();\n        if (this.options.fill && !this.chart.isPluginEnabled('filler')) {\n            console.warn(\"Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options\");\n        }\n    }\n    updateIndex(datasetIndex) {\n        if (this.index !== datasetIndex) {\n            clearStacks(this._cachedMeta);\n        }\n        this.index = datasetIndex;\n    }\n    linkScales() {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        const chooseId = (axis, x, y, r)=>axis === 'x' ? x : axis === 'r' ? r : y;\n        const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n        const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n        const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n        const indexAxis = meta.indexAxis;\n        const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n        const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n        meta.xScale = this.getScaleForId(xid);\n        meta.yScale = this.getScaleForId(yid);\n        meta.rScale = this.getScaleForId(rid);\n        meta.iScale = this.getScaleForId(iid);\n        meta.vScale = this.getScaleForId(vid);\n    }\n    getDataset() {\n        return this.chart.data.datasets[this.index];\n    }\n    getMeta() {\n        return this.chart.getDatasetMeta(this.index);\n    }\n getScaleForId(scaleID) {\n        return this.chart.scales[scaleID];\n    }\n _getOtherScale(scale) {\n        const meta = this._cachedMeta;\n        return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n    reset() {\n        this._update('reset');\n    }\n _destroy() {\n        const meta = this._cachedMeta;\n        if (this._data) {\n            unlistenArrayEvents(this._data, this);\n        }\n        if (meta._stacked) {\n            clearStacks(meta);\n        }\n    }\n _dataCheck() {\n        const dataset = this.getDataset();\n        const data = dataset.data || (dataset.data = []);\n        const _data = this._data;\n        if (isObject(data)) {\n            const meta = this._cachedMeta;\n            this._data = convertObjectDataToArray(data, meta);\n        } else if (_data !== data) {\n            if (_data) {\n                unlistenArrayEvents(_data, this);\n                const meta = this._cachedMeta;\n                clearStacks(meta);\n                meta._parsed = [];\n            }\n            if (data && Object.isExtensible(data)) {\n                listenArrayEvents(data, this);\n            }\n            this._syncList = [];\n            this._data = data;\n        }\n    }\n    addElements() {\n        const meta = this._cachedMeta;\n        this._dataCheck();\n        if (this.datasetElementType) {\n            meta.dataset = new this.datasetElementType();\n        }\n    }\n    buildOrUpdateElements(resetNewElements) {\n        const meta = this._cachedMeta;\n        const dataset = this.getDataset();\n        let stackChanged = false;\n        this._dataCheck();\n        const oldStacked = meta._stacked;\n        meta._stacked = isStacked(meta.vScale, meta);\n        if (meta.stack !== dataset.stack) {\n            stackChanged = true;\n            clearStacks(meta);\n            meta.stack = dataset.stack;\n        }\n        this._resyncElements(resetNewElements);\n        if (stackChanged || oldStacked !== meta._stacked) {\n            updateStacks(this, meta._parsed);\n            meta._stacked = isStacked(meta.vScale, meta);\n        }\n    }\n configure() {\n        const config = this.chart.config;\n        const scopeKeys = config.datasetScopeKeys(this._type);\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n        this.options = config.createResolver(scopes, this.getContext());\n        this._parsing = this.options.parsing;\n        this._cachedDataOpts = {};\n    }\n parse(start, count) {\n        const { _cachedMeta: meta , _data: data  } = this;\n        const { iScale , _stacked  } = meta;\n        const iAxis = iScale.axis;\n        let sorted = start === 0 && count === data.length ? true : meta._sorted;\n        let prev = start > 0 && meta._parsed[start - 1];\n        let i, cur, parsed;\n        if (this._parsing === false) {\n            meta._parsed = data;\n            meta._sorted = true;\n            parsed = data;\n        } else {\n            if (isArray(data[start])) {\n                parsed = this.parseArrayData(meta, data, start, count);\n            } else if (isObject(data[start])) {\n                parsed = this.parseObjectData(meta, data, start, count);\n            } else {\n                parsed = this.parsePrimitiveData(meta, data, start, count);\n            }\n            const isNotInOrderComparedToPrev = ()=>cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n            for(i = 0; i < count; ++i){\n                meta._parsed[i + start] = cur = parsed[i];\n                if (sorted) {\n                    if (isNotInOrderComparedToPrev()) {\n                        sorted = false;\n                    }\n                    prev = cur;\n                }\n            }\n            meta._sorted = sorted;\n        }\n        if (_stacked) {\n            updateStacks(this, parsed);\n        }\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const labels = iScale.getLabels();\n        const singleScale = iScale === vScale;\n        const parsed = new Array(count);\n        let i, ilen, index;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            parsed[i] = {\n                [iAxis]: singleScale || iScale.parse(labels[index], index),\n                [vAxis]: vScale.parse(data[index], index)\n            };\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(item[0], index),\n                y: yScale.parse(item[1], index)\n            };\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const { xScale , yScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const parsed = new Array(count);\n        let i, ilen, index, item;\n        for(i = 0, ilen = count; i < ilen; ++i){\n            index = i + start;\n            item = data[index];\n            parsed[i] = {\n                x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n                y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n            };\n        }\n        return parsed;\n    }\n getParsed(index) {\n        return this._cachedMeta._parsed[index];\n    }\n getDataElement(index) {\n        return this._cachedMeta.data[index];\n    }\n applyStack(scale, parsed, mode) {\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const value = parsed[scale.axis];\n        const stack = {\n            keys: getSortedDatasetIndices(chart, true),\n            values: parsed._stacks[scale.axis]._visualValues\n        };\n        return applyStack(stack, value, meta.index, {\n            mode\n        });\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        const parsedValue = parsed[scale.axis];\n        let value = parsedValue === null ? NaN : parsedValue;\n        const values = stack && parsed._stacks[scale.axis];\n        if (stack && values) {\n            stack.values = values;\n            value = applyStack(stack, parsedValue, this._cachedMeta.index);\n        }\n        range.min = Math.min(range.min, value);\n        range.max = Math.max(range.max, value);\n    }\n getMinMax(scale, canStack) {\n        const meta = this._cachedMeta;\n        const _parsed = meta._parsed;\n        const sorted = meta._sorted && scale === meta.iScale;\n        const ilen = _parsed.length;\n        const otherScale = this._getOtherScale(scale);\n        const stack = createStack(canStack, meta, this.chart);\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        const { min: otherMin , max: otherMax  } = getUserBounds(otherScale);\n        let i, parsed;\n        function _skip() {\n            parsed = _parsed[i];\n            const otherValue = parsed[otherScale.axis];\n            return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n        }\n        for(i = 0; i < ilen; ++i){\n            if (_skip()) {\n                continue;\n            }\n            this.updateRangeFromParsed(range, scale, parsed, stack);\n            if (sorted) {\n                break;\n            }\n        }\n        if (sorted) {\n            for(i = ilen - 1; i >= 0; --i){\n                if (_skip()) {\n                    continue;\n                }\n                this.updateRangeFromParsed(range, scale, parsed, stack);\n                break;\n            }\n        }\n        return range;\n    }\n    getAllParsedValues(scale) {\n        const parsed = this._cachedMeta._parsed;\n        const values = [];\n        let i, ilen, value;\n        for(i = 0, ilen = parsed.length; i < ilen; ++i){\n            value = parsed[i][scale.axis];\n            if (isNumberFinite(value)) {\n                values.push(value);\n            }\n        }\n        return values;\n    }\n getMaxOverflow() {\n        return false;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const vScale = meta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n            value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n        };\n    }\n _update(mode) {\n        const meta = this._cachedMeta;\n        this.update(mode || 'default');\n        meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n update(mode) {}\n    draw() {\n        const ctx = this._ctx;\n        const chart = this.chart;\n        const meta = this._cachedMeta;\n        const elements = meta.data || [];\n        const area = chart.chartArea;\n        const active = [];\n        const start = this._drawStart || 0;\n        const count = this._drawCount || elements.length - start;\n        const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n        let i;\n        if (meta.dataset) {\n            meta.dataset.draw(ctx, area, start, count);\n        }\n        for(i = start; i < start + count; ++i){\n            const element = elements[i];\n            if (element.hidden) {\n                continue;\n            }\n            if (element.active && drawActiveElementsOnTop) {\n                active.push(element);\n            } else {\n                element.draw(ctx, area);\n            }\n        }\n        for(i = 0; i < active.length; ++i){\n            active[i].draw(ctx, area);\n        }\n    }\n getStyle(index, active) {\n        const mode = active ? 'active' : 'default';\n        return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n getContext(index, active, mode) {\n        const dataset = this.getDataset();\n        let context;\n        if (index >= 0 && index < this._cachedMeta.data.length) {\n            const element = this._cachedMeta.data[index];\n            context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n            context.parsed = this.getParsed(index);\n            context.raw = dataset.data[index];\n            context.index = context.dataIndex = index;\n        } else {\n            context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n            context.dataset = dataset;\n            context.index = context.datasetIndex = this.index;\n        }\n        context.active = !!active;\n        context.mode = mode;\n        return context;\n    }\n resolveDatasetElementOptions(mode) {\n        return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n resolveDataElementOptions(index, mode) {\n        return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n _resolveElementOptions(elementType, mode = 'default', index) {\n        const active = mode === 'active';\n        const cache = this._cachedDataOpts;\n        const cacheKey = elementType + '-' + mode;\n        const cached = cache[cacheKey];\n        const sharing = this.enableOptionSharing && defined(index);\n        if (cached) {\n            return cloneIfNotShared(cached, sharing);\n        }\n        const config = this.chart.config;\n        const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n        const prefixes = active ? [\n            `${elementType}Hover`,\n            'hover',\n            elementType,\n            ''\n        ] : [\n            elementType,\n            ''\n        ];\n        const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        const names = Object.keys(defaults.elements[elementType]);\n        const context = ()=>this.getContext(index, active, mode);\n        const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n        if (values.$shared) {\n            values.$shared = sharing;\n            cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n        }\n        return values;\n    }\n _resolveAnimations(index, transition, active) {\n        const chart = this.chart;\n        const cache = this._cachedDataOpts;\n        const cacheKey = `animation-${transition}`;\n        const cached = cache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        let options;\n        if (chart.options.animation !== false) {\n            const config = this.chart.config;\n            const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n            const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n            options = config.createResolver(scopes, this.getContext(index, active, transition));\n        }\n        const animations = new Animations(chart, options && options.animations);\n        if (options && options._cacheable) {\n            cache[cacheKey] = Object.freeze(animations);\n        }\n        return animations;\n    }\n getSharedOptions(options) {\n        if (!options.$shared) {\n            return;\n        }\n        return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n includeOptions(mode, sharedOptions) {\n        return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n _getSharedOptions(start, mode) {\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const previouslySharedOptions = this._sharedOptions;\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions) || sharedOptions !== previouslySharedOptions;\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n        return {\n            sharedOptions,\n            includeOptions\n        };\n    }\n updateElement(element, index, properties, mode) {\n        if (isDirectUpdateMode(mode)) {\n            Object.assign(element, properties);\n        } else {\n            this._resolveAnimations(index, mode).update(element, properties);\n        }\n    }\n updateSharedOptions(sharedOptions, mode, newOptions) {\n        if (sharedOptions && !isDirectUpdateMode(mode)) {\n            this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n        }\n    }\n _setStyle(element, index, mode, active) {\n        element.active = active;\n        const options = this.getStyle(index, active);\n        this._resolveAnimations(index, mode, active).update(element, {\n            options: !active && this.getSharedOptions(options) || options\n        });\n    }\n    removeHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', false);\n    }\n    setHoverStyle(element, datasetIndex, index) {\n        this._setStyle(element, index, 'active', true);\n    }\n _removeDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', false);\n        }\n    }\n _setDatasetHoverStyle() {\n        const element = this._cachedMeta.dataset;\n        if (element) {\n            this._setStyle(element, undefined, 'active', true);\n        }\n    }\n _resyncElements(resetNewElements) {\n        const data = this._data;\n        const elements = this._cachedMeta.data;\n        for (const [method, arg1, arg2] of this._syncList){\n            this[method](arg1, arg2);\n        }\n        this._syncList = [];\n        const numMeta = elements.length;\n        const numData = data.length;\n        const count = Math.min(numData, numMeta);\n        if (count) {\n            this.parse(0, count);\n        }\n        if (numData > numMeta) {\n            this._insertElements(numMeta, numData - numMeta, resetNewElements);\n        } else if (numData < numMeta) {\n            this._removeElements(numData, numMeta - numData);\n        }\n    }\n _insertElements(start, count, resetNewElements = true) {\n        const meta = this._cachedMeta;\n        const data = meta.data;\n        const end = start + count;\n        let i;\n        const move = (arr)=>{\n            arr.length += count;\n            for(i = arr.length - 1; i >= end; i--){\n                arr[i] = arr[i - count];\n            }\n        };\n        move(data);\n        for(i = start; i < end; ++i){\n            data[i] = new this.dataElementType();\n        }\n        if (this._parsing) {\n            move(meta._parsed);\n        }\n        this.parse(start, count);\n        if (resetNewElements) {\n            this.updateElements(data, start, count, 'reset');\n        }\n    }\n    updateElements(element, start, count, mode) {}\n _removeElements(start, count) {\n        const meta = this._cachedMeta;\n        if (this._parsing) {\n            const removed = meta._parsed.splice(start, count);\n            if (meta._stacked) {\n                clearStacks(meta, removed);\n            }\n        }\n        meta.data.splice(start, count);\n    }\n _sync(args) {\n        if (this._parsing) {\n            this._syncList.push(args);\n        } else {\n            const [method, arg1, arg2] = args;\n            this[method](arg1, arg2);\n        }\n        this.chart._dataChanges.push([\n            this.index,\n            ...args\n        ]);\n    }\n    _onDataPush() {\n        const count = arguments.length;\n        this._sync([\n            '_insertElements',\n            this.getDataset().data.length - count,\n            count\n        ]);\n    }\n    _onDataPop() {\n        this._sync([\n            '_removeElements',\n            this._cachedMeta.data.length - 1,\n            1\n        ]);\n    }\n    _onDataShift() {\n        this._sync([\n            '_removeElements',\n            0,\n            1\n        ]);\n    }\n    _onDataSplice(start, count) {\n        if (count) {\n            this._sync([\n                '_removeElements',\n                start,\n                count\n            ]);\n        }\n        const newCount = arguments.length - 2;\n        if (newCount) {\n            this._sync([\n                '_insertElements',\n                start,\n                newCount\n            ]);\n        }\n    }\n    _onDataUnshift() {\n        this._sync([\n            '_insertElements',\n            0,\n            arguments.length\n        ]);\n    }\n}\n\nfunction getAllScaleValues(scale, type) {\n    if (!scale._cache.$bar) {\n        const visibleMetas = scale.getMatchingVisibleMetas(type);\n        let values = [];\n        for(let i = 0, ilen = visibleMetas.length; i < ilen; i++){\n            values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n        }\n        scale._cache.$bar = _arrayUnique(values.sort((a, b)=>a - b));\n    }\n    return scale._cache.$bar;\n}\n function computeMinSampleSize(meta) {\n    const scale = meta.iScale;\n    const values = getAllScaleValues(scale, meta.type);\n    let min = scale._length;\n    let i, ilen, curr, prev;\n    const updateMinAndPrev = ()=>{\n        if (curr === 32767 || curr === -32768) {\n            return;\n        }\n        if (defined(prev)) {\n            min = Math.min(min, Math.abs(curr - prev) || min);\n        }\n        prev = curr;\n    };\n    for(i = 0, ilen = values.length; i < ilen; ++i){\n        curr = scale.getPixelForValue(values[i]);\n        updateMinAndPrev();\n    }\n    prev = undefined;\n    for(i = 0, ilen = scale.ticks.length; i < ilen; ++i){\n        curr = scale.getPixelForTick(i);\n        updateMinAndPrev();\n    }\n    return min;\n}\n function computeFitCategoryTraits(index, ruler, options, stackCount) {\n    const thickness = options.barThickness;\n    let size, ratio;\n    if (isNullOrUndef(thickness)) {\n        size = ruler.min * options.categoryPercentage;\n        ratio = options.barPercentage;\n    } else {\n        size = thickness * stackCount;\n        ratio = 1;\n    }\n    return {\n        chunk: size / stackCount,\n        ratio,\n        start: ruler.pixels[index] - size / 2\n    };\n}\n function computeFlexCategoryTraits(index, ruler, options, stackCount) {\n    const pixels = ruler.pixels;\n    const curr = pixels[index];\n    let prev = index > 0 ? pixels[index - 1] : null;\n    let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n    const percent = options.categoryPercentage;\n    if (prev === null) {\n        prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n    }\n    if (next === null) {\n        next = curr + curr - prev;\n    }\n    const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n    const size = Math.abs(next - prev) / 2 * percent;\n    return {\n        chunk: size / stackCount,\n        ratio: options.barPercentage,\n        start\n    };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n    const startValue = vScale.parse(entry[0], i);\n    const endValue = vScale.parse(entry[1], i);\n    const min = Math.min(startValue, endValue);\n    const max = Math.max(startValue, endValue);\n    let barStart = min;\n    let barEnd = max;\n    if (Math.abs(min) > Math.abs(max)) {\n        barStart = max;\n        barEnd = min;\n    }\n    item[vScale.axis] = barEnd;\n    item._custom = {\n        barStart,\n        barEnd,\n        start: startValue,\n        end: endValue,\n        min,\n        max\n    };\n}\nfunction parseValue(entry, item, vScale, i) {\n    if (isArray(entry)) {\n        parseFloatBar(entry, item, vScale, i);\n    } else {\n        item[vScale.axis] = vScale.parse(entry, i);\n    }\n    return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = [];\n    let i, ilen, item, entry;\n    for(i = start, ilen = start + count; i < ilen; ++i){\n        entry = data[i];\n        item = {};\n        item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n        parsed.push(parseValue(entry, item, vScale, i));\n    }\n    return parsed;\n}\nfunction isFloatBar(custom) {\n    return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n    if (size !== 0) {\n        return sign(size);\n    }\n    return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n    let reverse, start, end, top, bottom;\n    if (properties.horizontal) {\n        reverse = properties.base > properties.x;\n        start = 'left';\n        end = 'right';\n    } else {\n        reverse = properties.base < properties.y;\n        start = 'bottom';\n        end = 'top';\n    }\n    if (reverse) {\n        top = 'end';\n        bottom = 'start';\n    } else {\n        top = 'start';\n        bottom = 'end';\n    }\n    return {\n        start,\n        end,\n        reverse,\n        top,\n        bottom\n    };\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n    let edge = options.borderSkipped;\n    const res = {};\n    if (!edge) {\n        properties.borderSkipped = res;\n        return;\n    }\n    if (edge === true) {\n        properties.borderSkipped = {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true\n        };\n        return;\n    }\n    const { start , end , reverse , top , bottom  } = borderProps(properties);\n    if (edge === 'middle' && stack) {\n        properties.enableBorderRadius = true;\n        if ((stack._top || 0) === index) {\n            edge = top;\n        } else if ((stack._bottom || 0) === index) {\n            edge = bottom;\n        } else {\n            res[parseEdge(bottom, start, end, reverse)] = true;\n            edge = top;\n        }\n    }\n    res[parseEdge(edge, start, end, reverse)] = true;\n    properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n    if (reverse) {\n        edge = swap(edge, a, b);\n        edge = startEnd(edge, b, a);\n    } else {\n        edge = startEnd(edge, a, b);\n    }\n    return edge;\n}\nfunction swap(orig, v1, v2) {\n    return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n    return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, { inflateAmount  }, ratio) {\n    properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\nclass BarController extends DatasetController {\n    static id = 'bar';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'bar',\n        categoryPercentage: 0.8,\n        barPercentage: 0.9,\n        grouped: true,\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'base',\n                    'width',\n                    'height'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category',\n                offset: true,\n                grid: {\n                    offset: true\n                }\n            },\n            _value_: {\n                type: 'linear',\n                beginAtZero: true\n            }\n        }\n    };\n parsePrimitiveData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseArrayData(meta, data, start, count) {\n        return parseArrayOrPrimitive(meta, data, start, count);\n    }\n parseObjectData(meta, data, start, count) {\n        const { iScale , vScale  } = meta;\n        const { xAxisKey ='x' , yAxisKey ='y'  } = this._parsing;\n        const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n        const parsed = [];\n        let i, ilen, item, obj;\n        for(i = start, ilen = start + count; i < ilen; ++i){\n            obj = data[i];\n            item = {};\n            item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n            parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n        }\n        return parsed;\n    }\n updateRangeFromParsed(range, scale, parsed, stack) {\n        super.updateRangeFromParsed(range, scale, parsed, stack);\n        const custom = parsed._custom;\n        if (custom && scale === this._cachedMeta.vScale) {\n            range.min = Math.min(range.min, custom.min);\n            range.max = Math.max(range.max, custom.max);\n        }\n    }\n getMaxOverflow() {\n        return 0;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const { iScale , vScale  } = meta;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n        return {\n            label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n            value\n        };\n    }\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n        const meta = this._cachedMeta;\n        meta.stack = this.getDataset().stack;\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n    updateElements(bars, start, count, mode) {\n        const reset = mode === 'reset';\n        const { index , _cachedMeta: { vScale  }  } = this;\n        const base = vScale.getBasePixel();\n        const horizontal = vScale.isHorizontal();\n        const ruler = this._getRuler();\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        for(let i = start; i < start + count; i++){\n            const parsed = this.getParsed(i);\n            const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n                base,\n                head: base\n            } : this._calculateBarValuePixels(i);\n            const ipixels = this._calculateBarIndexPixels(i, ruler);\n            const stack = (parsed._stacks || {})[vScale.axis];\n            const properties = {\n                horizontal,\n                base: vpixels.base,\n                enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n                x: horizontal ? vpixels.head : ipixels.center,\n                y: horizontal ? ipixels.center : vpixels.head,\n                height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n                width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n            }\n            const options = properties.options || bars[i].options;\n            setBorderSkipped(properties, options, stack, index);\n            setInflateAmount(properties, options, ruler.ratio);\n            this.updateElement(bars[i], i, properties, mode);\n        }\n    }\n _getStacks(last, dataIndex) {\n        const { iScale  } = this._cachedMeta;\n        const metasets = iScale.getMatchingVisibleMetas(this._type).filter((meta)=>meta.controller.options.grouped);\n        const stacked = iScale.options.stacked;\n        const stacks = [];\n        const currentParsed = this._cachedMeta.controller.getParsed(dataIndex);\n        const iScaleValue = currentParsed && currentParsed[iScale.axis];\n        const skipNull = (meta)=>{\n            const parsed = meta._parsed.find((item)=>item[iScale.axis] === iScaleValue);\n            const val = parsed && parsed[meta.vScale.axis];\n            if (isNullOrUndef(val) || isNaN(val)) {\n                return true;\n            }\n        };\n        for (const meta of metasets){\n            if (dataIndex !== undefined && skipNull(meta)) {\n                continue;\n            }\n            if (stacked === false || stacks.indexOf(meta.stack) === -1 || stacked === undefined && meta.stack === undefined) {\n                stacks.push(meta.stack);\n            }\n            if (meta.index === last) {\n                break;\n            }\n        }\n        if (!stacks.length) {\n            stacks.push(undefined);\n        }\n        return stacks;\n    }\n _getStackCount(index) {\n        return this._getStacks(undefined, index).length;\n    }\n _getStackIndex(datasetIndex, name, dataIndex) {\n        const stacks = this._getStacks(datasetIndex, dataIndex);\n        const index = name !== undefined ? stacks.indexOf(name) : -1;\n        return index === -1 ? stacks.length - 1 : index;\n    }\n _getRuler() {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const iScale = meta.iScale;\n        const pixels = [];\n        let i, ilen;\n        for(i = 0, ilen = meta.data.length; i < ilen; ++i){\n            pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n        }\n        const barThickness = opts.barThickness;\n        const min = barThickness || computeMinSampleSize(meta);\n        return {\n            min,\n            pixels,\n            start: iScale._startPixel,\n            end: iScale._endPixel,\n            stackCount: this._getStackCount(),\n            scale: iScale,\n            grouped: opts.grouped,\n            ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n        };\n    }\n _calculateBarValuePixels(index) {\n        const { _cachedMeta: { vScale , _stacked , index: datasetIndex  } , options: { base: baseValue , minBarLength  }  } = this;\n        const actualBase = baseValue || 0;\n        const parsed = this.getParsed(index);\n        const custom = parsed._custom;\n        const floating = isFloatBar(custom);\n        let value = parsed[vScale.axis];\n        let start = 0;\n        let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n        let head, size;\n        if (length !== value) {\n            start = length - value;\n            length = value;\n        }\n        if (floating) {\n            value = custom.barStart;\n            length = custom.barEnd - custom.barStart;\n            if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n                start = 0;\n            }\n            start += value;\n        }\n        const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n        let base = vScale.getPixelForValue(startValue);\n        if (this.chart.getDataVisibility(index)) {\n            head = vScale.getPixelForValue(start + length);\n        } else {\n            head = base;\n        }\n        size = head - base;\n        if (Math.abs(size) < minBarLength) {\n            size = barSign(size, vScale, actualBase) * minBarLength;\n            if (value === actualBase) {\n                base -= size / 2;\n            }\n            const startPixel = vScale.getPixelForDecimal(0);\n            const endPixel = vScale.getPixelForDecimal(1);\n            const min = Math.min(startPixel, endPixel);\n            const max = Math.max(startPixel, endPixel);\n            base = Math.max(Math.min(base, max), min);\n            head = base + size;\n            if (_stacked && !floating) {\n                parsed._stacks[vScale.axis]._visualValues[datasetIndex] = vScale.getValueForPixel(head) - vScale.getValueForPixel(base);\n            }\n        }\n        if (base === vScale.getPixelForValue(actualBase)) {\n            const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n            base += halfGrid;\n            size -= halfGrid;\n        }\n        return {\n            size,\n            base,\n            head,\n            center: head + size / 2\n        };\n    }\n _calculateBarIndexPixels(index, ruler) {\n        const scale = ruler.scale;\n        const options = this.options;\n        const skipNull = options.skipNull;\n        const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n        let center, size;\n        if (ruler.grouped) {\n            const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n            const range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n            const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n            center = range.start + range.chunk * stackIndex + range.chunk / 2;\n            size = Math.min(maxBarThickness, range.chunk * range.ratio);\n        } else {\n            center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n            size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n        }\n        return {\n            base: center - size / 2,\n            head: center + size / 2,\n            center,\n            size\n        };\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        const vScale = meta.vScale;\n        const rects = meta.data;\n        const ilen = rects.length;\n        let i = 0;\n        for(; i < ilen; ++i){\n            if (this.getParsed(i)[vScale.axis] !== null && !rects[i].hidden) {\n                rects[i].draw(this._ctx);\n            }\n        }\n    }\n}\n\nclass BubbleController extends DatasetController {\n    static id = 'bubble';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'borderWidth',\n                    'radius'\n                ]\n            }\n        }\n    };\n static overrides = {\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        super.initialize();\n    }\n parsePrimitiveData(meta, data, start, count) {\n        const parsed = super.parsePrimitiveData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n        }\n        return parsed;\n    }\n parseArrayData(meta, data, start, count) {\n        const parsed = super.parseArrayData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n parseObjectData(meta, data, start, count) {\n        const parsed = super.parseObjectData(meta, data, start, count);\n        for(let i = 0; i < parsed.length; i++){\n            const item = data[start + i];\n            parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n        }\n        return parsed;\n    }\n getMaxOverflow() {\n        const data = this._cachedMeta.data;\n        let max = 0;\n        for(let i = data.length - 1; i >= 0; --i){\n            max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n        }\n        return max > 0 && max;\n    }\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        const r = parsed._custom;\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n        };\n    }\n    update(mode) {\n        const points = this._cachedMeta.data;\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const parsed = !reset && this.getParsed(i);\n            const properties = {};\n            const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n            const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel);\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n                if (reset) {\n                    properties.options.radius = 0;\n                }\n            }\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n resolveDataElementOptions(index, mode) {\n        const parsed = this.getParsed(index);\n        let values = super.resolveDataElementOptions(index, mode);\n        if (values.$shared) {\n            values = Object.assign({}, values, {\n                $shared: false\n            });\n        }\n        const radius = values.radius;\n        if (mode !== 'active') {\n            values.radius = 0;\n        }\n        values.radius += valueOrDefault(parsed && parsed._custom, radius);\n        return values;\n    }\n}\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n    let ratioX = 1;\n    let ratioY = 1;\n    let offsetX = 0;\n    let offsetY = 0;\n    if (circumference < TAU) {\n        const startAngle = rotation;\n        const endAngle = startAngle + circumference;\n        const startX = Math.cos(startAngle);\n        const startY = Math.sin(startAngle);\n        const endX = Math.cos(endAngle);\n        const endY = Math.sin(endAngle);\n        const calcMax = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n        const calcMin = (angle, a, b)=>_angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n        const maxX = calcMax(0, startX, endX);\n        const maxY = calcMax(HALF_PI, startY, endY);\n        const minX = calcMin(PI, startX, endX);\n        const minY = calcMin(PI + HALF_PI, startY, endY);\n        ratioX = (maxX - minX) / 2;\n        ratioY = (maxY - minY) / 2;\n        offsetX = -(maxX + minX) / 2;\n        offsetY = -(maxY + minY) / 2;\n    }\n    return {\n        ratioX,\n        ratioY,\n        offsetX,\n        offsetY\n    };\n}\nclass DoughnutController extends DatasetController {\n    static id = 'doughnut';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: false\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'circumference',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius',\n                    'startAngle',\n                    'x',\n                    'y',\n                    'offset',\n                    'borderWidth',\n                    'spacing'\n                ]\n            }\n        },\n        cutout: '50%',\n        rotation: 0,\n        circumference: 360,\n        radius: '100%',\n        spacing: 0,\n        indexAxis: 'r'\n    };\n    static descriptors = {\n        _scriptable: (name)=>name !== 'spacing',\n        _indexable: (name)=>name !== 'spacing' && !name.startsWith('borderDash') && !name.startsWith('hoverBorderDash')\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.enableOptionSharing = true;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.offsetX = undefined;\n        this.offsetY = undefined;\n    }\n    linkScales() {}\n parse(start, count) {\n        const data = this.getDataset().data;\n        const meta = this._cachedMeta;\n        if (this._parsing === false) {\n            meta._parsed = data;\n        } else {\n            let getter = (i)=>+data[i];\n            if (isObject(data[start])) {\n                const { key ='value'  } = this._parsing;\n                getter = (i)=>+resolveObjectKey(data[i], key);\n            }\n            let i, ilen;\n            for(i = start, ilen = start + count; i < ilen; ++i){\n                meta._parsed[i] = getter(i);\n            }\n        }\n    }\n _getRotation() {\n        return toRadians(this.options.rotation - 90);\n    }\n _getCircumference() {\n        return toRadians(this.options.circumference);\n    }\n _getRotationExtents() {\n        let min = TAU;\n        let max = -TAU;\n        for(let i = 0; i < this.chart.data.datasets.length; ++i){\n            if (this.chart.isDatasetVisible(i) && this.chart.getDatasetMeta(i).type === this._type) {\n                const controller = this.chart.getDatasetMeta(i).controller;\n                const rotation = controller._getRotation();\n                const circumference = controller._getCircumference();\n                min = Math.min(min, rotation);\n                max = Math.max(max, rotation + circumference);\n            }\n        }\n        return {\n            rotation: min,\n            circumference: max - min\n        };\n    }\n update(mode) {\n        const chart = this.chart;\n        const { chartArea  } = chart;\n        const meta = this._cachedMeta;\n        const arcs = meta.data;\n        const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n        const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n        const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n        const chartWeight = this._getRingWeight(this.index);\n        const { circumference , rotation  } = this._getRotationExtents();\n        const { ratioX , ratioY , offsetX , offsetY  } = getRatioAndOffset(rotation, circumference, cutout);\n        const maxWidth = (chartArea.width - spacing) / ratioX;\n        const maxHeight = (chartArea.height - spacing) / ratioY;\n        const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n        const outerRadius = toDimension(this.options.radius, maxRadius);\n        const innerRadius = Math.max(outerRadius * cutout, 0);\n        const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n        this.offsetX = offsetX * outerRadius;\n        this.offsetY = offsetY * outerRadius;\n        meta.total = this.calculateTotal();\n        this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n        this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n _circumference(i, reset) {\n        const opts = this.options;\n        const meta = this._cachedMeta;\n        const circumference = this._getCircumference();\n        if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n            return 0;\n        }\n        return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const centerX = (chartArea.left + chartArea.right) / 2;\n        const centerY = (chartArea.top + chartArea.bottom) / 2;\n        const animateScale = reset && animationOpts.animateScale;\n        const innerRadius = animateScale ? 0 : this.innerRadius;\n        const outerRadius = animateScale ? 0 : this.outerRadius;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        let startAngle = this._getRotation();\n        let i;\n        for(i = 0; i < start; ++i){\n            startAngle += this._circumference(i, reset);\n        }\n        for(i = start; i < start + count; ++i){\n            const circumference = this._circumference(i, reset);\n            const arc = arcs[i];\n            const properties = {\n                x: centerX + this.offsetX,\n                y: centerY + this.offsetY,\n                startAngle,\n                endAngle: startAngle + circumference,\n                circumference,\n                outerRadius,\n                innerRadius\n            };\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n            }\n            startAngle += circumference;\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    calculateTotal() {\n        const meta = this._cachedMeta;\n        const metaData = meta.data;\n        let total = 0;\n        let i;\n        for(i = 0; i < metaData.length; i++){\n            const value = meta._parsed[i];\n            if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n                total += Math.abs(value);\n            }\n        }\n        return total;\n    }\n    calculateCircumference(value) {\n        const total = this._cachedMeta.total;\n        if (total > 0 && !isNaN(value)) {\n            return TAU * (Math.abs(value) / total);\n        }\n        return 0;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index], chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    getMaxBorderWidth(arcs) {\n        let max = 0;\n        const chart = this.chart;\n        let i, ilen, meta, controller, options;\n        if (!arcs) {\n            for(i = 0, ilen = chart.data.datasets.length; i < ilen; ++i){\n                if (chart.isDatasetVisible(i)) {\n                    meta = chart.getDatasetMeta(i);\n                    arcs = meta.data;\n                    controller = meta.controller;\n                    break;\n                }\n            }\n        }\n        if (!arcs) {\n            return 0;\n        }\n        for(i = 0, ilen = arcs.length; i < ilen; ++i){\n            options = controller.resolveDataElementOptions(i);\n            if (options.borderAlign !== 'inner') {\n                max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n            }\n        }\n        return max;\n    }\n    getMaxOffset(arcs) {\n        let max = 0;\n        for(let i = 0, ilen = arcs.length; i < ilen; ++i){\n            const options = this.resolveDataElementOptions(i);\n            max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n        }\n        return max;\n    }\n _getRingWeightOffset(datasetIndex) {\n        let ringWeightOffset = 0;\n        for(let i = 0; i < datasetIndex; ++i){\n            if (this.chart.isDatasetVisible(i)) {\n                ringWeightOffset += this._getRingWeight(i);\n            }\n        }\n        return ringWeightOffset;\n    }\n _getRingWeight(datasetIndex) {\n        return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n _getVisibleDatasetWeightTotal() {\n        return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n}\n\nclass LineController extends DatasetController {\n    static id = 'line';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        showLine: true,\n        spanGaps: false\n    };\n static overrides = {\n        scales: {\n            _index_: {\n                type: 'category'\n            },\n            _value_: {\n                type: 'linear'\n            }\n        }\n    };\n    initialize() {\n        this.enableOptionSharing = true;\n        this.supportsDecimation = true;\n        super.initialize();\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { dataset: line , data: points = [] , _dataset  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        line._chart = this.chart;\n        line._datasetIndex = this.index;\n        line._decimated = !!_dataset._decimated;\n        line.points = points;\n        const options = this.resolveDatasetElementOptions(mode);\n        if (!this.options.showLine) {\n            options.borderWidth = 0;\n        }\n        options.segment = this.options.segment;\n        this.updateElement(line, undefined, {\n            animated: !animationsDisabled,\n            options\n        }, mode);\n        this.updateElements(points, start, count, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const { sharedOptions , includeOptions  } = this._getSharedOptions(start, mode);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        const end = start + count;\n        const pointsCount = points.length;\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = 0; i < pointsCount; ++i){\n            const point = points[i];\n            const properties = directUpdate ? point : {};\n            if (i < start || i >= end) {\n                properties.skip = true;\n                continue;\n            }\n            const parsed = this.getParsed(i);\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        const data = meta.data || [];\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n    draw() {\n        const meta = this._cachedMeta;\n        meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n        super.draw();\n    }\n}\n\nclass PolarAreaController extends DatasetController {\n    static id = 'polarArea';\n static defaults = {\n        dataElementType: 'arc',\n        animation: {\n            animateRotate: true,\n            animateScale: true\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'startAngle',\n                    'endAngle',\n                    'innerRadius',\n                    'outerRadius'\n                ]\n            }\n        },\n        indexAxis: 'r',\n        startAngle: 0\n    };\n static overrides = {\n        aspectRatio: 1,\n        plugins: {\n            legend: {\n                labels: {\n                    generateLabels (chart) {\n                        const data = chart.data;\n                        if (data.labels.length && data.datasets.length) {\n                            const { labels: { pointStyle , color  }  } = chart.legend.options;\n                            return data.labels.map((label, i)=>{\n                                const meta = chart.getDatasetMeta(0);\n                                const style = meta.controller.getStyle(i);\n                                return {\n                                    text: label,\n                                    fillStyle: style.backgroundColor,\n                                    strokeStyle: style.borderColor,\n                                    fontColor: color,\n                                    lineWidth: style.borderWidth,\n                                    pointStyle: pointStyle,\n                                    hidden: !chart.getDataVisibility(i),\n                                    index: i\n                                };\n                            });\n                        }\n                        return [];\n                    }\n                },\n                onClick (e, legendItem, legend) {\n                    legend.chart.toggleDataVisibility(legendItem.index);\n                    legend.chart.update();\n                }\n            }\n        },\n        scales: {\n            r: {\n                type: 'radialLinear',\n                angleLines: {\n                    display: false\n                },\n                beginAtZero: true,\n                grid: {\n                    circular: true\n                },\n                pointLabels: {\n                    display: false\n                },\n                startAngle: 0\n            }\n        }\n    };\n    constructor(chart, datasetIndex){\n        super(chart, datasetIndex);\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n    }\n    getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const chart = this.chart;\n        const labels = chart.data.labels || [];\n        const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n        return {\n            label: labels[index] || '',\n            value\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const arcs = this._cachedMeta.data;\n        this._updateRadius();\n        this.updateElements(arcs, 0, arcs.length, mode);\n    }\n getMinMax() {\n        const meta = this._cachedMeta;\n        const range = {\n            min: Number.POSITIVE_INFINITY,\n            max: Number.NEGATIVE_INFINITY\n        };\n        meta.data.forEach((element, index)=>{\n            const parsed = this.getParsed(index).r;\n            if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {\n                if (parsed < range.min) {\n                    range.min = parsed;\n                }\n                if (parsed > range.max) {\n                    range.max = parsed;\n                }\n            }\n        });\n        return range;\n    }\n _updateRadius() {\n        const chart = this.chart;\n        const chartArea = chart.chartArea;\n        const opts = chart.options;\n        const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n        const outerRadius = Math.max(minSize / 2, 0);\n        const innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n        const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n        this.outerRadius = outerRadius - radiusLength * this.index;\n        this.innerRadius = this.outerRadius - radiusLength;\n    }\n    updateElements(arcs, start, count, mode) {\n        const reset = mode === 'reset';\n        const chart = this.chart;\n        const opts = chart.options;\n        const animationOpts = opts.animation;\n        const scale = this._cachedMeta.rScale;\n        const centerX = scale.xCenter;\n        const centerY = scale.yCenter;\n        const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n        let angle = datasetStartAngle;\n        let i;\n        const defaultAngle = 360 / this.countVisibleElements();\n        for(i = 0; i < start; ++i){\n            angle += this._computeAngle(i, mode, defaultAngle);\n        }\n        for(i = start; i < start + count; i++){\n            const arc = arcs[i];\n            let startAngle = angle;\n            let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n            let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;\n            angle = endAngle;\n            if (reset) {\n                if (animationOpts.animateScale) {\n                    outerRadius = 0;\n                }\n                if (animationOpts.animateRotate) {\n                    startAngle = endAngle = datasetStartAngle;\n                }\n            }\n            const properties = {\n                x: centerX,\n                y: centerY,\n                innerRadius: 0,\n                outerRadius,\n                startAngle,\n                endAngle,\n                options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n            };\n            this.updateElement(arc, i, properties, mode);\n        }\n    }\n    countVisibleElements() {\n        const meta = this._cachedMeta;\n        let count = 0;\n        meta.data.forEach((element, index)=>{\n            if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {\n                count++;\n            }\n        });\n        return count;\n    }\n _computeAngle(index, mode, defaultAngle) {\n        return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n}\n\nclass PieController extends DoughnutController {\n    static id = 'pie';\n static defaults = {\n        cutout: 0,\n        rotation: 0,\n        circumference: 360,\n        radius: '100%'\n    };\n}\n\nclass RadarController extends DatasetController {\n    static id = 'radar';\n static defaults = {\n        datasetElementType: 'line',\n        dataElementType: 'point',\n        indexAxis: 'r',\n        showLine: true,\n        elements: {\n            line: {\n                fill: 'start'\n            }\n        }\n    };\n static overrides = {\n        aspectRatio: 1,\n        scales: {\n            r: {\n                type: 'radialLinear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const vScale = this._cachedMeta.vScale;\n        const parsed = this.getParsed(index);\n        return {\n            label: vScale.getLabels()[index],\n            value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n        };\n    }\n    parseObjectData(meta, data, start, count) {\n        return _parseObjectDataRadialScale.bind(this)(meta, data, start, count);\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const line = meta.dataset;\n        const points = meta.data || [];\n        const labels = meta.iScale.getLabels();\n        line.points = points;\n        if (mode !== 'resize') {\n            const options = this.resolveDatasetElementOptions(mode);\n            if (!this.options.showLine) {\n                options.borderWidth = 0;\n            }\n            const properties = {\n                _loop: true,\n                _fullLoop: labels.length === points.length,\n                options\n            };\n            this.updateElement(line, undefined, properties, mode);\n        }\n        this.updateElements(points, 0, points.length, mode);\n    }\n    updateElements(points, start, count, mode) {\n        const scale = this._cachedMeta.rScale;\n        const reset = mode === 'reset';\n        for(let i = start; i < start + count; i++){\n            const point = points[i];\n            const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);\n            const x = reset ? scale.xCenter : pointPosition.x;\n            const y = reset ? scale.yCenter : pointPosition.y;\n            const properties = {\n                x,\n                y,\n                angle: pointPosition.angle,\n                skip: isNaN(x) || isNaN(y),\n                options\n            };\n            this.updateElement(point, i, properties, mode);\n        }\n    }\n}\n\nclass ScatterController extends DatasetController {\n    static id = 'scatter';\n static defaults = {\n        datasetElementType: false,\n        dataElementType: 'point',\n        showLine: false,\n        fill: false\n    };\n static overrides = {\n        interaction: {\n            mode: 'point'\n        },\n        scales: {\n            x: {\n                type: 'linear'\n            },\n            y: {\n                type: 'linear'\n            }\n        }\n    };\n getLabelAndValue(index) {\n        const meta = this._cachedMeta;\n        const labels = this.chart.data.labels || [];\n        const { xScale , yScale  } = meta;\n        const parsed = this.getParsed(index);\n        const x = xScale.getLabelForValue(parsed.x);\n        const y = yScale.getLabelForValue(parsed.y);\n        return {\n            label: labels[index] || '',\n            value: '(' + x + ', ' + y + ')'\n        };\n    }\n    update(mode) {\n        const meta = this._cachedMeta;\n        const { data: points = []  } = meta;\n        const animationsDisabled = this.chart._animationsDisabled;\n        let { start , count  } = _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n        this._drawStart = start;\n        this._drawCount = count;\n        if (_scaleRangesChanged(meta)) {\n            start = 0;\n            count = points.length;\n        }\n        if (this.options.showLine) {\n            if (!this.datasetElementType) {\n                this.addElements();\n            }\n            const { dataset: line , _dataset  } = meta;\n            line._chart = this.chart;\n            line._datasetIndex = this.index;\n            line._decimated = !!_dataset._decimated;\n            line.points = points;\n            const options = this.resolveDatasetElementOptions(mode);\n            options.segment = this.options.segment;\n            this.updateElement(line, undefined, {\n                animated: !animationsDisabled,\n                options\n            }, mode);\n        } else if (this.datasetElementType) {\n            delete meta.dataset;\n            this.datasetElementType = false;\n        }\n        this.updateElements(points, start, count, mode);\n    }\n    addElements() {\n        const { showLine  } = this.options;\n        if (!this.datasetElementType && showLine) {\n            this.datasetElementType = this.chart.registry.getElement('line');\n        }\n        super.addElements();\n    }\n    updateElements(points, start, count, mode) {\n        const reset = mode === 'reset';\n        const { iScale , vScale , _stacked , _dataset  } = this._cachedMeta;\n        const firstOpts = this.resolveDataElementOptions(start, mode);\n        const sharedOptions = this.getSharedOptions(firstOpts);\n        const includeOptions = this.includeOptions(mode, sharedOptions);\n        const iAxis = iScale.axis;\n        const vAxis = vScale.axis;\n        const { spanGaps , segment  } = this.options;\n        const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n        const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n        let prevParsed = start > 0 && this.getParsed(start - 1);\n        for(let i = start; i < start + count; ++i){\n            const point = points[i];\n            const parsed = this.getParsed(i);\n            const properties = directUpdate ? point : {};\n            const nullData = isNullOrUndef(parsed[vAxis]);\n            const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n            const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n            properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n            properties.stop = i > 0 && Math.abs(parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n            if (segment) {\n                properties.parsed = parsed;\n                properties.raw = _dataset.data[i];\n            }\n            if (includeOptions) {\n                properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n            }\n            if (!directUpdate) {\n                this.updateElement(point, i, properties, mode);\n            }\n            prevParsed = parsed;\n        }\n        this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n getMaxOverflow() {\n        const meta = this._cachedMeta;\n        const data = meta.data || [];\n        if (!this.options.showLine) {\n            let max = 0;\n            for(let i = data.length - 1; i >= 0; --i){\n                max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n            }\n            return max > 0 && max;\n        }\n        const dataset = meta.dataset;\n        const border = dataset.options && dataset.options.borderWidth || 0;\n        if (!data.length) {\n            return border;\n        }\n        const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n        const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n        return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n}\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPieController: PieController,\nPolarAreaController: PolarAreaController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\n/**\n * @namespace Chart._adapters\n * @since 2.8.0\n * @private\n */ function abstract() {\n    throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n/**\n * Date adapter (current used by the time scale)\n * @namespace Chart._adapters._date\n * @memberof Chart._adapters\n * @private\n */ class DateAdapterBase {\n    /**\n   * Override default date adapter methods.\n   * Accepts type parameter to define options type.\n   * @example\n   * Chart._adapters._date.override<{myAdapterOption: string}>({\n   *   init() {\n   *     console.log(this.options.myAdapterOption);\n   *   }\n   * })\n   */ static override(members) {\n        Object.assign(DateAdapterBase.prototype, members);\n    }\n    options;\n    constructor(options){\n        this.options = options || {};\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    init() {}\n    formats() {\n        return abstract();\n    }\n    parse() {\n        return abstract();\n    }\n    format() {\n        return abstract();\n    }\n    add() {\n        return abstract();\n    }\n    diff() {\n        return abstract();\n    }\n    startOf() {\n        return abstract();\n    }\n    endOf() {\n        return abstract();\n    }\n}\nvar adapters = {\n    _date: DateAdapterBase\n};\n\nfunction binarySearch(metaset, axis, value, intersect) {\n    const { controller , data , _sorted  } = metaset;\n    const iScale = controller._cachedMeta.iScale;\n    const spanGaps = metaset.dataset ? metaset.dataset.options ? metaset.dataset.options.spanGaps : null : null;\n    if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n        const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n        if (!intersect) {\n            const result = lookupMethod(data, axis, value);\n            if (spanGaps) {\n                const { vScale  } = controller._cachedMeta;\n                const { _parsed  } = metaset;\n                const distanceToDefinedLo = _parsed.slice(0, result.lo + 1).reverse().findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                result.lo -= Math.max(0, distanceToDefinedLo);\n                const distanceToDefinedHi = _parsed.slice(result.hi).findIndex((point)=>!isNullOrUndef(point[vScale.axis]));\n                result.hi += Math.max(0, distanceToDefinedHi);\n            }\n            return result;\n        } else if (controller._sharedOptions) {\n            const el = data[0];\n            const range = typeof el.getRange === 'function' && el.getRange(axis);\n            if (range) {\n                const start = lookupMethod(data, axis, value - range);\n                const end = lookupMethod(data, axis, value + range);\n                return {\n                    lo: start.lo,\n                    hi: end.hi\n                };\n            }\n        }\n    }\n    return {\n        lo: 0,\n        hi: data.length - 1\n    };\n}\n function evaluateInteractionItems(chart, axis, position, handler, intersect) {\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const value = position[axis];\n    for(let i = 0, ilen = metasets.length; i < ilen; ++i){\n        const { index , data  } = metasets[i];\n        const { lo , hi  } = binarySearch(metasets[i], axis, value, intersect);\n        for(let j = lo; j <= hi; ++j){\n            const element = data[j];\n            if (!element.skip) {\n                handler(element, index, j);\n            }\n        }\n    }\n}\n function getDistanceMetricForAxis(axis) {\n    const useX = axis.indexOf('x') !== -1;\n    const useY = axis.indexOf('y') !== -1;\n    return function(pt1, pt2) {\n        const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n        const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n        return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n    };\n}\n function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {\n    const items = [];\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return items;\n    }\n    const evaluationFunc = function(element, datasetIndex, index) {\n        if (!includeInvisible && !_isPointInArea(element, chart.chartArea, 0)) {\n            return;\n        }\n        if (element.inRange(position.x, position.y, useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    };\n    evaluateInteractionItems(chart, axis, position, evaluationFunc, true);\n    return items;\n}\n function getNearestRadialItems(chart, position, axis, useFinalPosition) {\n    let items = [];\n    function evaluationFunc(element, datasetIndex, index) {\n        const { startAngle , endAngle  } = element.getProps([\n            'startAngle',\n            'endAngle'\n        ], useFinalPosition);\n        const { angle  } = getAngleFromPoint(element, {\n            x: position.x,\n            y: position.y\n        });\n        if (_angleBetween(angle, startAngle, endAngle)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    let items = [];\n    const distanceMetric = getDistanceMetricForAxis(axis);\n    let minDistance = Number.POSITIVE_INFINITY;\n    function evaluationFunc(element, datasetIndex, index) {\n        const inRange = element.inRange(position.x, position.y, useFinalPosition);\n        if (intersect && !inRange) {\n            return;\n        }\n        const center = element.getCenterPoint(useFinalPosition);\n        const pointInArea = !!includeInvisible || chart.isPointInArea(center);\n        if (!pointInArea && !inRange) {\n            return;\n        }\n        const distance = distanceMetric(position, center);\n        if (distance < minDistance) {\n            items = [\n                {\n                    element,\n                    datasetIndex,\n                    index\n                }\n            ];\n            minDistance = distance;\n        } else if (distance === minDistance) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n        }\n    }\n    evaluateInteractionItems(chart, axis, position, evaluationFunc);\n    return items;\n}\n function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {\n    if (!includeInvisible && !chart.isPointInArea(position)) {\n        return [];\n    }\n    return axis === 'r' && !intersect ? getNearestRadialItems(chart, position, axis, useFinalPosition) : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);\n}\n function getAxisItems(chart, position, axis, intersect, useFinalPosition) {\n    const items = [];\n    const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n    let intersectsItem = false;\n    evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index)=>{\n        if (element[rangeMethod] && element[rangeMethod](position[axis], useFinalPosition)) {\n            items.push({\n                element,\n                datasetIndex,\n                index\n            });\n            intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);\n        }\n    });\n    if (intersect && !intersectsItem) {\n        return [];\n    }\n    return items;\n}\n var Interaction = {\n    evaluateInteractionItems,\n    modes: {\n index (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'x';\n            const includeInvisible = options.includeInvisible || false;\n            const items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            const elements = [];\n            if (!items.length) {\n                return [];\n            }\n            chart.getSortedVisibleDatasetMetas().forEach((meta)=>{\n                const index = items[0].index;\n                const element = meta.data[index];\n                if (element && !element.skip) {\n                    elements.push({\n                        element,\n                        datasetIndex: meta.index,\n                        index\n                    });\n                }\n            });\n            return elements;\n        },\n dataset (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            let items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);\n            if (items.length > 0) {\n                const datasetIndex = items[0].datasetIndex;\n                const data = chart.getDatasetMeta(datasetIndex).data;\n                items = [];\n                for(let i = 0; i < data.length; ++i){\n                    items.push({\n                        element: data[i],\n                        datasetIndex,\n                        index: i\n                    });\n                }\n            }\n            return items;\n        },\n point (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);\n        },\n nearest (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            const axis = options.axis || 'xy';\n            const includeInvisible = options.includeInvisible || false;\n            return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);\n        },\n x (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);\n        },\n y (chart, e, options, useFinalPosition) {\n            const position = getRelativePosition(e, chart);\n            return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);\n        }\n    }\n};\n\nconst STATIC_POSITIONS = [\n    'left',\n    'top',\n    'right',\n    'bottom'\n];\nfunction filterByPosition(array, position) {\n    return array.filter((v)=>v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n    return array.filter((v)=>STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n    return array.sort((a, b)=>{\n        const v0 = reverse ? b : a;\n        const v1 = reverse ? a : b;\n        return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n    });\n}\nfunction wrapBoxes(boxes) {\n    const layoutBoxes = [];\n    let i, ilen, box, pos, stack, stackWeight;\n    for(i = 0, ilen = (boxes || []).length; i < ilen; ++i){\n        box = boxes[i];\n        ({ position: pos , options: { stack , stackWeight =1  }  } = box);\n        layoutBoxes.push({\n            index: i,\n            box,\n            pos,\n            horizontal: box.isHorizontal(),\n            weight: box.weight,\n            stack: stack && pos + stack,\n            stackWeight\n        });\n    }\n    return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n    const stacks = {};\n    for (const wrap of layouts){\n        const { stack , pos , stackWeight  } = wrap;\n        if (!stack || !STATIC_POSITIONS.includes(pos)) {\n            continue;\n        }\n        const _stack = stacks[stack] || (stacks[stack] = {\n            count: 0,\n            placed: 0,\n            weight: 0,\n            size: 0\n        });\n        _stack.count++;\n        _stack.weight += stackWeight;\n    }\n    return stacks;\n}\n function setLayoutDims(layouts, params) {\n    const stacks = buildStacks(layouts);\n    const { vBoxMaxWidth , hBoxMaxHeight  } = params;\n    let i, ilen, layout;\n    for(i = 0, ilen = layouts.length; i < ilen; ++i){\n        layout = layouts[i];\n        const { fullSize  } = layout.box;\n        const stack = stacks[layout.stack];\n        const factor = stack && layout.stackWeight / stack.weight;\n        if (layout.horizontal) {\n            layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n            layout.height = hBoxMaxHeight;\n        } else {\n            layout.width = vBoxMaxWidth;\n            layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n        }\n    }\n    return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n    const layoutBoxes = wrapBoxes(boxes);\n    const fullSize = sortByWeight(layoutBoxes.filter((wrap)=>wrap.box.fullSize), true);\n    const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n    const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n    const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n    const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n    const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n    const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n    return {\n        fullSize,\n        leftAndTop: left.concat(top),\n        rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n        chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n        vertical: left.concat(right).concat(centerVertical),\n        horizontal: top.concat(bottom).concat(centerHorizontal)\n    };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n    return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n    maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n    maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n    maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n    maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n    const { pos , box  } = layout;\n    const maxPadding = chartArea.maxPadding;\n    if (!isObject(pos)) {\n        if (layout.size) {\n            chartArea[pos] -= layout.size;\n        }\n        const stack = stacks[layout.stack] || {\n            size: 0,\n            count: 1\n        };\n        stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n        layout.size = stack.size / stack.count;\n        chartArea[pos] += layout.size;\n    }\n    if (box.getPadding) {\n        updateMaxPadding(maxPadding, box.getPadding());\n    }\n    const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n    const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n    const widthChanged = newWidth !== chartArea.w;\n    const heightChanged = newHeight !== chartArea.h;\n    chartArea.w = newWidth;\n    chartArea.h = newHeight;\n    return layout.horizontal ? {\n        same: widthChanged,\n        other: heightChanged\n    } : {\n        same: heightChanged,\n        other: widthChanged\n    };\n}\nfunction handleMaxPadding(chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function updatePos(pos) {\n        const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n        chartArea[pos] += change;\n        return change;\n    }\n    chartArea.y += updatePos('top');\n    chartArea.x += updatePos('left');\n    updatePos('right');\n    updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n    const maxPadding = chartArea.maxPadding;\n    function marginForPositions(positions) {\n        const margin = {\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0\n        };\n        positions.forEach((pos)=>{\n            margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n        });\n        return margin;\n    }\n    return horizontal ? marginForPositions([\n        'left',\n        'right'\n    ]) : marginForPositions([\n        'top',\n        'bottom'\n    ]);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n    const refitBoxes = [];\n    let i, ilen, layout, box, refit, changed;\n    for(i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i){\n        layout = boxes[i];\n        box = layout.box;\n        box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n        const { same , other  } = updateDims(chartArea, params, layout, stacks);\n        refit |= same && refitBoxes.length;\n        changed = changed || other;\n        if (!box.fullSize) {\n            refitBoxes.push(layout);\n        }\n    }\n    return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n    box.top = top;\n    box.left = left;\n    box.right = left + width;\n    box.bottom = top + height;\n    box.width = width;\n    box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n    const userPadding = params.padding;\n    let { x , y  } = chartArea;\n    for (const layout of boxes){\n        const box = layout.box;\n        const stack = stacks[layout.stack] || {\n            count: 1,\n            placed: 0,\n            weight: 1\n        };\n        const weight = layout.stackWeight / stack.weight || 1;\n        if (layout.horizontal) {\n            const width = chartArea.w * weight;\n            const height = stack.size || box.height;\n            if (defined(stack.start)) {\n                y = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n            } else {\n                setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n            }\n            stack.start = y;\n            stack.placed += width;\n            y = box.bottom;\n        } else {\n            const height = chartArea.h * weight;\n            const width = stack.size || box.width;\n            if (defined(stack.start)) {\n                x = stack.start;\n            }\n            if (box.fullSize) {\n                setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n            } else {\n                setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n            }\n            stack.start = x;\n            stack.placed += height;\n            x = box.right;\n        }\n    }\n    chartArea.x = x;\n    chartArea.y = y;\n}\nvar layouts = {\n addBox (chart, item) {\n        if (!chart.boxes) {\n            chart.boxes = [];\n        }\n        item.fullSize = item.fullSize || false;\n        item.position = item.position || 'top';\n        item.weight = item.weight || 0;\n        item._layers = item._layers || function() {\n            return [\n                {\n                    z: 0,\n                    draw (chartArea) {\n                        item.draw(chartArea);\n                    }\n                }\n            ];\n        };\n        chart.boxes.push(item);\n    },\n removeBox (chart, layoutItem) {\n        const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n        if (index !== -1) {\n            chart.boxes.splice(index, 1);\n        }\n    },\n configure (chart, item, options) {\n        item.fullSize = options.fullSize;\n        item.position = options.position;\n        item.weight = options.weight;\n    },\n update (chart, width, height, minPadding) {\n        if (!chart) {\n            return;\n        }\n        const padding = toPadding(chart.options.layout.padding);\n        const availableWidth = Math.max(width - padding.width, 0);\n        const availableHeight = Math.max(height - padding.height, 0);\n        const boxes = buildLayoutBoxes(chart.boxes);\n        const verticalBoxes = boxes.vertical;\n        const horizontalBoxes = boxes.horizontal;\n        each(chart.boxes, (box)=>{\n            if (typeof box.beforeLayout === 'function') {\n                box.beforeLayout();\n            }\n        });\n        const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap)=>wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n        const params = Object.freeze({\n            outerWidth: width,\n            outerHeight: height,\n            padding,\n            availableWidth,\n            availableHeight,\n            vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n            hBoxMaxHeight: availableHeight / 2\n        });\n        const maxPadding = Object.assign({}, padding);\n        updateMaxPadding(maxPadding, toPadding(minPadding));\n        const chartArea = Object.assign({\n            maxPadding,\n            w: availableWidth,\n            h: availableHeight,\n            x: padding.left,\n            y: padding.top\n        }, padding);\n        const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n        fitBoxes(boxes.fullSize, chartArea, params, stacks);\n        fitBoxes(verticalBoxes, chartArea, params, stacks);\n        if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n            fitBoxes(verticalBoxes, chartArea, params, stacks);\n        }\n        handleMaxPadding(chartArea);\n        placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n        chartArea.x += chartArea.w;\n        chartArea.y += chartArea.h;\n        placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n        chart.chartArea = {\n            left: chartArea.left,\n            top: chartArea.top,\n            right: chartArea.left + chartArea.w,\n            bottom: chartArea.top + chartArea.h,\n            height: chartArea.h,\n            width: chartArea.w\n        };\n        each(boxes.chartArea, (layout)=>{\n            const box = layout.box;\n            Object.assign(box, chart.chartArea);\n            box.update(chartArea.w, chartArea.h, {\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0\n            });\n        });\n    }\n};\n\nclass BasePlatform {\n acquireContext(canvas, aspectRatio) {}\n releaseContext(context) {\n        return false;\n    }\n addEventListener(chart, type, listener) {}\n removeEventListener(chart, type, listener) {}\n getDevicePixelRatio() {\n        return 1;\n    }\n getMaximumSize(element, width, height, aspectRatio) {\n        width = Math.max(0, width || element.width);\n        height = height || element.height;\n        return {\n            width,\n            height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n        };\n    }\n isAttached(canvas) {\n        return true;\n    }\n updateConfig(config) {\n    }\n}\n\nclass BasicPlatform extends BasePlatform {\n    acquireContext(item) {\n        return item && item.getContext && item.getContext('2d') || null;\n    }\n    updateConfig(config) {\n        config.options.animation = false;\n    }\n}\n\nconst EXPANDO_KEY = '$chartjs';\n const EVENT_TYPES = {\n    touchstart: 'mousedown',\n    touchmove: 'mousemove',\n    touchend: 'mouseup',\n    pointerenter: 'mouseenter',\n    pointerdown: 'mousedown',\n    pointermove: 'mousemove',\n    pointerup: 'mouseup',\n    pointerleave: 'mouseout',\n    pointerout: 'mouseout'\n};\nconst isNullOrEmpty = (value)=>value === null || value === '';\n function initCanvas(canvas, aspectRatio) {\n    const style = canvas.style;\n    const renderHeight = canvas.getAttribute('height');\n    const renderWidth = canvas.getAttribute('width');\n    canvas[EXPANDO_KEY] = {\n        initial: {\n            height: renderHeight,\n            width: renderWidth,\n            style: {\n                display: style.display,\n                height: style.height,\n                width: style.width\n            }\n        }\n    };\n    style.display = style.display || 'block';\n    style.boxSizing = style.boxSizing || 'border-box';\n    if (isNullOrEmpty(renderWidth)) {\n        const displayWidth = readUsedSize(canvas, 'width');\n        if (displayWidth !== undefined) {\n            canvas.width = displayWidth;\n        }\n    }\n    if (isNullOrEmpty(renderHeight)) {\n        if (canvas.style.height === '') {\n            canvas.height = canvas.width / (aspectRatio || 2);\n        } else {\n            const displayHeight = readUsedSize(canvas, 'height');\n            if (displayHeight !== undefined) {\n                canvas.height = displayHeight;\n            }\n        }\n    }\n    return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {\n    passive: true\n} : false;\nfunction addListener(node, type, listener) {\n    if (node) {\n        node.addEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction removeListener(chart, type, listener) {\n    if (chart && chart.canvas) {\n        chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n    }\n}\nfunction fromNativeEvent(event, chart) {\n    const type = EVENT_TYPES[event.type] || event.type;\n    const { x , y  } = getRelativePosition(event, chart);\n    return {\n        type,\n        chart,\n        native: event,\n        x: x !== undefined ? x : null,\n        y: y !== undefined ? y : null\n    };\n}\nfunction nodeListContains(nodeList, canvas) {\n    for (const node of nodeList){\n        if (node === canvas || node.contains(canvas)) {\n            return true;\n        }\n    }\n}\nfunction createAttachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const observer = new MutationObserver((entries)=>{\n        let trigger = false;\n        for (const entry of entries){\n            trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n            trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n        }\n        if (trigger) {\n            listener();\n        }\n    });\n    observer.observe(document, {\n        childList: true,\n        subtree: true\n    });\n    return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n    const dpr = window.devicePixelRatio;\n    if (dpr === oldDevicePixelRatio) {\n        return;\n    }\n    oldDevicePixelRatio = dpr;\n    drpListeningCharts.forEach((resize, chart)=>{\n        if (chart.currentDevicePixelRatio !== dpr) {\n            resize();\n        }\n    });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n    if (!drpListeningCharts.size) {\n        window.addEventListener('resize', onWindowResize);\n    }\n    drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n    drpListeningCharts.delete(chart);\n    if (!drpListeningCharts.size) {\n        window.removeEventListener('resize', onWindowResize);\n    }\n}\nfunction createResizeObserver(chart, type, listener) {\n    const canvas = chart.canvas;\n    const container = canvas && _getParentNode(canvas);\n    if (!container) {\n        return;\n    }\n    const resize = throttled((width, height)=>{\n        const w = container.clientWidth;\n        listener(width, height);\n        if (w < container.clientWidth) {\n            listener();\n        }\n    }, window);\n    const observer = new ResizeObserver((entries)=>{\n        const entry = entries[0];\n        const width = entry.contentRect.width;\n        const height = entry.contentRect.height;\n        if (width === 0 && height === 0) {\n            return;\n        }\n        resize(width, height);\n    });\n    observer.observe(container);\n    listenDevicePixelRatioChanges(chart, resize);\n    return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n    if (observer) {\n        observer.disconnect();\n    }\n    if (type === 'resize') {\n        unlistenDevicePixelRatioChanges(chart);\n    }\n}\nfunction createProxyAndListen(chart, type, listener) {\n    const canvas = chart.canvas;\n    const proxy = throttled((event)=>{\n        if (chart.ctx !== null) {\n            listener(fromNativeEvent(event, chart));\n        }\n    }, chart);\n    addListener(canvas, type, proxy);\n    return proxy;\n}\n class DomPlatform extends BasePlatform {\n acquireContext(canvas, aspectRatio) {\n        const context = canvas && canvas.getContext && canvas.getContext('2d');\n        if (context && context.canvas === canvas) {\n            initCanvas(canvas, aspectRatio);\n            return context;\n        }\n        return null;\n    }\n releaseContext(context) {\n        const canvas = context.canvas;\n        if (!canvas[EXPANDO_KEY]) {\n            return false;\n        }\n        const initial = canvas[EXPANDO_KEY].initial;\n        [\n            'height',\n            'width'\n        ].forEach((prop)=>{\n            const value = initial[prop];\n            if (isNullOrUndef(value)) {\n                canvas.removeAttribute(prop);\n            } else {\n                canvas.setAttribute(prop, value);\n            }\n        });\n        const style = initial.style || {};\n        Object.keys(style).forEach((key)=>{\n            canvas.style[key] = style[key];\n        });\n        canvas.width = canvas.width;\n        delete canvas[EXPANDO_KEY];\n        return true;\n    }\n addEventListener(chart, type, listener) {\n        this.removeEventListener(chart, type);\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const handlers = {\n            attach: createAttachObserver,\n            detach: createDetachObserver,\n            resize: createResizeObserver\n        };\n        const handler = handlers[type] || createProxyAndListen;\n        proxies[type] = handler(chart, type, listener);\n    }\n removeEventListener(chart, type) {\n        const proxies = chart.$proxies || (chart.$proxies = {});\n        const proxy = proxies[type];\n        if (!proxy) {\n            return;\n        }\n        const handlers = {\n            attach: releaseObserver,\n            detach: releaseObserver,\n            resize: releaseObserver\n        };\n        const handler = handlers[type] || removeListener;\n        handler(chart, type, proxy);\n        proxies[type] = undefined;\n    }\n    getDevicePixelRatio() {\n        return window.devicePixelRatio;\n    }\n getMaximumSize(canvas, width, height, aspectRatio) {\n        return getMaximumSize(canvas, width, height, aspectRatio);\n    }\n isAttached(canvas) {\n        const container = canvas && _getParentNode(canvas);\n        return !!(container && container.isConnected);\n    }\n}\n\nfunction _detectPlatform(canvas) {\n    if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return BasicPlatform;\n    }\n    return DomPlatform;\n}\n\nclass Element {\n    static defaults = {};\n    static defaultRoutes = undefined;\n    x;\n    y;\n    active = false;\n    options;\n    $animations;\n    tooltipPosition(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    hasValue() {\n        return isNumber(this.x) && isNumber(this.y);\n    }\n    getProps(props, final) {\n        const anims = this.$animations;\n        if (!final || !anims) {\n            // let's not create an object, if not needed\n            return this;\n        }\n        const ret = {};\n        props.forEach((prop)=>{\n            ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n        });\n        return ret;\n    }\n}\n\nfunction autoSkip(scale, ticks) {\n    const tickOpts = scale.options.ticks;\n    const determinedMaxTicks = determineMaxTicks(scale);\n    const ticksLimit = Math.min(tickOpts.maxTicksLimit || determinedMaxTicks, determinedMaxTicks);\n    const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n    const numMajorIndices = majorIndices.length;\n    const first = majorIndices[0];\n    const last = majorIndices[numMajorIndices - 1];\n    const newTicks = [];\n    if (numMajorIndices > ticksLimit) {\n        skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n        return newTicks;\n    }\n    const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n    if (numMajorIndices > 0) {\n        let i, ilen;\n        const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n        skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n        for(i = 0, ilen = numMajorIndices - 1; i < ilen; i++){\n            skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n        }\n        skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n        return newTicks;\n    }\n    skip(ticks, newTicks, spacing);\n    return newTicks;\n}\nfunction determineMaxTicks(scale) {\n    const offset = scale.options.offset;\n    const tickLength = scale._tickSize();\n    const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n    const maxChart = scale._maxLength / tickLength;\n    return Math.floor(Math.min(maxScale, maxChart));\n}\n function calculateSpacing(majorIndices, ticks, ticksLimit) {\n    const evenMajorSpacing = getEvenSpacing(majorIndices);\n    const spacing = ticks.length / ticksLimit;\n    if (!evenMajorSpacing) {\n        return Math.max(spacing, 1);\n    }\n    const factors = _factorize(evenMajorSpacing);\n    for(let i = 0, ilen = factors.length - 1; i < ilen; i++){\n        const factor = factors[i];\n        if (factor > spacing) {\n            return factor;\n        }\n    }\n    return Math.max(spacing, 1);\n}\n function getMajorIndices(ticks) {\n    const result = [];\n    let i, ilen;\n    for(i = 0, ilen = ticks.length; i < ilen; i++){\n        if (ticks[i].major) {\n            result.push(i);\n        }\n    }\n    return result;\n}\n function skipMajors(ticks, newTicks, majorIndices, spacing) {\n    let count = 0;\n    let next = majorIndices[0];\n    let i;\n    spacing = Math.ceil(spacing);\n    for(i = 0; i < ticks.length; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = majorIndices[count * spacing];\n        }\n    }\n}\n function skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n    const start = valueOrDefault(majorStart, 0);\n    const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n    let count = 0;\n    let length, i, next;\n    spacing = Math.ceil(spacing);\n    if (majorEnd) {\n        length = majorEnd - majorStart;\n        spacing = length / Math.floor(length / spacing);\n    }\n    next = start;\n    while(next < 0){\n        count++;\n        next = Math.round(start + count * spacing);\n    }\n    for(i = Math.max(start, 0); i < end; i++){\n        if (i === next) {\n            newTicks.push(ticks[i]);\n            count++;\n            next = Math.round(start + count * spacing);\n        }\n    }\n}\n function getEvenSpacing(arr) {\n    const len = arr.length;\n    let i, diff;\n    if (len < 2) {\n        return false;\n    }\n    for(diff = arr[0], i = 1; i < len; ++i){\n        if (arr[i] - arr[i - 1] !== diff) {\n            return false;\n        }\n    }\n    return diff;\n}\n\nconst reverseAlign = (align)=>align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset)=>edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nconst getTicksLimit = (ticksLength, maxTicksLimit)=>Math.min(maxTicksLimit || ticksLength, ticksLength);\n function sample(arr, numItems) {\n    const result = [];\n    const increment = arr.length / numItems;\n    const len = arr.length;\n    let i = 0;\n    for(; i < len; i += increment){\n        result.push(arr[Math.floor(i)]);\n    }\n    return result;\n}\n function getPixelForGridLine(scale, index, offsetGridLines) {\n    const length = scale.ticks.length;\n    const validIndex = Math.min(index, length - 1);\n    const start = scale._startPixel;\n    const end = scale._endPixel;\n    const epsilon = 1e-6;\n    let lineValue = scale.getPixelForTick(validIndex);\n    let offset;\n    if (offsetGridLines) {\n        if (length === 1) {\n            offset = Math.max(lineValue - start, end - lineValue);\n        } else if (index === 0) {\n            offset = (scale.getPixelForTick(1) - lineValue) / 2;\n        } else {\n            offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n        }\n        lineValue += validIndex < index ? offset : -offset;\n        if (lineValue < start - epsilon || lineValue > end + epsilon) {\n            return;\n        }\n    }\n    return lineValue;\n}\n function garbageCollect(caches, length) {\n    each(caches, (cache)=>{\n        const gc = cache.gc;\n        const gcLen = gc.length / 2;\n        let i;\n        if (gcLen > length) {\n            for(i = 0; i < gcLen; ++i){\n                delete cache.data[gc[i]];\n            }\n            gc.splice(0, gcLen);\n        }\n    });\n}\n function getTickMarkLength(options) {\n    return options.drawTicks ? options.tickLength : 0;\n}\n function getTitleHeight(options, fallback) {\n    if (!options.display) {\n        return 0;\n    }\n    const font = toFont(options.font, fallback);\n    const padding = toPadding(options.padding);\n    const lines = isArray(options.text) ? options.text.length : 1;\n    return lines * font.lineHeight + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n    return createContext(parent, {\n        scale,\n        type: 'scale'\n    });\n}\nfunction createTickContext(parent, index, tick) {\n    return createContext(parent, {\n        tick,\n        index,\n        type: 'tick'\n    });\n}\nfunction titleAlign(align, position, reverse) {\n     let ret = _toLeftRightCenter(align);\n    if (reverse && position !== 'right' || !reverse && position === 'right') {\n        ret = reverseAlign(ret);\n    }\n    return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n    const { top , left , bottom , right , chart  } = scale;\n    const { chartArea , scales  } = chart;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    const height = bottom - top;\n    const width = right - left;\n    if (scale.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n        } else if (position === 'center') {\n            titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n        } else {\n            titleY = offsetFromEdge(scale, position, offset);\n        }\n        maxWidth = right - left;\n    } else {\n        if (isObject(position)) {\n            const positionAxisID = Object.keys(position)[0];\n            const value = position[positionAxisID];\n            titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n        } else if (position === 'center') {\n            titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n        } else {\n            titleX = offsetFromEdge(scale, position, offset);\n        }\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = position === 'left' ? -HALF_PI : HALF_PI;\n    }\n    return {\n        titleX,\n        titleY,\n        maxWidth,\n        rotation\n    };\n}\nclass Scale extends Element {\n    constructor(cfg){\n        super();\n         this.id = cfg.id;\n         this.type = cfg.type;\n         this.options = undefined;\n         this.ctx = cfg.ctx;\n         this.chart = cfg.chart;\n         this.top = undefined;\n         this.bottom = undefined;\n         this.left = undefined;\n         this.right = undefined;\n         this.width = undefined;\n         this.height = undefined;\n        this._margins = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        };\n         this.maxWidth = undefined;\n         this.maxHeight = undefined;\n         this.paddingTop = undefined;\n         this.paddingBottom = undefined;\n         this.paddingLeft = undefined;\n         this.paddingRight = undefined;\n         this.axis = undefined;\n         this.labelRotation = undefined;\n        this.min = undefined;\n        this.max = undefined;\n        this._range = undefined;\n         this.ticks = [];\n         this._gridLineItems = null;\n         this._labelItems = null;\n         this._labelSizes = null;\n        this._length = 0;\n        this._maxLength = 0;\n        this._longestTextCache = {};\n         this._startPixel = undefined;\n         this._endPixel = undefined;\n        this._reversePixels = false;\n        this._userMax = undefined;\n        this._userMin = undefined;\n        this._suggestedMax = undefined;\n        this._suggestedMin = undefined;\n        this._ticksLength = 0;\n        this._borderValue = 0;\n        this._cache = {};\n        this._dataLimitsCached = false;\n        this.$context = undefined;\n    }\n init(options) {\n        this.options = options.setContext(this.getContext());\n        this.axis = options.axis;\n        this._userMin = this.parse(options.min);\n        this._userMax = this.parse(options.max);\n        this._suggestedMin = this.parse(options.suggestedMin);\n        this._suggestedMax = this.parse(options.suggestedMax);\n    }\n parse(raw, index) {\n        return raw;\n    }\n getUserBounds() {\n        let { _userMin , _userMax , _suggestedMin , _suggestedMax  } = this;\n        _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n        _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n        _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n        _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n        return {\n            min: finiteOrDefault(_userMin, _suggestedMin),\n            max: finiteOrDefault(_userMax, _suggestedMax),\n            minDefined: isNumberFinite(_userMin),\n            maxDefined: isNumberFinite(_userMax)\n        };\n    }\n getMinMax(canStack) {\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n        let range;\n        if (minDefined && maxDefined) {\n            return {\n                min,\n                max\n            };\n        }\n        const metas = this.getMatchingVisibleMetas();\n        for(let i = 0, ilen = metas.length; i < ilen; ++i){\n            range = metas[i].controller.getMinMax(this, canStack);\n            if (!minDefined) {\n                min = Math.min(min, range.min);\n            }\n            if (!maxDefined) {\n                max = Math.max(max, range.max);\n            }\n        }\n        min = maxDefined && min > max ? max : min;\n        max = minDefined && min > max ? min : max;\n        return {\n            min: finiteOrDefault(min, finiteOrDefault(max, min)),\n            max: finiteOrDefault(max, finiteOrDefault(min, max))\n        };\n    }\n getPadding() {\n        return {\n            left: this.paddingLeft || 0,\n            top: this.paddingTop || 0,\n            right: this.paddingRight || 0,\n            bottom: this.paddingBottom || 0\n        };\n    }\n getTicks() {\n        return this.ticks;\n    }\n getLabels() {\n        const data = this.chart.data;\n        return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n getLabelItems(chartArea = this.chart.chartArea) {\n        const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n        return items;\n    }\n    beforeLayout() {\n        this._cache = {};\n        this._dataLimitsCached = false;\n    }\n    beforeUpdate() {\n        callback(this.options.beforeUpdate, [\n            this\n        ]);\n    }\n update(maxWidth, maxHeight, margins) {\n        const { beginAtZero , grace , ticks: tickOpts  } = this.options;\n        const sampleSize = tickOpts.sampleSize;\n        this.beforeUpdate();\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins = Object.assign({\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        }, margins);\n        this.ticks = null;\n        this._labelSizes = null;\n        this._gridLineItems = null;\n        this._labelItems = null;\n        this.beforeSetDimensions();\n        this.setDimensions();\n        this.afterSetDimensions();\n        this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n        if (!this._dataLimitsCached) {\n            this.beforeDataLimits();\n            this.determineDataLimits();\n            this.afterDataLimits();\n            this._range = _addGrace(this, grace, beginAtZero);\n            this._dataLimitsCached = true;\n        }\n        this.beforeBuildTicks();\n        this.ticks = this.buildTicks() || [];\n        this.afterBuildTicks();\n        const samplingEnabled = sampleSize < this.ticks.length;\n        this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n        this.configure();\n        this.beforeCalculateLabelRotation();\n        this.calculateLabelRotation();\n        this.afterCalculateLabelRotation();\n        if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n            this.ticks = autoSkip(this, this.ticks);\n            this._labelSizes = null;\n            this.afterAutoSkip();\n        }\n        if (samplingEnabled) {\n            this._convertTicksToLabels(this.ticks);\n        }\n        this.beforeFit();\n        this.fit();\n        this.afterFit();\n        this.afterUpdate();\n    }\n configure() {\n        let reversePixels = this.options.reverse;\n        let startPixel, endPixel;\n        if (this.isHorizontal()) {\n            startPixel = this.left;\n            endPixel = this.right;\n        } else {\n            startPixel = this.top;\n            endPixel = this.bottom;\n            reversePixels = !reversePixels;\n        }\n        this._startPixel = startPixel;\n        this._endPixel = endPixel;\n        this._reversePixels = reversePixels;\n        this._length = endPixel - startPixel;\n        this._alignToPixels = this.options.alignToPixels;\n    }\n    afterUpdate() {\n        callback(this.options.afterUpdate, [\n            this\n        ]);\n    }\n    beforeSetDimensions() {\n        callback(this.options.beforeSetDimensions, [\n            this\n        ]);\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = 0;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = 0;\n            this.bottom = this.height;\n        }\n        this.paddingLeft = 0;\n        this.paddingTop = 0;\n        this.paddingRight = 0;\n        this.paddingBottom = 0;\n    }\n    afterSetDimensions() {\n        callback(this.options.afterSetDimensions, [\n            this\n        ]);\n    }\n    _callHooks(name) {\n        this.chart.notifyPlugins(name, this.getContext());\n        callback(this.options[name], [\n            this\n        ]);\n    }\n    beforeDataLimits() {\n        this._callHooks('beforeDataLimits');\n    }\n    determineDataLimits() {}\n    afterDataLimits() {\n        this._callHooks('afterDataLimits');\n    }\n    beforeBuildTicks() {\n        this._callHooks('beforeBuildTicks');\n    }\n buildTicks() {\n        return [];\n    }\n    afterBuildTicks() {\n        this._callHooks('afterBuildTicks');\n    }\n    beforeTickToLabelConversion() {\n        callback(this.options.beforeTickToLabelConversion, [\n            this\n        ]);\n    }\n generateTickLabels(ticks) {\n        const tickOpts = this.options.ticks;\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            tick = ticks[i];\n            tick.label = callback(tickOpts.callback, [\n                tick.value,\n                i,\n                ticks\n            ], this);\n        }\n    }\n    afterTickToLabelConversion() {\n        callback(this.options.afterTickToLabelConversion, [\n            this\n        ]);\n    }\n    beforeCalculateLabelRotation() {\n        callback(this.options.beforeCalculateLabelRotation, [\n            this\n        ]);\n    }\n    calculateLabelRotation() {\n        const options = this.options;\n        const tickOpts = options.ticks;\n        const numTicks = getTicksLimit(this.ticks.length, options.ticks.maxTicksLimit);\n        const minRotation = tickOpts.minRotation || 0;\n        const maxRotation = tickOpts.maxRotation;\n        let labelRotation = minRotation;\n        let tickWidth, maxHeight, maxLabelDiagonal;\n        if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n            this.labelRotation = minRotation;\n            return;\n        }\n        const labelSizes = this._getLabelSizes();\n        const maxLabelWidth = labelSizes.widest.width;\n        const maxLabelHeight = labelSizes.highest.height;\n        const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n        tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n        if (maxLabelWidth + 6 > tickWidth) {\n            tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n            maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n            maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n            labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n            labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n        }\n        this.labelRotation = labelRotation;\n    }\n    afterCalculateLabelRotation() {\n        callback(this.options.afterCalculateLabelRotation, [\n            this\n        ]);\n    }\n    afterAutoSkip() {}\n    beforeFit() {\n        callback(this.options.beforeFit, [\n            this\n        ]);\n    }\n    fit() {\n        const minSize = {\n            width: 0,\n            height: 0\n        };\n        const { chart , options: { ticks: tickOpts , title: titleOpts , grid: gridOpts  }  } = this;\n        const display = this._isVisible();\n        const isHorizontal = this.isHorizontal();\n        if (display) {\n            const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n            if (isHorizontal) {\n                minSize.width = this.maxWidth;\n                minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n            } else {\n                minSize.height = this.maxHeight;\n                minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n            }\n            if (tickOpts.display && this.ticks.length) {\n                const { first , last , widest , highest  } = this._getLabelSizes();\n                const tickPadding = tickOpts.padding * 2;\n                const angleRadians = toRadians(this.labelRotation);\n                const cos = Math.cos(angleRadians);\n                const sin = Math.sin(angleRadians);\n                if (isHorizontal) {\n                    const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n                    minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n                } else {\n                    const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n                    minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n                }\n                this._calculatePadding(first, last, sin, cos);\n            }\n        }\n        this._handleMargins();\n        if (isHorizontal) {\n            this.width = this._length = chart.width - this._margins.left - this._margins.right;\n            this.height = minSize.height;\n        } else {\n            this.width = minSize.width;\n            this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n        }\n    }\n    _calculatePadding(first, last, sin, cos) {\n        const { ticks: { align , padding  } , position  } = this.options;\n        const isRotated = this.labelRotation !== 0;\n        const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n        if (this.isHorizontal()) {\n            const offsetLeft = this.getPixelForTick(0) - this.left;\n            const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n            let paddingLeft = 0;\n            let paddingRight = 0;\n            if (isRotated) {\n                if (labelsBelowTicks) {\n                    paddingLeft = cos * first.width;\n                    paddingRight = sin * last.height;\n                } else {\n                    paddingLeft = sin * first.height;\n                    paddingRight = cos * last.width;\n                }\n            } else if (align === 'start') {\n                paddingRight = last.width;\n            } else if (align === 'end') {\n                paddingLeft = first.width;\n            } else if (align !== 'inner') {\n                paddingLeft = first.width / 2;\n                paddingRight = last.width / 2;\n            }\n            this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n            this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n        } else {\n            let paddingTop = last.height / 2;\n            let paddingBottom = first.height / 2;\n            if (align === 'start') {\n                paddingTop = 0;\n                paddingBottom = first.height;\n            } else if (align === 'end') {\n                paddingTop = last.height;\n                paddingBottom = 0;\n            }\n            this.paddingTop = paddingTop + padding;\n            this.paddingBottom = paddingBottom + padding;\n        }\n    }\n _handleMargins() {\n        if (this._margins) {\n            this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n            this._margins.top = Math.max(this.paddingTop, this._margins.top);\n            this._margins.right = Math.max(this.paddingRight, this._margins.right);\n            this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n        }\n    }\n    afterFit() {\n        callback(this.options.afterFit, [\n            this\n        ]);\n    }\n isHorizontal() {\n        const { axis , position  } = this.options;\n        return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n isFullSize() {\n        return this.options.fullSize;\n    }\n _convertTicksToLabels(ticks) {\n        this.beforeTickToLabelConversion();\n        this.generateTickLabels(ticks);\n        let i, ilen;\n        for(i = 0, ilen = ticks.length; i < ilen; i++){\n            if (isNullOrUndef(ticks[i].label)) {\n                ticks.splice(i, 1);\n                ilen--;\n                i--;\n            }\n        }\n        this.afterTickToLabelConversion();\n    }\n _getLabelSizes() {\n        let labelSizes = this._labelSizes;\n        if (!labelSizes) {\n            const sampleSize = this.options.ticks.sampleSize;\n            let ticks = this.ticks;\n            if (sampleSize < ticks.length) {\n                ticks = sample(ticks, sampleSize);\n            }\n            this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length, this.options.ticks.maxTicksLimit);\n        }\n        return labelSizes;\n    }\n _computeLabelSizes(ticks, length, maxTicksLimit) {\n        const { ctx , _longestTextCache: caches  } = this;\n        const widths = [];\n        const heights = [];\n        const increment = Math.floor(length / getTicksLimit(length, maxTicksLimit));\n        let widestLabelSize = 0;\n        let highestLabelSize = 0;\n        let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n        for(i = 0; i < length; i += increment){\n            label = ticks[i].label;\n            tickFont = this._resolveTickFontOptions(i);\n            ctx.font = fontString = tickFont.string;\n            cache = caches[fontString] = caches[fontString] || {\n                data: {},\n                gc: []\n            };\n            lineHeight = tickFont.lineHeight;\n            width = height = 0;\n            if (!isNullOrUndef(label) && !isArray(label)) {\n                width = _measureText(ctx, cache.data, cache.gc, width, label);\n                height = lineHeight;\n            } else if (isArray(label)) {\n                for(j = 0, jlen = label.length; j < jlen; ++j){\n                    nestedLabel =  label[j];\n                    if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n                        width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n                        height += lineHeight;\n                    }\n                }\n            }\n            widths.push(width);\n            heights.push(height);\n            widestLabelSize = Math.max(width, widestLabelSize);\n            highestLabelSize = Math.max(height, highestLabelSize);\n        }\n        garbageCollect(caches, length);\n        const widest = widths.indexOf(widestLabelSize);\n        const highest = heights.indexOf(highestLabelSize);\n        const valueAt = (idx)=>({\n                width: widths[idx] || 0,\n                height: heights[idx] || 0\n            });\n        return {\n            first: valueAt(0),\n            last: valueAt(length - 1),\n            widest: valueAt(widest),\n            highest: valueAt(highest),\n            widths,\n            heights\n        };\n    }\n getLabelForValue(value) {\n        return value;\n    }\n getPixelForValue(value, index) {\n        return NaN;\n    }\n getValueForPixel(pixel) {}\n getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n getPixelForDecimal(decimal) {\n        if (this._reversePixels) {\n            decimal = 1 - decimal;\n        }\n        const pixel = this._startPixel + decimal * this._length;\n        return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n getDecimalForPixel(pixel) {\n        const decimal = (pixel - this._startPixel) / this._length;\n        return this._reversePixels ? 1 - decimal : decimal;\n    }\n getBasePixel() {\n        return this.getPixelForValue(this.getBaseValue());\n    }\n getBaseValue() {\n        const { min , max  } = this;\n        return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n getContext(index) {\n        const ticks = this.ticks || [];\n        if (index >= 0 && index < ticks.length) {\n            const tick = ticks[index];\n            return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n        }\n        return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n _tickSize() {\n        const optionTicks = this.options.ticks;\n        const rot = toRadians(this.labelRotation);\n        const cos = Math.abs(Math.cos(rot));\n        const sin = Math.abs(Math.sin(rot));\n        const labelSizes = this._getLabelSizes();\n        const padding = optionTicks.autoSkipPadding || 0;\n        const w = labelSizes ? labelSizes.widest.width + padding : 0;\n        const h = labelSizes ? labelSizes.highest.height + padding : 0;\n        return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n _isVisible() {\n        const display = this.options.display;\n        if (display !== 'auto') {\n            return !!display;\n        }\n        return this.getMatchingVisibleMetas().length > 0;\n    }\n _computeGridLineItems(chartArea) {\n        const axis = this.axis;\n        const chart = this.chart;\n        const options = this.options;\n        const { grid , position , border  } = options;\n        const offset = grid.offset;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const ticksLength = ticks.length + (offset ? 1 : 0);\n        const tl = getTickMarkLength(grid);\n        const items = [];\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = borderOpts.display ? borderOpts.width : 0;\n        const axisHalfWidth = axisWidth / 2;\n        const alignBorderValue = function(pixel) {\n            return _alignPixel(chart, pixel, axisWidth);\n        };\n        let borderValue, i, lineValue, alignedLineValue;\n        let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n        if (position === 'top') {\n            borderValue = alignBorderValue(this.bottom);\n            ty1 = this.bottom - tl;\n            ty2 = borderValue - axisHalfWidth;\n            y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n            y2 = chartArea.bottom;\n        } else if (position === 'bottom') {\n            borderValue = alignBorderValue(this.top);\n            y1 = chartArea.top;\n            y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = this.top + tl;\n        } else if (position === 'left') {\n            borderValue = alignBorderValue(this.right);\n            tx1 = this.right - tl;\n            tx2 = borderValue - axisHalfWidth;\n            x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n            x2 = chartArea.right;\n        } else if (position === 'right') {\n            borderValue = alignBorderValue(this.left);\n            x1 = chartArea.left;\n            x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n            tx1 = borderValue + axisHalfWidth;\n            tx2 = this.left + tl;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            y1 = chartArea.top;\n            y2 = chartArea.bottom;\n            ty1 = borderValue + axisHalfWidth;\n            ty2 = ty1 + tl;\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n            }\n            tx1 = borderValue - axisHalfWidth;\n            tx2 = tx1 - tl;\n            x1 = chartArea.left;\n            x2 = chartArea.right;\n        }\n        const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n        const step = Math.max(1, Math.ceil(ticksLength / limit));\n        for(i = 0; i < ticksLength; i += step){\n            const context = this.getContext(i);\n            const optsAtIndex = grid.setContext(context);\n            const optsAtIndexBorder = border.setContext(context);\n            const lineWidth = optsAtIndex.lineWidth;\n            const lineColor = optsAtIndex.color;\n            const borderDash = optsAtIndexBorder.dash || [];\n            const borderDashOffset = optsAtIndexBorder.dashOffset;\n            const tickWidth = optsAtIndex.tickWidth;\n            const tickColor = optsAtIndex.tickColor;\n            const tickBorderDash = optsAtIndex.tickBorderDash || [];\n            const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n            lineValue = getPixelForGridLine(this, i, offset);\n            if (lineValue === undefined) {\n                continue;\n            }\n            alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n            if (isHorizontal) {\n                tx1 = tx2 = x1 = x2 = alignedLineValue;\n            } else {\n                ty1 = ty2 = y1 = y2 = alignedLineValue;\n            }\n            items.push({\n                tx1,\n                ty1,\n                tx2,\n                ty2,\n                x1,\n                y1,\n                x2,\n                y2,\n                width: lineWidth,\n                color: lineColor,\n                borderDash,\n                borderDashOffset,\n                tickWidth,\n                tickColor,\n                tickBorderDash,\n                tickBorderDashOffset\n            });\n        }\n        this._ticksLength = ticksLength;\n        this._borderValue = borderValue;\n        return items;\n    }\n _computeLabelItems(chartArea) {\n        const axis = this.axis;\n        const options = this.options;\n        const { position , ticks: optionTicks  } = options;\n        const isHorizontal = this.isHorizontal();\n        const ticks = this.ticks;\n        const { align , crossAlign , padding , mirror  } = optionTicks;\n        const tl = getTickMarkLength(options.grid);\n        const tickAndPadding = tl + padding;\n        const hTickAndPadding = mirror ? -padding : tickAndPadding;\n        const rotation = -toRadians(this.labelRotation);\n        const items = [];\n        let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n        let textBaseline = 'middle';\n        if (position === 'top') {\n            y = this.bottom - hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'bottom') {\n            y = this.top + hTickAndPadding;\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (position === 'left') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (position === 'right') {\n            const ret = this._getYAxisLabelAlignment(tl);\n            textAlign = ret.textAlign;\n            x = ret.x;\n        } else if (axis === 'x') {\n            if (position === 'center') {\n                y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n            }\n            textAlign = this._getXAxisLabelAlignment();\n        } else if (axis === 'y') {\n            if (position === 'center') {\n                x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n            } else if (isObject(position)) {\n                const positionAxisID = Object.keys(position)[0];\n                const value = position[positionAxisID];\n                x = this.chart.scales[positionAxisID].getPixelForValue(value);\n            }\n            textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n        }\n        if (axis === 'y') {\n            if (align === 'start') {\n                textBaseline = 'top';\n            } else if (align === 'end') {\n                textBaseline = 'bottom';\n            }\n        }\n        const labelSizes = this._getLabelSizes();\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            label = tick.label;\n            const optsAtIndex = optionTicks.setContext(this.getContext(i));\n            pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n            font = this._resolveTickFontOptions(i);\n            lineHeight = font.lineHeight;\n            lineCount = isArray(label) ? label.length : 1;\n            const halfCount = lineCount / 2;\n            const color = optsAtIndex.color;\n            const strokeColor = optsAtIndex.textStrokeColor;\n            const strokeWidth = optsAtIndex.textStrokeWidth;\n            let tickTextAlign = textAlign;\n            if (isHorizontal) {\n                x = pixel;\n                if (textAlign === 'inner') {\n                    if (i === ilen - 1) {\n                        tickTextAlign = !this.options.reverse ? 'right' : 'left';\n                    } else if (i === 0) {\n                        tickTextAlign = !this.options.reverse ? 'left' : 'right';\n                    } else {\n                        tickTextAlign = 'center';\n                    }\n                }\n                if (position === 'top') {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = -lineCount * lineHeight + lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n                    } else {\n                        textOffset = -labelSizes.highest.height + lineHeight / 2;\n                    }\n                } else {\n                    if (crossAlign === 'near' || rotation !== 0) {\n                        textOffset = lineHeight / 2;\n                    } else if (crossAlign === 'center') {\n                        textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n                    } else {\n                        textOffset = labelSizes.highest.height - lineCount * lineHeight;\n                    }\n                }\n                if (mirror) {\n                    textOffset *= -1;\n                }\n                if (rotation !== 0 && !optsAtIndex.showLabelBackdrop) {\n                    x += lineHeight / 2 * Math.sin(rotation);\n                }\n            } else {\n                y = pixel;\n                textOffset = (1 - lineCount) * lineHeight / 2;\n            }\n            let backdrop;\n            if (optsAtIndex.showLabelBackdrop) {\n                const labelPadding = toPadding(optsAtIndex.backdropPadding);\n                const height = labelSizes.heights[i];\n                const width = labelSizes.widths[i];\n                let top = textOffset - labelPadding.top;\n                let left = 0 - labelPadding.left;\n                switch(textBaseline){\n                    case 'middle':\n                        top -= height / 2;\n                        break;\n                    case 'bottom':\n                        top -= height;\n                        break;\n                }\n                switch(textAlign){\n                    case 'center':\n                        left -= width / 2;\n                        break;\n                    case 'right':\n                        left -= width;\n                        break;\n                    case 'inner':\n                        if (i === ilen - 1) {\n                            left -= width;\n                        } else if (i > 0) {\n                            left -= width / 2;\n                        }\n                        break;\n                }\n                backdrop = {\n                    left,\n                    top,\n                    width: width + labelPadding.width,\n                    height: height + labelPadding.height,\n                    color: optsAtIndex.backdropColor\n                };\n            }\n            items.push({\n                label,\n                font,\n                textOffset,\n                options: {\n                    rotation,\n                    color,\n                    strokeColor,\n                    strokeWidth,\n                    textAlign: tickTextAlign,\n                    textBaseline,\n                    translation: [\n                        x,\n                        y\n                    ],\n                    backdrop\n                }\n            });\n        }\n        return items;\n    }\n    _getXAxisLabelAlignment() {\n        const { position , ticks  } = this.options;\n        const rotation = -toRadians(this.labelRotation);\n        if (rotation) {\n            return position === 'top' ? 'left' : 'right';\n        }\n        let align = 'center';\n        if (ticks.align === 'start') {\n            align = 'left';\n        } else if (ticks.align === 'end') {\n            align = 'right';\n        } else if (ticks.align === 'inner') {\n            align = 'inner';\n        }\n        return align;\n    }\n    _getYAxisLabelAlignment(tl) {\n        const { position , ticks: { crossAlign , mirror , padding  }  } = this.options;\n        const labelSizes = this._getLabelSizes();\n        const tickAndPadding = tl + padding;\n        const widest = labelSizes.widest.width;\n        let textAlign;\n        let x;\n        if (position === 'left') {\n            if (mirror) {\n                x = this.right + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x += widest;\n                }\n            } else {\n                x = this.right - tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x = this.left;\n                }\n            }\n        } else if (position === 'right') {\n            if (mirror) {\n                x = this.left + padding;\n                if (crossAlign === 'near') {\n                    textAlign = 'right';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x -= widest / 2;\n                } else {\n                    textAlign = 'left';\n                    x -= widest;\n                }\n            } else {\n                x = this.left + tickAndPadding;\n                if (crossAlign === 'near') {\n                    textAlign = 'left';\n                } else if (crossAlign === 'center') {\n                    textAlign = 'center';\n                    x += widest / 2;\n                } else {\n                    textAlign = 'right';\n                    x = this.right;\n                }\n            }\n        } else {\n            textAlign = 'right';\n        }\n        return {\n            textAlign,\n            x\n        };\n    }\n _computeLabelArea() {\n        if (this.options.ticks.mirror) {\n            return;\n        }\n        const chart = this.chart;\n        const position = this.options.position;\n        if (position === 'left' || position === 'right') {\n            return {\n                top: 0,\n                left: this.left,\n                bottom: chart.height,\n                right: this.right\n            };\n        }\n        if (position === 'top' || position === 'bottom') {\n            return {\n                top: this.top,\n                left: 0,\n                bottom: this.bottom,\n                right: chart.width\n            };\n        }\n    }\n drawBackground() {\n        const { ctx , options: { backgroundColor  } , left , top , width , height  } = this;\n        if (backgroundColor) {\n            ctx.save();\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(left, top, width, height);\n            ctx.restore();\n        }\n    }\n    getLineWidthForValue(value) {\n        const grid = this.options.grid;\n        if (!this._isVisible() || !grid.display) {\n            return 0;\n        }\n        const ticks = this.ticks;\n        const index = ticks.findIndex((t)=>t.value === value);\n        if (index >= 0) {\n            const opts = grid.setContext(this.getContext(index));\n            return opts.lineWidth;\n        }\n        return 0;\n    }\n drawGrid(chartArea) {\n        const grid = this.options.grid;\n        const ctx = this.ctx;\n        const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n        let i, ilen;\n        const drawLine = (p1, p2, style)=>{\n            if (!style.width || !style.color) {\n                return;\n            }\n            ctx.save();\n            ctx.lineWidth = style.width;\n            ctx.strokeStyle = style.color;\n            ctx.setLineDash(style.borderDash || []);\n            ctx.lineDashOffset = style.borderDashOffset;\n            ctx.beginPath();\n            ctx.moveTo(p1.x, p1.y);\n            ctx.lineTo(p2.x, p2.y);\n            ctx.stroke();\n            ctx.restore();\n        };\n        if (grid.display) {\n            for(i = 0, ilen = items.length; i < ilen; ++i){\n                const item = items[i];\n                if (grid.drawOnChartArea) {\n                    drawLine({\n                        x: item.x1,\n                        y: item.y1\n                    }, {\n                        x: item.x2,\n                        y: item.y2\n                    }, item);\n                }\n                if (grid.drawTicks) {\n                    drawLine({\n                        x: item.tx1,\n                        y: item.ty1\n                    }, {\n                        x: item.tx2,\n                        y: item.ty2\n                    }, {\n                        color: item.tickColor,\n                        width: item.tickWidth,\n                        borderDash: item.tickBorderDash,\n                        borderDashOffset: item.tickBorderDashOffset\n                    });\n                }\n            }\n        }\n    }\n drawBorder() {\n        const { chart , ctx , options: { border , grid  }  } = this;\n        const borderOpts = border.setContext(this.getContext());\n        const axisWidth = border.display ? borderOpts.width : 0;\n        if (!axisWidth) {\n            return;\n        }\n        const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n        const borderValue = this._borderValue;\n        let x1, x2, y1, y2;\n        if (this.isHorizontal()) {\n            x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n            x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n            y1 = y2 = borderValue;\n        } else {\n            y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n            y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n            x1 = x2 = borderValue;\n        }\n        ctx.save();\n        ctx.lineWidth = borderOpts.width;\n        ctx.strokeStyle = borderOpts.color;\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        ctx.stroke();\n        ctx.restore();\n    }\n drawLabels(chartArea) {\n        const optionTicks = this.options.ticks;\n        if (!optionTicks.display) {\n            return;\n        }\n        const ctx = this.ctx;\n        const area = this._computeLabelArea();\n        if (area) {\n            clipArea(ctx, area);\n        }\n        const items = this.getLabelItems(chartArea);\n        for (const item of items){\n            const renderTextOptions = item.options;\n            const tickFont = item.font;\n            const label = item.label;\n            const y = item.textOffset;\n            renderText(ctx, label, 0, y, tickFont, renderTextOptions);\n        }\n        if (area) {\n            unclipArea(ctx);\n        }\n    }\n drawTitle() {\n        const { ctx , options: { position , title , reverse  }  } = this;\n        if (!title.display) {\n            return;\n        }\n        const font = toFont(title.font);\n        const padding = toPadding(title.padding);\n        const align = title.align;\n        let offset = font.lineHeight / 2;\n        if (position === 'bottom' || position === 'center' || isObject(position)) {\n            offset += padding.bottom;\n            if (isArray(title.text)) {\n                offset += font.lineHeight * (title.text.length - 1);\n            }\n        } else {\n            offset += padding.top;\n        }\n        const { titleX , titleY , maxWidth , rotation  } = titleArgs(this, offset, position, align);\n        renderText(ctx, title.text, 0, 0, font, {\n            color: title.color,\n            maxWidth,\n            rotation,\n            textAlign: titleAlign(align, position, reverse),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n    draw(chartArea) {\n        if (!this._isVisible()) {\n            return;\n        }\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawBorder();\n        this.drawTitle();\n        this.drawLabels(chartArea);\n    }\n _layers() {\n        const opts = this.options;\n        const tz = opts.ticks && opts.ticks.z || 0;\n        const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n        const bz = valueOrDefault(opts.border && opts.border.z, 0);\n        if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n            return [\n                {\n                    z: tz,\n                    draw: (chartArea)=>{\n                        this.draw(chartArea);\n                    }\n                }\n            ];\n        }\n        return [\n            {\n                z: gz,\n                draw: (chartArea)=>{\n                    this.drawBackground();\n                    this.drawGrid(chartArea);\n                    this.drawTitle();\n                }\n            },\n            {\n                z: bz,\n                draw: ()=>{\n                    this.drawBorder();\n                }\n            },\n            {\n                z: tz,\n                draw: (chartArea)=>{\n                    this.drawLabels(chartArea);\n                }\n            }\n        ];\n    }\n getMatchingVisibleMetas(type) {\n        const metas = this.chart.getSortedVisibleDatasetMetas();\n        const axisID = this.axis + 'AxisID';\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            const meta = metas[i];\n            if (meta[axisID] === this.id && (!type || meta.type === type)) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n _resolveTickFontOptions(index) {\n        const opts = this.options.ticks.setContext(this.getContext(index));\n        return toFont(opts.font);\n    }\n _maxDigits() {\n        const fontSize = this._resolveTickFontOptions(0).lineHeight;\n        return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n}\n\nclass TypedRegistry {\n    constructor(type, scope, override){\n        this.type = type;\n        this.scope = scope;\n        this.override = override;\n        this.items = Object.create(null);\n    }\n    isForType(type) {\n        return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n register(item) {\n        const proto = Object.getPrototypeOf(item);\n        let parentScope;\n        if (isIChartComponent(proto)) {\n            parentScope = this.register(proto);\n        }\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope + '.' + id;\n        if (!id) {\n            throw new Error('class does not have id: ' + item);\n        }\n        if (id in items) {\n            return scope;\n        }\n        items[id] = item;\n        registerDefaults(item, scope, parentScope);\n        if (this.override) {\n            defaults.override(item.id, item.overrides);\n        }\n        return scope;\n    }\n get(id) {\n        return this.items[id];\n    }\n unregister(item) {\n        const items = this.items;\n        const id = item.id;\n        const scope = this.scope;\n        if (id in items) {\n            delete items[id];\n        }\n        if (scope && id in defaults[scope]) {\n            delete defaults[scope][id];\n            if (this.override) {\n                delete overrides[id];\n            }\n        }\n    }\n}\nfunction registerDefaults(item, scope, parentScope) {\n    const itemDefaults = merge(Object.create(null), [\n        parentScope ? defaults.get(parentScope) : {},\n        defaults.get(scope),\n        item.defaults\n    ]);\n    defaults.set(scope, itemDefaults);\n    if (item.defaultRoutes) {\n        routeDefaults(scope, item.defaultRoutes);\n    }\n    if (item.descriptors) {\n        defaults.describe(scope, item.descriptors);\n    }\n}\nfunction routeDefaults(scope, routes) {\n    Object.keys(routes).forEach((property)=>{\n        const propertyParts = property.split('.');\n        const sourceName = propertyParts.pop();\n        const sourceScope = [\n            scope\n        ].concat(propertyParts).join('.');\n        const parts = routes[property].split('.');\n        const targetName = parts.pop();\n        const targetScope = parts.join('.');\n        defaults.route(sourceScope, sourceName, targetScope, targetName);\n    });\n}\nfunction isIChartComponent(proto) {\n    return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n    constructor(){\n        this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n        this.elements = new TypedRegistry(Element, 'elements');\n        this.plugins = new TypedRegistry(Object, 'plugins');\n        this.scales = new TypedRegistry(Scale, 'scales');\n        this._typedRegistries = [\n            this.controllers,\n            this.scales,\n            this.elements\n        ];\n    }\n add(...args) {\n        this._each('register', args);\n    }\n    remove(...args) {\n        this._each('unregister', args);\n    }\n addControllers(...args) {\n        this._each('register', args, this.controllers);\n    }\n addElements(...args) {\n        this._each('register', args, this.elements);\n    }\n addPlugins(...args) {\n        this._each('register', args, this.plugins);\n    }\n addScales(...args) {\n        this._each('register', args, this.scales);\n    }\n getController(id) {\n        return this._get(id, this.controllers, 'controller');\n    }\n getElement(id) {\n        return this._get(id, this.elements, 'element');\n    }\n getPlugin(id) {\n        return this._get(id, this.plugins, 'plugin');\n    }\n getScale(id) {\n        return this._get(id, this.scales, 'scale');\n    }\n removeControllers(...args) {\n        this._each('unregister', args, this.controllers);\n    }\n removeElements(...args) {\n        this._each('unregister', args, this.elements);\n    }\n removePlugins(...args) {\n        this._each('unregister', args, this.plugins);\n    }\n removeScales(...args) {\n        this._each('unregister', args, this.scales);\n    }\n _each(method, args, typedRegistry) {\n        [\n            ...args\n        ].forEach((arg)=>{\n            const reg = typedRegistry || this._getRegistryForType(arg);\n            if (typedRegistry || reg.isForType(arg) || reg === this.plugins && arg.id) {\n                this._exec(method, reg, arg);\n            } else {\n                each(arg, (item)=>{\n                    const itemReg = typedRegistry || this._getRegistryForType(item);\n                    this._exec(method, itemReg, item);\n                });\n            }\n        });\n    }\n _exec(method, registry, component) {\n        const camelMethod = _capitalize(method);\n        callback(component['before' + camelMethod], [], component);\n        registry[method](component);\n        callback(component['after' + camelMethod], [], component);\n    }\n _getRegistryForType(type) {\n        for(let i = 0; i < this._typedRegistries.length; i++){\n            const reg = this._typedRegistries[i];\n            if (reg.isForType(type)) {\n                return reg;\n            }\n        }\n        return this.plugins;\n    }\n _get(id, typedRegistry, type) {\n        const item = typedRegistry.get(id);\n        if (item === undefined) {\n            throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n        }\n        return item;\n    }\n}\nvar registry = /* #__PURE__ */ new Registry();\n\nclass PluginService {\n    constructor(){\n        this._init = [];\n    }\n notify(chart, hook, args, filter) {\n        if (hook === 'beforeInit') {\n            this._init = this._createDescriptors(chart, true);\n            this._notify(this._init, chart, 'install');\n        }\n        const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n        const result = this._notify(descriptors, chart, hook, args);\n        if (hook === 'afterDestroy') {\n            this._notify(descriptors, chart, 'stop');\n            this._notify(this._init, chart, 'uninstall');\n        }\n        return result;\n    }\n _notify(descriptors, chart, hook, args) {\n        args = args || {};\n        for (const descriptor of descriptors){\n            const plugin = descriptor.plugin;\n            const method = plugin[hook];\n            const params = [\n                chart,\n                args,\n                descriptor.options\n            ];\n            if (callback(method, params, plugin) === false && args.cancelable) {\n                return false;\n            }\n        }\n        return true;\n    }\n    invalidate() {\n        if (!isNullOrUndef(this._cache)) {\n            this._oldCache = this._cache;\n            this._cache = undefined;\n        }\n    }\n _descriptors(chart) {\n        if (this._cache) {\n            return this._cache;\n        }\n        const descriptors = this._cache = this._createDescriptors(chart);\n        this._notifyStateChanges(chart);\n        return descriptors;\n    }\n    _createDescriptors(chart, all) {\n        const config = chart && chart.config;\n        const options = valueOrDefault(config.options && config.options.plugins, {});\n        const plugins = allPlugins(config);\n        return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n _notifyStateChanges(chart) {\n        const previousDescriptors = this._oldCache || [];\n        const descriptors = this._cache;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.plugin.id === y.plugin.id));\n        this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n        this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n}\n function allPlugins(config) {\n    const localIds = {};\n    const plugins = [];\n    const keys = Object.keys(registry.plugins.items);\n    for(let i = 0; i < keys.length; i++){\n        plugins.push(registry.getPlugin(keys[i]));\n    }\n    const local = config.plugins || [];\n    for(let i = 0; i < local.length; i++){\n        const plugin = local[i];\n        if (plugins.indexOf(plugin) === -1) {\n            plugins.push(plugin);\n            localIds[plugin.id] = true;\n        }\n    }\n    return {\n        plugins,\n        localIds\n    };\n}\nfunction getOpts(options, all) {\n    if (!all && options === false) {\n        return null;\n    }\n    if (options === true) {\n        return {};\n    }\n    return options;\n}\nfunction createDescriptors(chart, { plugins , localIds  }, options, all) {\n    const result = [];\n    const context = chart.getContext();\n    for (const plugin of plugins){\n        const id = plugin.id;\n        const opts = getOpts(options[id], all);\n        if (opts === null) {\n            continue;\n        }\n        result.push({\n            plugin,\n            options: pluginOpts(chart.config, {\n                plugin,\n                local: localIds[id]\n            }, opts, context)\n        });\n    }\n    return result;\n}\nfunction pluginOpts(config, { plugin , local  }, opts, context) {\n    const keys = config.pluginScopeKeys(plugin);\n    const scopes = config.getOptionScopes(opts, keys);\n    if (local && plugin.defaults) {\n        scopes.push(plugin.defaults);\n    }\n    return config.createResolver(scopes, context, [\n        ''\n    ], {\n        scriptable: false,\n        indexable: false,\n        allKeys: true\n    });\n}\n\nfunction getIndexAxis(type, options) {\n    const datasetDefaults = defaults.datasets[type] || {};\n    const datasetOptions = (options.datasets || {})[type] || {};\n    return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n    let axis = id;\n    if (id === '_index_') {\n        axis = indexAxis;\n    } else if (id === '_value_') {\n        axis = indexAxis === 'x' ? 'y' : 'x';\n    }\n    return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n    return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction idMatchesAxis(id) {\n    if (id === 'x' || id === 'y' || id === 'r') {\n        return id;\n    }\n}\nfunction axisFromPosition(position) {\n    if (position === 'top' || position === 'bottom') {\n        return 'x';\n    }\n    if (position === 'left' || position === 'right') {\n        return 'y';\n    }\n}\nfunction determineAxis(id, ...scaleOptions) {\n    if (idMatchesAxis(id)) {\n        return id;\n    }\n    for (const opts of scaleOptions){\n        const axis = opts.axis || axisFromPosition(opts.position) || id.length > 1 && idMatchesAxis(id[0].toLowerCase());\n        if (axis) {\n            return axis;\n        }\n    }\n    throw new Error(`Cannot determine type of '${id}' axis. Please provide 'axis' or 'position' option.`);\n}\nfunction getAxisFromDataset(id, axis, dataset) {\n    if (dataset[axis + 'AxisID'] === id) {\n        return {\n            axis\n        };\n    }\n}\nfunction retrieveAxisFromDatasets(id, config) {\n    if (config.data && config.data.datasets) {\n        const boundDs = config.data.datasets.filter((d)=>d.xAxisID === id || d.yAxisID === id);\n        if (boundDs.length) {\n            return getAxisFromDataset(id, 'x', boundDs[0]) || getAxisFromDataset(id, 'y', boundDs[0]);\n        }\n    }\n    return {};\n}\nfunction mergeScaleConfig(config, options) {\n    const chartDefaults = overrides[config.type] || {\n        scales: {}\n    };\n    const configScales = options.scales || {};\n    const chartIndexAxis = getIndexAxis(config.type, options);\n    const scales = Object.create(null);\n    Object.keys(configScales).forEach((id)=>{\n        const scaleConf = configScales[id];\n        if (!isObject(scaleConf)) {\n            return console.error(`Invalid scale configuration for scale: ${id}`);\n        }\n        if (scaleConf._proxy) {\n            return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n        }\n        const axis = determineAxis(id, scaleConf, retrieveAxisFromDatasets(id, config), defaults.scales[scaleConf.type]);\n        const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n        const defaultScaleOptions = chartDefaults.scales || {};\n        scales[id] = mergeIf(Object.create(null), [\n            {\n                axis\n            },\n            scaleConf,\n            defaultScaleOptions[axis],\n            defaultScaleOptions[defaultId]\n        ]);\n    });\n    config.data.datasets.forEach((dataset)=>{\n        const type = dataset.type || config.type;\n        const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n        const datasetDefaults = overrides[type] || {};\n        const defaultScaleOptions = datasetDefaults.scales || {};\n        Object.keys(defaultScaleOptions).forEach((defaultID)=>{\n            const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n            const id = dataset[axis + 'AxisID'] || axis;\n            scales[id] = scales[id] || Object.create(null);\n            mergeIf(scales[id], [\n                {\n                    axis\n                },\n                configScales[id],\n                defaultScaleOptions[defaultID]\n            ]);\n        });\n    });\n    Object.keys(scales).forEach((key)=>{\n        const scale = scales[key];\n        mergeIf(scale, [\n            defaults.scales[scale.type],\n            defaults.scale\n        ]);\n    });\n    return scales;\n}\nfunction initOptions(config) {\n    const options = config.options || (config.options = {});\n    options.plugins = valueOrDefault(options.plugins, {});\n    options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n    data = data || {};\n    data.datasets = data.datasets || [];\n    data.labels = data.labels || [];\n    return data;\n}\nfunction initConfig(config) {\n    config = config || {};\n    config.data = initData(config.data);\n    initOptions(config);\n    return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n    let keys = keyCache.get(cacheKey);\n    if (!keys) {\n        keys = generate();\n        keyCache.set(cacheKey, keys);\n        keysCached.add(keys);\n    }\n    return keys;\n}\nconst addIfFound = (set, obj, key)=>{\n    const opts = resolveObjectKey(obj, key);\n    if (opts !== undefined) {\n        set.add(opts);\n    }\n};\nclass Config {\n    constructor(config){\n        this._config = initConfig(config);\n        this._scopeCache = new Map();\n        this._resolverCache = new Map();\n    }\n    get platform() {\n        return this._config.platform;\n    }\n    get type() {\n        return this._config.type;\n    }\n    set type(type) {\n        this._config.type = type;\n    }\n    get data() {\n        return this._config.data;\n    }\n    set data(data) {\n        this._config.data = initData(data);\n    }\n    get options() {\n        return this._config.options;\n    }\n    set options(options) {\n        this._config.options = options;\n    }\n    get plugins() {\n        return this._config.plugins;\n    }\n    update() {\n        const config = this._config;\n        this.clearCache();\n        initOptions(config);\n    }\n    clearCache() {\n        this._scopeCache.clear();\n        this._resolverCache.clear();\n    }\n datasetScopeKeys(datasetType) {\n        return cachedKeys(datasetType, ()=>[\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetAnimationScopeKeys(datasetType, transition) {\n        return cachedKeys(`${datasetType}.transition.${transition}`, ()=>[\n                [\n                    `datasets.${datasetType}.transitions.${transition}`,\n                    `transitions.${transition}`\n                ],\n                [\n                    `datasets.${datasetType}`,\n                    ''\n                ]\n            ]);\n    }\n datasetElementScopeKeys(datasetType, elementType) {\n        return cachedKeys(`${datasetType}-${elementType}`, ()=>[\n                [\n                    `datasets.${datasetType}.elements.${elementType}`,\n                    `datasets.${datasetType}`,\n                    `elements.${elementType}`,\n                    ''\n                ]\n            ]);\n    }\n pluginScopeKeys(plugin) {\n        const id = plugin.id;\n        const type = this.type;\n        return cachedKeys(`${type}-plugin-${id}`, ()=>[\n                [\n                    `plugins.${id}`,\n                    ...plugin.additionalOptionScopes || []\n                ]\n            ]);\n    }\n _cachedScopes(mainScope, resetCache) {\n        const _scopeCache = this._scopeCache;\n        let cache = _scopeCache.get(mainScope);\n        if (!cache || resetCache) {\n            cache = new Map();\n            _scopeCache.set(mainScope, cache);\n        }\n        return cache;\n    }\n getOptionScopes(mainScope, keyLists, resetCache) {\n        const { options , type  } = this;\n        const cache = this._cachedScopes(mainScope, resetCache);\n        const cached = cache.get(keyLists);\n        if (cached) {\n            return cached;\n        }\n        const scopes = new Set();\n        keyLists.forEach((keys)=>{\n            if (mainScope) {\n                scopes.add(mainScope);\n                keys.forEach((key)=>addIfFound(scopes, mainScope, key));\n            }\n            keys.forEach((key)=>addIfFound(scopes, options, key));\n            keys.forEach((key)=>addIfFound(scopes, overrides[type] || {}, key));\n            keys.forEach((key)=>addIfFound(scopes, defaults, key));\n            keys.forEach((key)=>addIfFound(scopes, descriptors, key));\n        });\n        const array = Array.from(scopes);\n        if (array.length === 0) {\n            array.push(Object.create(null));\n        }\n        if (keysCached.has(keyLists)) {\n            cache.set(keyLists, array);\n        }\n        return array;\n    }\n chartOptionScopes() {\n        const { options , type  } = this;\n        return [\n            options,\n            overrides[type] || {},\n            defaults.datasets[type] || {},\n            {\n                type\n            },\n            defaults,\n            descriptors\n        ];\n    }\n resolveNamedOptions(scopes, names, context, prefixes = [\n        ''\n    ]) {\n        const result = {\n            $shared: true\n        };\n        const { resolver , subPrefixes  } = getResolver(this._resolverCache, scopes, prefixes);\n        let options = resolver;\n        if (needContext(resolver, names)) {\n            result.$shared = false;\n            context = isFunction(context) ? context() : context;\n            const subResolver = this.createResolver(scopes, context, subPrefixes);\n            options = _attachContext(resolver, context, subResolver);\n        }\n        for (const prop of names){\n            result[prop] = options[prop];\n        }\n        return result;\n    }\n createResolver(scopes, context, prefixes = [\n        ''\n    ], descriptorDefaults) {\n        const { resolver  } = getResolver(this._resolverCache, scopes, prefixes);\n        return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n    let cache = resolverCache.get(scopes);\n    if (!cache) {\n        cache = new Map();\n        resolverCache.set(scopes, cache);\n    }\n    const cacheKey = prefixes.join();\n    let cached = cache.get(cacheKey);\n    if (!cached) {\n        const resolver = _createResolver(scopes, prefixes);\n        cached = {\n            resolver,\n            subPrefixes: prefixes.filter((p)=>!p.toLowerCase().includes('hover'))\n        };\n        cache.set(cacheKey, cached);\n    }\n    return cached;\n}\nconst hasFunction = (value)=>isObject(value) && Object.getOwnPropertyNames(value).some((key)=>isFunction(value[key]));\nfunction needContext(proxy, names) {\n    const { isScriptable , isIndexable  } = _descriptors(proxy);\n    for (const prop of names){\n        const scriptable = isScriptable(prop);\n        const indexable = isIndexable(prop);\n        const value = (indexable || scriptable) && proxy[prop];\n        if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar version = \"4.4.9\";\n\nconst KNOWN_POSITIONS = [\n    'top',\n    'bottom',\n    'left',\n    'right',\n    'chartArea'\n];\nfunction positionIsHorizontal(position, axis) {\n    return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\nfunction compare2Level(l1, l2) {\n    return function(a, b) {\n        return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n    };\n}\nfunction onAnimationsComplete(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    chart.notifyPlugins('afterRender');\n    callback(animationOptions && animationOptions.onComplete, [\n        context\n    ], chart);\n}\nfunction onAnimationProgress(context) {\n    const chart = context.chart;\n    const animationOptions = chart.options.animation;\n    callback(animationOptions && animationOptions.onProgress, [\n        context\n    ], chart);\n}\n function getCanvas(item) {\n    if (_isDomSupported() && typeof item === 'string') {\n        item = document.getElementById(item);\n    } else if (item && item.length) {\n        item = item[0];\n    }\n    if (item && item.canvas) {\n        item = item.canvas;\n    }\n    return item;\n}\nconst instances = {};\nconst getChart = (key)=>{\n    const canvas = getCanvas(key);\n    return Object.values(instances).filter((c)=>c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n    const keys = Object.keys(obj);\n    for (const key of keys){\n        const intKey = +key;\n        if (intKey >= start) {\n            const value = obj[key];\n            delete obj[key];\n            if (move > 0 || intKey > start) {\n                obj[intKey + move] = value;\n            }\n        }\n    }\n}\n function determineLastEvent(e, lastEvent, inChartArea, isClick) {\n    if (!inChartArea || e.type === 'mouseout') {\n        return null;\n    }\n    if (isClick) {\n        return lastEvent;\n    }\n    return e;\n}\nclass Chart {\n    static defaults = defaults;\n    static instances = instances;\n    static overrides = overrides;\n    static registry = registry;\n    static version = version;\n    static getChart = getChart;\n    static register(...items) {\n        registry.add(...items);\n        invalidatePlugins();\n    }\n    static unregister(...items) {\n        registry.remove(...items);\n        invalidatePlugins();\n    }\n    constructor(item, userConfig){\n        const config = this.config = new Config(userConfig);\n        const initialCanvas = getCanvas(item);\n        const existingChart = getChart(initialCanvas);\n        if (existingChart) {\n            throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas with ID \\'' + existingChart.canvas.id + '\\' can be reused.');\n        }\n        const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n        this.platform.updateConfig(config);\n        const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n        const canvas = context && context.canvas;\n        const height = canvas && canvas.height;\n        const width = canvas && canvas.width;\n        this.id = uid();\n        this.ctx = context;\n        this.canvas = canvas;\n        this.width = width;\n        this.height = height;\n        this._options = options;\n        this._aspectRatio = this.aspectRatio;\n        this._layers = [];\n        this._metasets = [];\n        this._stacks = undefined;\n        this.boxes = [];\n        this.currentDevicePixelRatio = undefined;\n        this.chartArea = undefined;\n        this._active = [];\n        this._lastEvent = undefined;\n        this._listeners = {};\n         this._responsiveListeners = undefined;\n        this._sortedMetasets = [];\n        this.scales = {};\n        this._plugins = new PluginService();\n        this.$proxies = {};\n        this._hiddenIndices = {};\n        this.attached = false;\n        this._animationsDisabled = undefined;\n        this.$context = undefined;\n        this._doResize = debounce((mode)=>this.update(mode), options.resizeDelay || 0);\n        this._dataChanges = [];\n        instances[this.id] = this;\n        if (!context || !canvas) {\n            console.error(\"Failed to create chart: can't acquire context from the given item\");\n            return;\n        }\n        animator.listen(this, 'complete', onAnimationsComplete);\n        animator.listen(this, 'progress', onAnimationProgress);\n        this._initialize();\n        if (this.attached) {\n            this.update();\n        }\n    }\n    get aspectRatio() {\n        const { options: { aspectRatio , maintainAspectRatio  } , width , height , _aspectRatio  } = this;\n        if (!isNullOrUndef(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (maintainAspectRatio && _aspectRatio) {\n            return _aspectRatio;\n        }\n        return height ? width / height : null;\n    }\n    get data() {\n        return this.config.data;\n    }\n    set data(data) {\n        this.config.data = data;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this.config.options = options;\n    }\n    get registry() {\n        return registry;\n    }\n _initialize() {\n        this.notifyPlugins('beforeInit');\n        if (this.options.responsive) {\n            this.resize();\n        } else {\n            retinaScale(this, this.options.devicePixelRatio);\n        }\n        this.bindEvents();\n        this.notifyPlugins('afterInit');\n        return this;\n    }\n    clear() {\n        clearCanvas(this.canvas, this.ctx);\n        return this;\n    }\n    stop() {\n        animator.stop(this);\n        return this;\n    }\n resize(width, height) {\n        if (!animator.running(this)) {\n            this._resize(width, height);\n        } else {\n            this._resizeBeforeDraw = {\n                width,\n                height\n            };\n        }\n    }\n    _resize(width, height) {\n        const options = this.options;\n        const canvas = this.canvas;\n        const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n        const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n        const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n        const mode = this.width ? 'resize' : 'attach';\n        this.width = newSize.width;\n        this.height = newSize.height;\n        this._aspectRatio = this.aspectRatio;\n        if (!retinaScale(this, newRatio, true)) {\n            return;\n        }\n        this.notifyPlugins('resize', {\n            size: newSize\n        });\n        callback(options.onResize, [\n            this,\n            newSize\n        ], this);\n        if (this.attached) {\n            if (this._doResize(mode)) {\n                this.render();\n            }\n        }\n    }\n    ensureScalesHaveIDs() {\n        const options = this.options;\n        const scalesOptions = options.scales || {};\n        each(scalesOptions, (axisOptions, axisID)=>{\n            axisOptions.id = axisID;\n        });\n    }\n buildOrUpdateScales() {\n        const options = this.options;\n        const scaleOpts = options.scales;\n        const scales = this.scales;\n        const updated = Object.keys(scales).reduce((obj, id)=>{\n            obj[id] = false;\n            return obj;\n        }, {});\n        let items = [];\n        if (scaleOpts) {\n            items = items.concat(Object.keys(scaleOpts).map((id)=>{\n                const scaleOptions = scaleOpts[id];\n                const axis = determineAxis(id, scaleOptions);\n                const isRadial = axis === 'r';\n                const isHorizontal = axis === 'x';\n                return {\n                    options: scaleOptions,\n                    dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n                    dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n                };\n            }));\n        }\n        each(items, (item)=>{\n            const scaleOptions = item.options;\n            const id = scaleOptions.id;\n            const axis = determineAxis(id, scaleOptions);\n            const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n            if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n                scaleOptions.position = item.dposition;\n            }\n            updated[id] = true;\n            let scale = null;\n            if (id in scales && scales[id].type === scaleType) {\n                scale = scales[id];\n            } else {\n                const scaleClass = registry.getScale(scaleType);\n                scale = new scaleClass({\n                    id,\n                    type: scaleType,\n                    ctx: this.ctx,\n                    chart: this\n                });\n                scales[scale.id] = scale;\n            }\n            scale.init(scaleOptions, options);\n        });\n        each(updated, (hasUpdated, id)=>{\n            if (!hasUpdated) {\n                delete scales[id];\n            }\n        });\n        each(scales, (scale)=>{\n            layouts.configure(this, scale, scale.options);\n            layouts.addBox(this, scale);\n        });\n    }\n _updateMetasets() {\n        const metasets = this._metasets;\n        const numData = this.data.datasets.length;\n        const numMeta = metasets.length;\n        metasets.sort((a, b)=>a.index - b.index);\n        if (numMeta > numData) {\n            for(let i = numData; i < numMeta; ++i){\n                this._destroyDatasetMeta(i);\n            }\n            metasets.splice(numData, numMeta - numData);\n        }\n        this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n _removeUnreferencedMetasets() {\n        const { _metasets: metasets , data: { datasets  }  } = this;\n        if (metasets.length > datasets.length) {\n            delete this._stacks;\n        }\n        metasets.forEach((meta, index)=>{\n            if (datasets.filter((x)=>x === meta._dataset).length === 0) {\n                this._destroyDatasetMeta(index);\n            }\n        });\n    }\n    buildOrUpdateControllers() {\n        const newControllers = [];\n        const datasets = this.data.datasets;\n        let i, ilen;\n        this._removeUnreferencedMetasets();\n        for(i = 0, ilen = datasets.length; i < ilen; i++){\n            const dataset = datasets[i];\n            let meta = this.getDatasetMeta(i);\n            const type = dataset.type || this.config.type;\n            if (meta.type && meta.type !== type) {\n                this._destroyDatasetMeta(i);\n                meta = this.getDatasetMeta(i);\n            }\n            meta.type = type;\n            meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n            meta.order = dataset.order || 0;\n            meta.index = i;\n            meta.label = '' + dataset.label;\n            meta.visible = this.isDatasetVisible(i);\n            if (meta.controller) {\n                meta.controller.updateIndex(i);\n                meta.controller.linkScales();\n            } else {\n                const ControllerClass = registry.getController(type);\n                const { datasetElementType , dataElementType  } = defaults.datasets[type];\n                Object.assign(ControllerClass, {\n                    dataElementType: registry.getElement(dataElementType),\n                    datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n                });\n                meta.controller = new ControllerClass(this, i);\n                newControllers.push(meta.controller);\n            }\n        }\n        this._updateMetasets();\n        return newControllers;\n    }\n _resetElements() {\n        each(this.data.datasets, (dataset, datasetIndex)=>{\n            this.getDatasetMeta(datasetIndex).controller.reset();\n        }, this);\n    }\n reset() {\n        this._resetElements();\n        this.notifyPlugins('reset');\n    }\n    update(mode) {\n        const config = this.config;\n        config.update();\n        const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n        const animsDisabled = this._animationsDisabled = !options.animation;\n        this._updateScales();\n        this._checkEventBindings();\n        this._updateHiddenIndices();\n        this._plugins.invalidate();\n        if (this.notifyPlugins('beforeUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const newControllers = this.buildOrUpdateControllers();\n        this.notifyPlugins('beforeElementsUpdate');\n        let minPadding = 0;\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; i++){\n            const { controller  } = this.getDatasetMeta(i);\n            const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n            controller.buildOrUpdateElements(reset);\n            minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n        }\n        minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n        this._updateLayout(minPadding);\n        if (!animsDisabled) {\n            each(newControllers, (controller)=>{\n                controller.reset();\n            });\n        }\n        this._updateDatasets(mode);\n        this.notifyPlugins('afterUpdate', {\n            mode\n        });\n        this._layers.sort(compare2Level('z', '_idx'));\n        const { _active , _lastEvent  } = this;\n        if (_lastEvent) {\n            this._eventHandler(_lastEvent, true);\n        } else if (_active.length) {\n            this._updateHoverStyles(_active, _active, true);\n        }\n        this.render();\n    }\n _updateScales() {\n        each(this.scales, (scale)=>{\n            layouts.removeBox(this, scale);\n        });\n        this.ensureScalesHaveIDs();\n        this.buildOrUpdateScales();\n    }\n _checkEventBindings() {\n        const options = this.options;\n        const existingEvents = new Set(Object.keys(this._listeners));\n        const newEvents = new Set(options.events);\n        if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n            this.unbindEvents();\n            this.bindEvents();\n        }\n    }\n _updateHiddenIndices() {\n        const { _hiddenIndices  } = this;\n        const changes = this._getUniformDataChanges() || [];\n        for (const { method , start , count  } of changes){\n            const move = method === '_removeElements' ? -count : count;\n            moveNumericKeys(_hiddenIndices, start, move);\n        }\n    }\n _getUniformDataChanges() {\n        const _dataChanges = this._dataChanges;\n        if (!_dataChanges || !_dataChanges.length) {\n            return;\n        }\n        this._dataChanges = [];\n        const datasetCount = this.data.datasets.length;\n        const makeSet = (idx)=>new Set(_dataChanges.filter((c)=>c[0] === idx).map((c, i)=>i + ',' + c.splice(1).join(',')));\n        const changeSet = makeSet(0);\n        for(let i = 1; i < datasetCount; i++){\n            if (!setsEqual(changeSet, makeSet(i))) {\n                return;\n            }\n        }\n        return Array.from(changeSet).map((c)=>c.split(',')).map((a)=>({\n                method: a[1],\n                start: +a[2],\n                count: +a[3]\n            }));\n    }\n _updateLayout(minPadding) {\n        if (this.notifyPlugins('beforeLayout', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        layouts.update(this, this.width, this.height, minPadding);\n        const area = this.chartArea;\n        const noArea = area.width <= 0 || area.height <= 0;\n        this._layers = [];\n        each(this.boxes, (box)=>{\n            if (noArea && box.position === 'chartArea') {\n                return;\n            }\n            if (box.configure) {\n                box.configure();\n            }\n            this._layers.push(...box._layers());\n        }, this);\n        this._layers.forEach((item, index)=>{\n            item._idx = index;\n        });\n        this.notifyPlugins('afterLayout');\n    }\n _updateDatasets(mode) {\n        if (this.notifyPlugins('beforeDatasetsUpdate', {\n            mode,\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this.getDatasetMeta(i).controller.configure();\n        }\n        for(let i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._updateDataset(i, isFunction(mode) ? mode({\n                datasetIndex: i\n            }) : mode);\n        }\n        this.notifyPlugins('afterDatasetsUpdate', {\n            mode\n        });\n    }\n _updateDataset(index, mode) {\n        const meta = this.getDatasetMeta(index);\n        const args = {\n            meta,\n            index,\n            mode,\n            cancelable: true\n        };\n        if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n            return;\n        }\n        meta.controller._update(mode);\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetUpdate', args);\n    }\n    render() {\n        if (this.notifyPlugins('beforeRender', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        if (animator.has(this)) {\n            if (this.attached && !animator.running(this)) {\n                animator.start(this);\n            }\n        } else {\n            this.draw();\n            onAnimationsComplete({\n                chart: this\n            });\n        }\n    }\n    draw() {\n        let i;\n        if (this._resizeBeforeDraw) {\n            const { width , height  } = this._resizeBeforeDraw;\n            this._resizeBeforeDraw = null;\n            this._resize(width, height);\n        }\n        this.clear();\n        if (this.width <= 0 || this.height <= 0) {\n            return;\n        }\n        if (this.notifyPlugins('beforeDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const layers = this._layers;\n        for(i = 0; i < layers.length && layers[i].z <= 0; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this._drawDatasets();\n        for(; i < layers.length; ++i){\n            layers[i].draw(this.chartArea);\n        }\n        this.notifyPlugins('afterDraw');\n    }\n _getSortedDatasetMetas(filterVisible) {\n        const metasets = this._sortedMetasets;\n        const result = [];\n        let i, ilen;\n        for(i = 0, ilen = metasets.length; i < ilen; ++i){\n            const meta = metasets[i];\n            if (!filterVisible || meta.visible) {\n                result.push(meta);\n            }\n        }\n        return result;\n    }\n getSortedVisibleDatasetMetas() {\n        return this._getSortedDatasetMetas(true);\n    }\n _drawDatasets() {\n        if (this.notifyPlugins('beforeDatasetsDraw', {\n            cancelable: true\n        }) === false) {\n            return;\n        }\n        const metasets = this.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            this._drawDataset(metasets[i]);\n        }\n        this.notifyPlugins('afterDatasetsDraw');\n    }\n _drawDataset(meta) {\n        const ctx = this.ctx;\n        const args = {\n            meta,\n            index: meta.index,\n            cancelable: true\n        };\n        const clip = getDatasetClipArea(this, meta);\n        if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n            return;\n        }\n        if (clip) {\n            clipArea(ctx, clip);\n        }\n        meta.controller.draw();\n        if (clip) {\n            unclipArea(ctx);\n        }\n        args.cancelable = false;\n        this.notifyPlugins('afterDatasetDraw', args);\n    }\n isPointInArea(point) {\n        return _isPointInArea(point, this.chartArea, this._minPadding);\n    }\n    getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n        const method = Interaction.modes[mode];\n        if (typeof method === 'function') {\n            return method(this, e, options, useFinalPosition);\n        }\n        return [];\n    }\n    getDatasetMeta(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        const metasets = this._metasets;\n        let meta = metasets.filter((x)=>x && x._dataset === dataset).pop();\n        if (!meta) {\n            meta = {\n                type: null,\n                data: [],\n                dataset: null,\n                controller: null,\n                hidden: null,\n                xAxisID: null,\n                yAxisID: null,\n                order: dataset && dataset.order || 0,\n                index: datasetIndex,\n                _dataset: dataset,\n                _parsed: [],\n                _sorted: false\n            };\n            metasets.push(meta);\n        }\n        return meta;\n    }\n    getContext() {\n        return this.$context || (this.$context = createContext(null, {\n            chart: this,\n            type: 'chart'\n        }));\n    }\n    getVisibleDatasetCount() {\n        return this.getSortedVisibleDatasetMetas().length;\n    }\n    isDatasetVisible(datasetIndex) {\n        const dataset = this.data.datasets[datasetIndex];\n        if (!dataset) {\n            return false;\n        }\n        const meta = this.getDatasetMeta(datasetIndex);\n        return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n    setDatasetVisibility(datasetIndex, visible) {\n        const meta = this.getDatasetMeta(datasetIndex);\n        meta.hidden = !visible;\n    }\n    toggleDataVisibility(index) {\n        this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n    getDataVisibility(index) {\n        return !this._hiddenIndices[index];\n    }\n _updateVisibility(datasetIndex, dataIndex, visible) {\n        const mode = visible ? 'show' : 'hide';\n        const meta = this.getDatasetMeta(datasetIndex);\n        const anims = meta.controller._resolveAnimations(undefined, mode);\n        if (defined(dataIndex)) {\n            meta.data[dataIndex].hidden = !visible;\n            this.update();\n        } else {\n            this.setDatasetVisibility(datasetIndex, visible);\n            anims.update(meta, {\n                visible\n            });\n            this.update((ctx)=>ctx.datasetIndex === datasetIndex ? mode : undefined);\n        }\n    }\n    hide(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n    show(datasetIndex, dataIndex) {\n        this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n _destroyDatasetMeta(datasetIndex) {\n        const meta = this._metasets[datasetIndex];\n        if (meta && meta.controller) {\n            meta.controller._destroy();\n        }\n        delete this._metasets[datasetIndex];\n    }\n    _stop() {\n        let i, ilen;\n        this.stop();\n        animator.remove(this);\n        for(i = 0, ilen = this.data.datasets.length; i < ilen; ++i){\n            this._destroyDatasetMeta(i);\n        }\n    }\n    destroy() {\n        this.notifyPlugins('beforeDestroy');\n        const { canvas , ctx  } = this;\n        this._stop();\n        this.config.clearCache();\n        if (canvas) {\n            this.unbindEvents();\n            clearCanvas(canvas, ctx);\n            this.platform.releaseContext(ctx);\n            this.canvas = null;\n            this.ctx = null;\n        }\n        delete instances[this.id];\n        this.notifyPlugins('afterDestroy');\n    }\n    toBase64Image(...args) {\n        return this.canvas.toDataURL(...args);\n    }\n bindEvents() {\n        this.bindUserEvents();\n        if (this.options.responsive) {\n            this.bindResponsiveEvents();\n        } else {\n            this.attached = true;\n        }\n    }\n bindUserEvents() {\n        const listeners = this._listeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const listener = (e, x, y)=>{\n            e.offsetX = x;\n            e.offsetY = y;\n            this._eventHandler(e);\n        };\n        each(this.options.events, (type)=>_add(type, listener));\n    }\n bindResponsiveEvents() {\n        if (!this._responsiveListeners) {\n            this._responsiveListeners = {};\n        }\n        const listeners = this._responsiveListeners;\n        const platform = this.platform;\n        const _add = (type, listener)=>{\n            platform.addEventListener(this, type, listener);\n            listeners[type] = listener;\n        };\n        const _remove = (type, listener)=>{\n            if (listeners[type]) {\n                platform.removeEventListener(this, type, listener);\n                delete listeners[type];\n            }\n        };\n        const listener = (width, height)=>{\n            if (this.canvas) {\n                this.resize(width, height);\n            }\n        };\n        let detached;\n        const attached = ()=>{\n            _remove('attach', attached);\n            this.attached = true;\n            this.resize();\n            _add('resize', listener);\n            _add('detach', detached);\n        };\n        detached = ()=>{\n            this.attached = false;\n            _remove('resize', listener);\n            this._stop();\n            this._resize(0, 0);\n            _add('attach', attached);\n        };\n        if (platform.isAttached(this.canvas)) {\n            attached();\n        } else {\n            detached();\n        }\n    }\n unbindEvents() {\n        each(this._listeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._listeners = {};\n        each(this._responsiveListeners, (listener, type)=>{\n            this.platform.removeEventListener(this, type, listener);\n        });\n        this._responsiveListeners = undefined;\n    }\n    updateHoverStyle(items, mode, enabled) {\n        const prefix = enabled ? 'set' : 'remove';\n        let meta, item, i, ilen;\n        if (mode === 'dataset') {\n            meta = this.getDatasetMeta(items[0].datasetIndex);\n            meta.controller['_' + prefix + 'DatasetHoverStyle']();\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            item = items[i];\n            const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n            if (controller) {\n                controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n            }\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements) {\n        const lastActive = this._active || [];\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('No dataset found at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed) {\n            this._active = active;\n            this._lastEvent = null;\n            this._updateHoverStyles(active, lastActive);\n        }\n    }\n notifyPlugins(hook, args, filter) {\n        return this._plugins.notify(this, hook, args, filter);\n    }\n isPluginEnabled(pluginId) {\n        return this._plugins._cache.filter((p)=>p.plugin.id === pluginId).length === 1;\n    }\n _updateHoverStyles(active, lastActive, replay) {\n        const hoverOptions = this.options.hover;\n        const diff = (a, b)=>a.filter((x)=>!b.some((y)=>x.datasetIndex === y.datasetIndex && x.index === y.index));\n        const deactivated = diff(lastActive, active);\n        const activated = replay ? active : diff(active, lastActive);\n        if (deactivated.length) {\n            this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n        }\n        if (activated.length && hoverOptions.mode) {\n            this.updateHoverStyle(activated, hoverOptions.mode, true);\n        }\n    }\n _eventHandler(e, replay) {\n        const args = {\n            event: e,\n            replay,\n            cancelable: true,\n            inChartArea: this.isPointInArea(e)\n        };\n        const eventFilter = (plugin)=>(plugin.options.events || this.options.events).includes(e.native.type);\n        if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n            return;\n        }\n        const changed = this._handleEvent(e, replay, args.inChartArea);\n        args.cancelable = false;\n        this.notifyPlugins('afterEvent', args, eventFilter);\n        if (changed || args.changed) {\n            this.render();\n        }\n        return this;\n    }\n _handleEvent(e, replay, inChartArea) {\n        const { _active: lastActive = [] , options  } = this;\n        const useFinalPosition = replay;\n        const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n        const isClick = _isClickEvent(e);\n        const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n        if (inChartArea) {\n            this._lastEvent = null;\n            callback(options.onHover, [\n                e,\n                active,\n                this\n            ], this);\n            if (isClick) {\n                callback(options.onClick, [\n                    e,\n                    active,\n                    this\n                ], this);\n            }\n        }\n        const changed = !_elementsEqual(active, lastActive);\n        if (changed || replay) {\n            this._active = active;\n            this._updateHoverStyles(active, lastActive, replay);\n        }\n        this._lastEvent = lastEvent;\n        return changed;\n    }\n _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive;\n        }\n        const hoverOptions = this.options.hover;\n        return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n    }\n}\nfunction invalidatePlugins() {\n    return each(Chart.instances, (chart)=>chart._plugins.invalidate());\n}\n\nfunction clipArc(ctx, element, endAngle) {\n    const { startAngle , pixelMargin , x , y , outerRadius , innerRadius  } = element;\n    let angleMargin = pixelMargin / outerRadius;\n    // Draw an inner border by clipping the arc and drawing a double-width border\n    // Enlarge the clipping arc by 0.33 pixels to eliminate glitches between borders\n    ctx.beginPath();\n    ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n    if (innerRadius > pixelMargin) {\n        angleMargin = pixelMargin / innerRadius;\n        ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n    } else {\n        ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n    }\n    ctx.closePath();\n    ctx.clip();\n}\nfunction toRadiusCorners(value) {\n    return _readValueToProps(value, [\n        'outerStart',\n        'outerEnd',\n        'innerStart',\n        'innerEnd'\n    ]);\n}\n/**\n * Parse border radius from the provided options\n */ function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n    const o = toRadiusCorners(arc.options.borderRadius);\n    const halfThickness = (outerRadius - innerRadius) / 2;\n    const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n    // Outer limits are complicated. We want to compute the available angular distance at\n    // a radius of outerRadius - borderRadius because for small angular distances, this term limits.\n    // We compute at r = outerRadius - borderRadius because this circle defines the center of the border corners.\n    //\n    // If the borderRadius is large, that value can become negative.\n    // This causes the outer borders to lose their radius entirely, which is rather unexpected. To solve that, if borderRadius > outerRadius\n    // we know that the thickness term will dominate and compute the limits at that point\n    const computeOuterLimit = (val)=>{\n        const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n        return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n    };\n    return {\n        outerStart: computeOuterLimit(o.outerStart),\n        outerEnd: computeOuterLimit(o.outerEnd),\n        innerStart: _limitValue(o.innerStart, 0, innerLimit),\n        innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n    };\n}\n/**\n * Convert (r, ) to (x, y)\n */ function rThetaToXY(r, theta, x, y) {\n    return {\n        x: x + r * Math.cos(theta),\n        y: y + r * Math.sin(theta)\n    };\n}\n/**\n * Path the arc, respecting border radius by separating into left and right halves.\n *\n *   Start      End\n *\n *    1--->a--->2    Outer\n *   /           \\\n *   8           3\n *   |           |\n *   |           |\n *   7           4\n *   \\           /\n *    6<---b<---5    Inner\n */ function pathArc(ctx, element, offset, spacing, end, circular) {\n    const { x , y , startAngle: start , pixelMargin , innerRadius: innerR  } = element;\n    const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n    const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n    let spacingOffset = 0;\n    const alpha = end - start;\n    if (spacing) {\n        // When spacing is present, it is the same for all items\n        // So we adjust the start and end angle of the arc such that\n        // the distance is the same as it would be without the spacing\n        const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n        const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n        const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n        const adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n        spacingOffset = (alpha - adjustedAngle) / 2;\n    }\n    const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n    const angleOffset = (alpha - beta) / 2;\n    const startAngle = start + angleOffset + spacingOffset;\n    const endAngle = end - angleOffset - spacingOffset;\n    const { outerStart , outerEnd , innerStart , innerEnd  } = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n    const outerStartAdjustedRadius = outerRadius - outerStart;\n    const outerEndAdjustedRadius = outerRadius - outerEnd;\n    const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n    const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n    const innerStartAdjustedRadius = innerRadius + innerStart;\n    const innerEndAdjustedRadius = innerRadius + innerEnd;\n    const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n    const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n    ctx.beginPath();\n    if (circular) {\n        // The first arc segments from point 1 to point a to point 2\n        const outerMidAdjustedAngle = (outerStartAdjustedAngle + outerEndAdjustedAngle) / 2;\n        ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerMidAdjustedAngle);\n        ctx.arc(x, y, outerRadius, outerMidAdjustedAngle, outerEndAdjustedAngle);\n        // The corner segment from point 2 to point 3\n        if (outerEnd > 0) {\n            const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n        }\n        // The line from point 3 to point 4\n        const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n        ctx.lineTo(p4.x, p4.y);\n        // The corner segment from point 4 to point 5\n        if (innerEnd > 0) {\n            const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n        }\n        // The inner arc from point 5 to point b to point 6\n        const innerMidAdjustedAngle = (endAngle - innerEnd / innerRadius + (startAngle + innerStart / innerRadius)) / 2;\n        ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, innerMidAdjustedAngle, true);\n        ctx.arc(x, y, innerRadius, innerMidAdjustedAngle, startAngle + innerStart / innerRadius, true);\n        // The corner segment from point 6 to point 7\n        if (innerStart > 0) {\n            const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n        }\n        // The line from point 7 to point 8\n        const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n        ctx.lineTo(p8.x, p8.y);\n        // The corner segment from point 8 to point 1\n        if (outerStart > 0) {\n            const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n            ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n        }\n    } else {\n        ctx.moveTo(x, y);\n        const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;\n        const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerStartX, outerStartY);\n        const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;\n        const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;\n        ctx.lineTo(outerEndX, outerEndY);\n    }\n    ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference  } = element;\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.fill();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    pathArc(ctx, element, offset, spacing, endAngle, circular);\n    ctx.fill();\n    return endAngle;\n}\nfunction drawBorder(ctx, element, offset, spacing, circular) {\n    const { fullCircles , startAngle , circumference , options  } = element;\n    const { borderWidth , borderJoinStyle , borderDash , borderDashOffset  } = options;\n    const inner = options.borderAlign === 'inner';\n    if (!borderWidth) {\n        return;\n    }\n    ctx.setLineDash(borderDash || []);\n    ctx.lineDashOffset = borderDashOffset;\n    if (inner) {\n        ctx.lineWidth = borderWidth * 2;\n        ctx.lineJoin = borderJoinStyle || 'round';\n    } else {\n        ctx.lineWidth = borderWidth;\n        ctx.lineJoin = borderJoinStyle || 'bevel';\n    }\n    let endAngle = element.endAngle;\n    if (fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        for(let i = 0; i < fullCircles; ++i){\n            ctx.stroke();\n        }\n        if (!isNaN(circumference)) {\n            endAngle = startAngle + (circumference % TAU || TAU);\n        }\n    }\n    if (inner) {\n        clipArc(ctx, element, endAngle);\n    }\n    if (!fullCircles) {\n        pathArc(ctx, element, offset, spacing, endAngle, circular);\n        ctx.stroke();\n    }\n}\nclass ArcElement extends Element {\n    static id = 'arc';\n    static defaults = {\n        borderAlign: 'center',\n        borderColor: '#fff',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: undefined,\n        borderRadius: 0,\n        borderWidth: 2,\n        offset: 0,\n        spacing: 0,\n        angle: undefined,\n        circular: true\n    };\n    static defaultRoutes = {\n        backgroundColor: 'backgroundColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash'\n    };\n    circumference;\n    endAngle;\n    fullCircles;\n    innerRadius;\n    outerRadius;\n    pixelMargin;\n    startAngle;\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.circumference = undefined;\n        this.startAngle = undefined;\n        this.endAngle = undefined;\n        this.innerRadius = undefined;\n        this.outerRadius = undefined;\n        this.pixelMargin = 0;\n        this.fullCircles = 0;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(chartX, chartY, useFinalPosition) {\n        const point = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        const { angle , distance  } = getAngleFromPoint(point, {\n            x: chartX,\n            y: chartY\n        });\n        const { startAngle , endAngle , innerRadius , outerRadius , circumference  } = this.getProps([\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius',\n            'circumference'\n        ], useFinalPosition);\n        const rAdjust = (this.options.spacing + this.options.borderWidth) / 2;\n        const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n        const nonZeroBetween = _angleBetween(angle, startAngle, endAngle) && startAngle !== endAngle;\n        const betweenAngles = _circumference >= TAU || nonZeroBetween;\n        const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n        return betweenAngles && withinRadius;\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , startAngle , endAngle , innerRadius , outerRadius  } = this.getProps([\n            'x',\n            'y',\n            'startAngle',\n            'endAngle',\n            'innerRadius',\n            'outerRadius'\n        ], useFinalPosition);\n        const { offset , spacing  } = this.options;\n        const halfAngle = (startAngle + endAngle) / 2;\n        const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n        return {\n            x: x + Math.cos(halfAngle) * halfRadius,\n            y: y + Math.sin(halfAngle) * halfRadius\n        };\n    }\n    tooltipPosition(useFinalPosition) {\n        return this.getCenterPoint(useFinalPosition);\n    }\n    draw(ctx) {\n        const { options , circumference  } = this;\n        const offset = (options.offset || 0) / 4;\n        const spacing = (options.spacing || 0) / 2;\n        const circular = options.circular;\n        this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n        this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n        if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n            return;\n        }\n        ctx.save();\n        const halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * offset, Math.sin(halfAngle) * offset);\n        const fix = 1 - Math.sin(Math.min(PI, circumference || 0));\n        const radiusOffset = offset * fix;\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        drawArc(ctx, this, radiusOffset, spacing, circular);\n        drawBorder(ctx, this, radiusOffset, spacing, circular);\n        ctx.restore();\n    }\n}\n\nfunction setStyle(ctx, options, style = options) {\n    ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n    ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n    ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n    ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n    ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n    ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n    ctx.lineTo(target.x, target.y);\n}\n function getLineMethod(options) {\n    if (options.stepped) {\n        return _steppedLineTo;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierCurveTo;\n    }\n    return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n    const count = points.length;\n    const { start: paramsStart = 0 , end: paramsEnd = count - 1  } = params;\n    const { start: segmentStart , end: segmentEnd  } = segment;\n    const start = Math.max(paramsStart, segmentStart);\n    const end = Math.min(paramsEnd, segmentEnd);\n    const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n    return {\n        count,\n        start,\n        loop: segment.loop,\n        ilen: end < start && !outside ? count + end - start : end - start\n    };\n}\n function pathSegment(ctx, line, segment, params) {\n    const { points , options  } = line;\n    const { count , start , loop , ilen  } = pathVars(points, segment, params);\n    const lineMethod = getLineMethod(options);\n    let { move =true , reverse  } = params || {};\n    let i, point, prev;\n    for(i = 0; i <= ilen; ++i){\n        point = points[(start + (reverse ? ilen - i : i)) % count];\n        if (point.skip) {\n            continue;\n        } else if (move) {\n            ctx.moveTo(point.x, point.y);\n            move = false;\n        } else {\n            lineMethod(ctx, prev, point, reverse, options.stepped);\n        }\n        prev = point;\n    }\n    if (loop) {\n        point = points[(start + (reverse ? ilen : 0)) % count];\n        lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    return !!loop;\n}\n function fastPathSegment(ctx, line, segment, params) {\n    const points = line.points;\n    const { count , start , ilen  } = pathVars(points, segment, params);\n    const { move =true , reverse  } = params || {};\n    let avgX = 0;\n    let countX = 0;\n    let i, point, prevX, minY, maxY, lastY;\n    const pointIndex = (index)=>(start + (reverse ? ilen - index : index)) % count;\n    const drawX = ()=>{\n        if (minY !== maxY) {\n            ctx.lineTo(avgX, maxY);\n            ctx.lineTo(avgX, minY);\n            ctx.lineTo(avgX, lastY);\n        }\n    };\n    if (move) {\n        point = points[pointIndex(0)];\n        ctx.moveTo(point.x, point.y);\n    }\n    for(i = 0; i <= ilen; ++i){\n        point = points[pointIndex(i)];\n        if (point.skip) {\n            continue;\n        }\n        const x = point.x;\n        const y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n            } else if (y > maxY) {\n                maxY = y;\n            }\n            avgX = (countX * avgX + x) / ++countX;\n        } else {\n            drawX();\n            ctx.lineTo(x, y);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n        }\n        lastY = y;\n    }\n    drawX();\n}\n function _getSegmentMethod(line) {\n    const opts = line.options;\n    const borderDash = opts.borderDash && opts.borderDash.length;\n    const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n    return useFastPath ? fastPathSegment : pathSegment;\n}\n function _getInterpolationMethod(options) {\n    if (options.stepped) {\n        return _steppedInterpolation;\n    }\n    if (options.tension || options.cubicInterpolationMode === 'monotone') {\n        return _bezierInterpolation;\n    }\n    return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n    let path = line._path;\n    if (!path) {\n        path = line._path = new Path2D();\n        if (line.path(path, start, count)) {\n            path.closePath();\n        }\n    }\n    setStyle(ctx, line.options);\n    ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n    const { segments , options  } = line;\n    const segmentMethod = _getSegmentMethod(line);\n    for (const segment of segments){\n        setStyle(ctx, options, segment.style);\n        ctx.beginPath();\n        if (segmentMethod(ctx, line, segment, {\n            start,\n            end: start + count - 1\n        })) {\n            ctx.closePath();\n        }\n        ctx.stroke();\n    }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n    if (usePath2D && !line.options.segment) {\n        strokePathWithCache(ctx, line, start, count);\n    } else {\n        strokePathDirect(ctx, line, start, count);\n    }\n}\nclass LineElement extends Element {\n    static id = 'line';\n static defaults = {\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0,\n        borderJoinStyle: 'miter',\n        borderWidth: 3,\n        capBezierPoints: true,\n        cubicInterpolationMode: 'default',\n        fill: false,\n        spanGaps: false,\n        stepped: false,\n        tension: 0\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    static descriptors = {\n        _scriptable: true,\n        _indexable: (name)=>name !== 'borderDash' && name !== 'fill'\n    };\n    constructor(cfg){\n        super();\n        this.animated = true;\n        this.options = undefined;\n        this._chart = undefined;\n        this._loop = undefined;\n        this._fullLoop = undefined;\n        this._path = undefined;\n        this._points = undefined;\n        this._segments = undefined;\n        this._decimated = false;\n        this._pointsUpdated = false;\n        this._datasetIndex = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    updateControlPoints(chartArea, indexAxis) {\n        const options = this.options;\n        if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n            const loop = options.spanGaps ? this._loop : this._fullLoop;\n            _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n            this._pointsUpdated = true;\n        }\n    }\n    set points(points) {\n        this._points = points;\n        delete this._segments;\n        delete this._path;\n        this._pointsUpdated = false;\n    }\n    get points() {\n        return this._points;\n    }\n    get segments() {\n        return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n first() {\n        const segments = this.segments;\n        const points = this.points;\n        return segments.length && points[segments[0].start];\n    }\n last() {\n        const segments = this.segments;\n        const points = this.points;\n        const count = segments.length;\n        return count && points[segments[count - 1].end];\n    }\n interpolate(point, property) {\n        const options = this.options;\n        const value = point[property];\n        const points = this.points;\n        const segments = _boundSegments(this, {\n            property,\n            start: value,\n            end: value\n        });\n        if (!segments.length) {\n            return;\n        }\n        const result = [];\n        const _interpolate = _getInterpolationMethod(options);\n        let i, ilen;\n        for(i = 0, ilen = segments.length; i < ilen; ++i){\n            const { start , end  } = segments[i];\n            const p1 = points[start];\n            const p2 = points[end];\n            if (p1 === p2) {\n                result.push(p1);\n                continue;\n            }\n            const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n            const interpolated = _interpolate(p1, p2, t, options.stepped);\n            interpolated[property] = point[property];\n            result.push(interpolated);\n        }\n        return result.length === 1 ? result[0] : result;\n    }\n pathSegment(ctx, segment, params) {\n        const segmentMethod = _getSegmentMethod(this);\n        return segmentMethod(ctx, this, segment, params);\n    }\n path(ctx, start, count) {\n        const segments = this.segments;\n        const segmentMethod = _getSegmentMethod(this);\n        let loop = this._loop;\n        start = start || 0;\n        count = count || this.points.length - start;\n        for (const segment of segments){\n            loop &= segmentMethod(ctx, this, segment, {\n                start,\n                end: start + count - 1\n            });\n        }\n        return !!loop;\n    }\n draw(ctx, chartArea, start, count) {\n        const options = this.options || {};\n        const points = this.points || [];\n        if (points.length && options.borderWidth) {\n            ctx.save();\n            draw(ctx, this, start, count);\n            ctx.restore();\n        }\n        if (this.animated) {\n            this._pointsUpdated = false;\n            this._path = undefined;\n        }\n    }\n}\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n    const options = el.options;\n    const { [axis]: value  } = el.getProps([\n        axis\n    ], useFinalPosition);\n    return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\nclass PointElement extends Element {\n    static id = 'point';\n    parsed;\n    skip;\n    stop;\n    /**\n   * @type {any}\n   */ static defaults = {\n        borderWidth: 1,\n        hitRadius: 1,\n        hoverBorderWidth: 1,\n        hoverRadius: 4,\n        pointStyle: 'circle',\n        radius: 3,\n        rotation: 0\n    };\n    /**\n   * @type {any}\n   */ static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.parsed = undefined;\n        this.skip = undefined;\n        this.stop = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        const options = this.options;\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y  } = this.getProps([\n            'x',\n            'y'\n        ], useFinalPosition);\n        return {\n            x,\n            y\n        };\n    }\n    size(options) {\n        options = options || this.options || {};\n        let radius = options.radius || 0;\n        radius = Math.max(radius, radius && options.hoverRadius || 0);\n        const borderWidth = radius && options.borderWidth || 0;\n        return (radius + borderWidth) * 2;\n    }\n    draw(ctx, area) {\n        const options = this.options;\n        if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n            return;\n        }\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.fillStyle = options.backgroundColor;\n        drawPoint(ctx, options, this.x, this.y);\n    }\n    getRange() {\n        const options = this.options || {};\n        // @ts-expect-error Fallbacks should never be hit in practice\n        return options.radius + options.hitRadius;\n    }\n}\n\nfunction getBarBounds(bar, useFinalPosition) {\n    const { x , y , base , width , height  } =  bar.getProps([\n        'x',\n        'y',\n        'base',\n        'width',\n        'height'\n    ], useFinalPosition);\n    let left, right, top, bottom, half;\n    if (bar.horizontal) {\n        half = height / 2;\n        left = Math.min(x, base);\n        right = Math.max(x, base);\n        top = y - half;\n        bottom = y + half;\n    } else {\n        half = width / 2;\n        left = x - half;\n        right = x + half;\n        top = Math.min(y, base);\n        bottom = Math.max(y, base);\n    }\n    return {\n        left,\n        top,\n        right,\n        bottom\n    };\n}\nfunction skipOrLimit(skip, value, min, max) {\n    return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n    const value = bar.options.borderWidth;\n    const skip = bar.borderSkipped;\n    const o = toTRBL(value);\n    return {\n        t: skipOrLimit(skip.top, o.top, 0, maxH),\n        r: skipOrLimit(skip.right, o.right, 0, maxW),\n        b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n        l: skipOrLimit(skip.left, o.left, 0, maxW)\n    };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n    const { enableBorderRadius  } = bar.getProps([\n        'enableBorderRadius'\n    ]);\n    const value = bar.options.borderRadius;\n    const o = toTRBLCorners(value);\n    const maxR = Math.min(maxW, maxH);\n    const skip = bar.borderSkipped;\n    const enableBorder = enableBorderRadius || isObject(value);\n    return {\n        topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n        topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n        bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n        bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n    };\n}\nfunction boundingRects(bar) {\n    const bounds = getBarBounds(bar);\n    const width = bounds.right - bounds.left;\n    const height = bounds.bottom - bounds.top;\n    const border = parseBorderWidth(bar, width / 2, height / 2);\n    const radius = parseBorderRadius(bar, width / 2, height / 2);\n    return {\n        outer: {\n            x: bounds.left,\n            y: bounds.top,\n            w: width,\n            h: height,\n            radius\n        },\n        inner: {\n            x: bounds.left + border.l,\n            y: bounds.top + border.t,\n            w: width - border.l - border.r,\n            h: height - border.t - border.b,\n            radius: {\n                topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n                topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n                bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n                bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n            }\n        }\n    };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n    const skipX = x === null;\n    const skipY = y === null;\n    const skipBoth = skipX && skipY;\n    const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n    return bounds && (skipX || _isBetween(x, bounds.left, bounds.right)) && (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n    return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n function addNormalRectPath(ctx, rect) {\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n    const x = rect.x !== refRect.x ? -amount : 0;\n    const y = rect.y !== refRect.y ? -amount : 0;\n    const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n    const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n    return {\n        x: rect.x + x,\n        y: rect.y + y,\n        w: rect.w + w,\n        h: rect.h + h,\n        radius: rect.radius\n    };\n}\nclass BarElement extends Element {\n    static id = 'bar';\n static defaults = {\n        borderSkipped: 'start',\n        borderWidth: 0,\n        borderRadius: 0,\n        inflateAmount: 'auto',\n        pointStyle: undefined\n    };\n static defaultRoutes = {\n        backgroundColor: 'backgroundColor',\n        borderColor: 'borderColor'\n    };\n    constructor(cfg){\n        super();\n        this.options = undefined;\n        this.horizontal = undefined;\n        this.base = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.inflateAmount = undefined;\n        if (cfg) {\n            Object.assign(this, cfg);\n        }\n    }\n    draw(ctx) {\n        const { inflateAmount , options: { borderColor , backgroundColor  }  } = this;\n        const { inner , outer  } = boundingRects(this);\n        const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n        ctx.save();\n        if (outer.w !== inner.w || outer.h !== inner.h) {\n            ctx.beginPath();\n            addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n            ctx.clip();\n            addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n            ctx.fillStyle = borderColor;\n            ctx.fill('evenodd');\n        }\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(inner, inflateAmount));\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n    }\n    inRange(mouseX, mouseY, useFinalPosition) {\n        return inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n    inXRange(mouseX, useFinalPosition) {\n        return inRange(this, mouseX, null, useFinalPosition);\n    }\n    inYRange(mouseY, useFinalPosition) {\n        return inRange(this, null, mouseY, useFinalPosition);\n    }\n    getCenterPoint(useFinalPosition) {\n        const { x , y , base , horizontal  } =  this.getProps([\n            'x',\n            'y',\n            'base',\n            'horizontal'\n        ], useFinalPosition);\n        return {\n            x: horizontal ? (x + base) / 2 : x,\n            y: horizontal ? y : (y + base) / 2\n        };\n    }\n    getRange(axis) {\n        return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n}\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nBarElement: BarElement,\nLineElement: LineElement,\nPointElement: PointElement\n});\n\nconst BORDER_COLORS = [\n    'rgb(54, 162, 235)',\n    'rgb(255, 99, 132)',\n    'rgb(255, 159, 64)',\n    'rgb(255, 205, 86)',\n    'rgb(75, 192, 192)',\n    'rgb(153, 102, 255)',\n    'rgb(201, 203, 207)' // grey\n];\n// Border colors with 50% transparency\nconst BACKGROUND_COLORS = /* #__PURE__ */ BORDER_COLORS.map((color)=>color.replace('rgb(', 'rgba(').replace(')', ', 0.5)'));\nfunction getBorderColor(i) {\n    return BORDER_COLORS[i % BORDER_COLORS.length];\n}\nfunction getBackgroundColor(i) {\n    return BACKGROUND_COLORS[i % BACKGROUND_COLORS.length];\n}\nfunction colorizeDefaultDataset(dataset, i) {\n    dataset.borderColor = getBorderColor(i);\n    dataset.backgroundColor = getBackgroundColor(i);\n    return ++i;\n}\nfunction colorizeDoughnutDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBorderColor(i++));\n    return i;\n}\nfunction colorizePolarAreaDataset(dataset, i) {\n    dataset.backgroundColor = dataset.data.map(()=>getBackgroundColor(i++));\n    return i;\n}\nfunction getColorizer(chart) {\n    let i = 0;\n    return (dataset, datasetIndex)=>{\n        const controller = chart.getDatasetMeta(datasetIndex).controller;\n        if (controller instanceof DoughnutController) {\n            i = colorizeDoughnutDataset(dataset, i);\n        } else if (controller instanceof PolarAreaController) {\n            i = colorizePolarAreaDataset(dataset, i);\n        } else if (controller) {\n            i = colorizeDefaultDataset(dataset, i);\n        }\n    };\n}\nfunction containsColorsDefinitions(descriptors) {\n    let k;\n    for(k in descriptors){\n        if (descriptors[k].borderColor || descriptors[k].backgroundColor) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction containsColorsDefinition(descriptor) {\n    return descriptor && (descriptor.borderColor || descriptor.backgroundColor);\n}\nfunction containsDefaultColorsDefenitions() {\n    return defaults.borderColor !== 'rgba(0,0,0,0.1)' || defaults.backgroundColor !== 'rgba(0,0,0,0.1)';\n}\nvar plugin_colors = {\n    id: 'colors',\n    defaults: {\n        enabled: true,\n        forceOverride: false\n    },\n    beforeLayout (chart, _args, options) {\n        if (!options.enabled) {\n            return;\n        }\n        const { data: { datasets  } , options: chartOptions  } = chart.config;\n        const { elements  } = chartOptions;\n        const containsColorDefenition = containsColorsDefinitions(datasets) || containsColorsDefinition(chartOptions) || elements && containsColorsDefinitions(elements) || containsDefaultColorsDefenitions();\n        if (!options.forceOverride && containsColorDefenition) {\n            return;\n        }\n        const colorizer = getColorizer(chart);\n        datasets.forEach(colorizer);\n    }\n};\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n const samples = options.samples || availableWidth;\n    if (samples >= count) {\n        return data.slice(start, start + count);\n    }\n    const decimated = [];\n    const bucketWidth = (count - 2) / (samples - 2);\n    let sampledIndex = 0;\n    const endIndex = start + count - 1;\n    let a = start;\n    let i, maxAreaPoint, maxArea, area, nextA;\n    decimated[sampledIndex++] = data[a];\n    for(i = 0; i < samples - 2; i++){\n        let avgX = 0;\n        let avgY = 0;\n        let j;\n        const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n        const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n        const avgRangeLength = avgRangeEnd - avgRangeStart;\n        for(j = avgRangeStart; j < avgRangeEnd; j++){\n            avgX += data[j].x;\n            avgY += data[j].y;\n        }\n        avgX /= avgRangeLength;\n        avgY /= avgRangeLength;\n        const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n        const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n        const { x: pointAx , y: pointAy  } = data[a];\n        maxArea = area = -1;\n        for(j = rangeOffs; j < rangeTo; j++){\n            area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n            if (area > maxArea) {\n                maxArea = area;\n                maxAreaPoint = data[j];\n                nextA = j;\n            }\n        }\n        decimated[sampledIndex++] = maxAreaPoint;\n        a = nextA;\n    }\n    decimated[sampledIndex++] = data[endIndex];\n    return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n    let avgX = 0;\n    let countX = 0;\n    let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n    const decimated = [];\n    const endIndex = start + count - 1;\n    const xMin = data[start].x;\n    const xMax = data[endIndex].x;\n    const dx = xMax - xMin;\n    for(i = start; i < start + count; ++i){\n        point = data[i];\n        x = (point.x - xMin) / dx * availableWidth;\n        y = point.y;\n        const truncX = x | 0;\n        if (truncX === prevX) {\n            if (y < minY) {\n                minY = y;\n                minIndex = i;\n            } else if (y > maxY) {\n                maxY = y;\n                maxIndex = i;\n            }\n            avgX = (countX * avgX + point.x) / ++countX;\n        } else {\n            const lastIndex = i - 1;\n            if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n                const intermediateIndex1 = Math.min(minIndex, maxIndex);\n                const intermediateIndex2 = Math.max(minIndex, maxIndex);\n                if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex1],\n                        x: avgX\n                    });\n                }\n                if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n                    decimated.push({\n                        ...data[intermediateIndex2],\n                        x: avgX\n                    });\n                }\n            }\n            if (i > 0 && lastIndex !== startIndex) {\n                decimated.push(data[lastIndex]);\n            }\n            decimated.push(point);\n            prevX = truncX;\n            countX = 0;\n            minY = maxY = y;\n            minIndex = maxIndex = startIndex = i;\n        }\n    }\n    return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n    if (dataset._decimated) {\n        const data = dataset._data;\n        delete dataset._decimated;\n        delete dataset._data;\n        Object.defineProperty(dataset, 'data', {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: data\n        });\n    }\n}\nfunction cleanDecimatedData(chart) {\n    chart.data.datasets.forEach((dataset)=>{\n        cleanDecimatedDataset(dataset);\n    });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n    const pointCount = points.length;\n    let start = 0;\n    let count;\n    const { iScale  } = meta;\n    const { min , max , minDefined , maxDefined  } = iScale.getUserBounds();\n    if (minDefined) {\n        start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n    }\n    if (maxDefined) {\n        count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n    } else {\n        count = pointCount - start;\n    }\n    return {\n        start,\n        count\n    };\n}\nvar plugin_decimation = {\n    id: 'decimation',\n    defaults: {\n        algorithm: 'min-max',\n        enabled: false\n    },\n    beforeElementsUpdate: (chart, args, options)=>{\n        if (!options.enabled) {\n            cleanDecimatedData(chart);\n            return;\n        }\n        const availableWidth = chart.width;\n        chart.data.datasets.forEach((dataset, datasetIndex)=>{\n            const { _data , indexAxis  } = dataset;\n            const meta = chart.getDatasetMeta(datasetIndex);\n            const data = _data || dataset.data;\n            if (resolve([\n                indexAxis,\n                chart.options.indexAxis\n            ]) === 'y') {\n                return;\n            }\n            if (!meta.controller.supportsDecimation) {\n                return;\n            }\n            const xAxis = chart.scales[meta.xAxisID];\n            if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n                return;\n            }\n            if (chart.options.parsing) {\n                return;\n            }\n            let { start , count  } = getStartAndCountOfVisiblePointsSimplified(meta, data);\n            const threshold = options.threshold || 4 * availableWidth;\n            if (count <= threshold) {\n                cleanDecimatedDataset(dataset);\n                return;\n            }\n            if (isNullOrUndef(_data)) {\n                dataset._data = data;\n                delete dataset.data;\n                Object.defineProperty(dataset, 'data', {\n                    configurable: true,\n                    enumerable: true,\n                    get: function() {\n                        return this._decimated;\n                    },\n                    set: function(d) {\n                        this._data = d;\n                    }\n                });\n            }\n            let decimated;\n            switch(options.algorithm){\n                case 'lttb':\n                    decimated = lttbDecimation(data, start, count, availableWidth, options);\n                    break;\n                case 'min-max':\n                    decimated = minMaxDecimation(data, start, count, availableWidth);\n                    break;\n                default:\n                    throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n            }\n            dataset._decimated = decimated;\n        });\n    },\n    destroy (chart) {\n        cleanDecimatedData(chart);\n    }\n};\n\nfunction _segments(line, target, property) {\n    const segments = line.segments;\n    const points = line.points;\n    const tpoints = target.points;\n    const parts = [];\n    for (const segment of segments){\n        let { start , end  } = segment;\n        end = _findSegmentEnd(start, end, points);\n        const bounds = _getBounds(property, points[start], points[end], segment.loop);\n        if (!target.segments) {\n            parts.push({\n                source: segment,\n                target: bounds,\n                start: points[start],\n                end: points[end]\n            });\n            continue;\n        }\n        const targetSegments = _boundSegments(target, bounds);\n        for (const tgt of targetSegments){\n            const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n            const fillSources = _boundSegment(segment, points, subBounds);\n            for (const fillSource of fillSources){\n                parts.push({\n                    source: fillSource,\n                    target: tgt,\n                    start: {\n                        [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n                    },\n                    end: {\n                        [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n                    }\n                });\n            }\n        }\n    }\n    return parts;\n}\nfunction _getBounds(property, first, last, loop) {\n    if (loop) {\n        return;\n    }\n    let start = first[property];\n    let end = last[property];\n    if (property === 'angle') {\n        start = _normalizeAngle(start);\n        end = _normalizeAngle(end);\n    }\n    return {\n        property,\n        start,\n        end\n    };\n}\nfunction _pointsFromSegments(boundary, line) {\n    const { x =null , y =null  } = boundary || {};\n    const linePoints = line.points;\n    const points = [];\n    line.segments.forEach(({ start , end  })=>{\n        end = _findSegmentEnd(start, end, linePoints);\n        const first = linePoints[start];\n        const last = linePoints[end];\n        if (y !== null) {\n            points.push({\n                x: first.x,\n                y\n            });\n            points.push({\n                x: last.x,\n                y\n            });\n        } else if (x !== null) {\n            points.push({\n                x,\n                y: first.y\n            });\n            points.push({\n                x,\n                y: last.y\n            });\n        }\n    });\n    return points;\n}\nfunction _findSegmentEnd(start, end, points) {\n    for(; end > start; end--){\n        const point = points[end];\n        if (!isNaN(point.x) && !isNaN(point.y)) {\n            break;\n        }\n    }\n    return end;\n}\nfunction _getEdge(a, b, prop, fn) {\n    if (a && b) {\n        return fn(a[prop], b[prop]);\n    }\n    return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _createBoundaryLine(boundary, line) {\n    let points = [];\n    let _loop = false;\n    if (isArray(boundary)) {\n        _loop = true;\n        points = boundary;\n    } else {\n        points = _pointsFromSegments(boundary, line);\n    }\n    return points.length ? new LineElement({\n        points,\n        options: {\n            tension: 0\n        },\n        _loop,\n        _fullLoop: _loop\n    }) : null;\n}\nfunction _shouldApplyFill(source) {\n    return source && source.fill !== false;\n}\n\nfunction _resolveTarget(sources, index, propagate) {\n    const source = sources[index];\n    let fill = source.fill;\n    const visited = [\n        index\n    ];\n    let target;\n    if (!propagate) {\n        return fill;\n    }\n    while(fill !== false && visited.indexOf(fill) === -1){\n        if (!isNumberFinite(fill)) {\n            return fill;\n        }\n        target = sources[fill];\n        if (!target) {\n            return false;\n        }\n        if (target.visible) {\n            return fill;\n        }\n        visited.push(fill);\n        fill = target.fill;\n    }\n    return false;\n}\n function _decodeFill(line, index, count) {\n     const fill = parseFillOption(line);\n    if (isObject(fill)) {\n        return isNaN(fill.value) ? false : fill;\n    }\n    let target = parseFloat(fill);\n    if (isNumberFinite(target) && Math.floor(target) === target) {\n        return decodeTargetIndex(fill[0], index, target, count);\n    }\n    return [\n        'origin',\n        'start',\n        'end',\n        'stack',\n        'shape'\n    ].indexOf(fill) >= 0 && fill;\n}\nfunction decodeTargetIndex(firstCh, index, target, count) {\n    if (firstCh === '-' || firstCh === '+') {\n        target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n        return false;\n    }\n    return target;\n}\n function _getTargetPixel(fill, scale) {\n    let pixel = null;\n    if (fill === 'start') {\n        pixel = scale.bottom;\n    } else if (fill === 'end') {\n        pixel = scale.top;\n    } else if (isObject(fill)) {\n        pixel = scale.getPixelForValue(fill.value);\n    } else if (scale.getBasePixel) {\n        pixel = scale.getBasePixel();\n    }\n    return pixel;\n}\n function _getTargetValue(fill, scale, startValue) {\n    let value;\n    if (fill === 'start') {\n        value = startValue;\n    } else if (fill === 'end') {\n        value = scale.options.reverse ? scale.min : scale.max;\n    } else if (isObject(fill)) {\n        value = fill.value;\n    } else {\n        value = scale.getBaseValue();\n    }\n    return value;\n}\n function parseFillOption(line) {\n    const options = line.options;\n    const fillOption = options.fill;\n    let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n    if (fill === undefined) {\n        fill = !!options.backgroundColor;\n    }\n    if (fill === false || fill === null) {\n        return false;\n    }\n    if (fill === true) {\n        return 'origin';\n    }\n    return fill;\n}\n\nfunction _buildStackLine(source) {\n    const { scale , index , line  } = source;\n    const points = [];\n    const segments = line.segments;\n    const sourcePoints = line.points;\n    const linesBelow = getLinesBelow(scale, index);\n    linesBelow.push(_createBoundaryLine({\n        x: null,\n        y: scale.bottom\n    }, line));\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        for(let j = segment.start; j <= segment.end; j++){\n            addPointsBelow(points, sourcePoints[j], linesBelow);\n        }\n    }\n    return new LineElement({\n        points,\n        options: {}\n    });\n}\n function getLinesBelow(scale, index) {\n    const below = [];\n    const metas = scale.getMatchingVisibleMetas('line');\n    for(let i = 0; i < metas.length; i++){\n        const meta = metas[i];\n        if (meta.index === index) {\n            break;\n        }\n        if (!meta.hidden) {\n            below.unshift(meta.dataset);\n        }\n    }\n    return below;\n}\n function addPointsBelow(points, sourcePoint, linesBelow) {\n    const postponed = [];\n    for(let j = 0; j < linesBelow.length; j++){\n        const line = linesBelow[j];\n        const { first , last , point  } = findPoint(line, sourcePoint, 'x');\n        if (!point || first && last) {\n            continue;\n        }\n        if (first) {\n            postponed.unshift(point);\n        } else {\n            points.push(point);\n            if (!last) {\n                break;\n            }\n        }\n    }\n    points.push(...postponed);\n}\n function findPoint(line, sourcePoint, property) {\n    const point = line.interpolate(sourcePoint, property);\n    if (!point) {\n        return {};\n    }\n    const pointValue = point[property];\n    const segments = line.segments;\n    const linePoints = line.points;\n    let first = false;\n    let last = false;\n    for(let i = 0; i < segments.length; i++){\n        const segment = segments[i];\n        const firstValue = linePoints[segment.start][property];\n        const lastValue = linePoints[segment.end][property];\n        if (_isBetween(pointValue, firstValue, lastValue)) {\n            first = pointValue === firstValue;\n            last = pointValue === lastValue;\n            break;\n        }\n    }\n    return {\n        first,\n        last,\n        point\n    };\n}\n\nclass simpleArc {\n    constructor(opts){\n        this.x = opts.x;\n        this.y = opts.y;\n        this.radius = opts.radius;\n    }\n    pathSegment(ctx, bounds, opts) {\n        const { x , y , radius  } = this;\n        bounds = bounds || {\n            start: 0,\n            end: TAU\n        };\n        ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n        return !opts.bounds;\n    }\n    interpolate(point) {\n        const { x , y , radius  } = this;\n        const angle = point.angle;\n        return {\n            x: x + Math.cos(angle) * radius,\n            y: y + Math.sin(angle) * radius,\n            angle\n        };\n    }\n}\n\nfunction _getTarget(source) {\n    const { chart , fill , line  } = source;\n    if (isNumberFinite(fill)) {\n        return getLineByIndex(chart, fill);\n    }\n    if (fill === 'stack') {\n        return _buildStackLine(source);\n    }\n    if (fill === 'shape') {\n        return true;\n    }\n    const boundary = computeBoundary(source);\n    if (boundary instanceof simpleArc) {\n        return boundary;\n    }\n    return _createBoundaryLine(boundary, line);\n}\n function getLineByIndex(chart, index) {\n    const meta = chart.getDatasetMeta(index);\n    const visible = meta && chart.isDatasetVisible(index);\n    return visible ? meta.dataset : null;\n}\nfunction computeBoundary(source) {\n    const scale = source.scale || {};\n    if (scale.getPointPositionForValue) {\n        return computeCircularBoundary(source);\n    }\n    return computeLinearBoundary(source);\n}\nfunction computeLinearBoundary(source) {\n    const { scale ={} , fill  } = source;\n    const pixel = _getTargetPixel(fill, scale);\n    if (isNumberFinite(pixel)) {\n        const horizontal = scale.isHorizontal();\n        return {\n            x: horizontal ? pixel : null,\n            y: horizontal ? null : pixel\n        };\n    }\n    return null;\n}\nfunction computeCircularBoundary(source) {\n    const { scale , fill  } = source;\n    const options = scale.options;\n    const length = scale.getLabels().length;\n    const start = options.reverse ? scale.max : scale.min;\n    const value = _getTargetValue(fill, scale, start);\n    const target = [];\n    if (options.grid.circular) {\n        const center = scale.getPointPositionForValue(0, start);\n        return new simpleArc({\n            x: center.x,\n            y: center.y,\n            radius: scale.getDistanceFromCenterForValue(value)\n        });\n    }\n    for(let i = 0; i < length; ++i){\n        target.push(scale.getPointPositionForValue(i, value));\n    }\n    return target;\n}\n\nfunction _drawfill(ctx, source, area) {\n    const target = _getTarget(source);\n    const { chart , index , line , scale , axis  } = source;\n    const lineOpts = line.options;\n    const fillOption = lineOpts.fill;\n    const color = lineOpts.backgroundColor;\n    const { above =color , below =color  } = fillOption || {};\n    const meta = chart.getDatasetMeta(index);\n    const clip = getDatasetClipArea(chart, meta);\n    if (target && line.points.length) {\n        clipArea(ctx, area);\n        doFill(ctx, {\n            line,\n            target,\n            above,\n            below,\n            area,\n            scale,\n            axis,\n            clip\n        });\n        unclipArea(ctx);\n    }\n}\nfunction doFill(ctx, cfg) {\n    const { line , target , above , below , area , scale , clip  } = cfg;\n    const property = line._loop ? 'angle' : cfg.axis;\n    ctx.save();\n    if (property === 'x' && below !== above) {\n        clipVertical(ctx, target, area.top);\n        fill(ctx, {\n            line,\n            target,\n            color: above,\n            scale,\n            property,\n            clip\n        });\n        ctx.restore();\n        ctx.save();\n        clipVertical(ctx, target, area.bottom);\n    }\n    fill(ctx, {\n        line,\n        target,\n        color: below,\n        scale,\n        property,\n        clip\n    });\n    ctx.restore();\n}\nfunction clipVertical(ctx, target, clipY) {\n    const { segments , points  } = target;\n    let first = true;\n    let lineLoop = false;\n    ctx.beginPath();\n    for (const segment of segments){\n        const { start , end  } = segment;\n        const firstPoint = points[start];\n        const lastPoint = points[_findSegmentEnd(start, end, points)];\n        if (first) {\n            ctx.moveTo(firstPoint.x, firstPoint.y);\n            first = false;\n        } else {\n            ctx.lineTo(firstPoint.x, clipY);\n            ctx.lineTo(firstPoint.x, firstPoint.y);\n        }\n        lineLoop = !!target.pathSegment(ctx, segment, {\n            move: lineLoop\n        });\n        if (lineLoop) {\n            ctx.closePath();\n        } else {\n            ctx.lineTo(lastPoint.x, clipY);\n        }\n    }\n    ctx.lineTo(target.first().x, clipY);\n    ctx.closePath();\n    ctx.clip();\n}\nfunction fill(ctx, cfg) {\n    const { line , target , property , color , scale , clip  } = cfg;\n    const segments = _segments(line, target, property);\n    for (const { source: src , target: tgt , start , end  } of segments){\n        const { style: { backgroundColor =color  } = {}  } = src;\n        const notShape = target !== true;\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        clipBounds(ctx, scale, clip, notShape && _getBounds(property, start, end));\n        ctx.beginPath();\n        const lineLoop = !!line.pathSegment(ctx, src);\n        let loop;\n        if (notShape) {\n            if (lineLoop) {\n                ctx.closePath();\n            } else {\n                interpolatedLineTo(ctx, target, end, property);\n            }\n            const targetLoop = !!target.pathSegment(ctx, tgt, {\n                move: lineLoop,\n                reverse: true\n            });\n            loop = lineLoop && targetLoop;\n            if (!loop) {\n                interpolatedLineTo(ctx, target, start, property);\n            }\n        }\n        ctx.closePath();\n        ctx.fill(loop ? 'evenodd' : 'nonzero');\n        ctx.restore();\n    }\n}\nfunction clipBounds(ctx, scale, clip, bounds) {\n    const chartArea = scale.chart.chartArea;\n    const { property , start , end  } = bounds || {};\n    if (property === 'x' || property === 'y') {\n        let left, top, right, bottom;\n        if (property === 'x') {\n            left = start;\n            top = chartArea.top;\n            right = end;\n            bottom = chartArea.bottom;\n        } else {\n            left = chartArea.left;\n            top = start;\n            right = chartArea.right;\n            bottom = end;\n        }\n        ctx.beginPath();\n        if (clip) {\n            left = Math.max(left, clip.left);\n            right = Math.min(right, clip.right);\n            top = Math.max(top, clip.top);\n            bottom = Math.min(bottom, clip.bottom);\n        }\n        ctx.rect(left, top, right - left, bottom - top);\n        ctx.clip();\n    }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n    const interpolatedPoint = target.interpolate(point, property);\n    if (interpolatedPoint) {\n        ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n    }\n}\n\nvar index = {\n    id: 'filler',\n    afterDatasetsUpdate (chart, _args, options) {\n        const count = (chart.data.datasets || []).length;\n        const sources = [];\n        let meta, i, line, source;\n        for(i = 0; i < count; ++i){\n            meta = chart.getDatasetMeta(i);\n            line = meta.dataset;\n            source = null;\n            if (line && line.options && line instanceof LineElement) {\n                source = {\n                    visible: chart.isDatasetVisible(i),\n                    index: i,\n                    fill: _decodeFill(line, i, count),\n                    chart,\n                    axis: meta.controller.options.indexAxis,\n                    scale: meta.vScale,\n                    line\n                };\n            }\n            meta.$filler = source;\n            sources.push(source);\n        }\n        for(i = 0; i < count; ++i){\n            source = sources[i];\n            if (!source || source.fill === false) {\n                continue;\n            }\n            source.fill = _resolveTarget(sources, i, options.propagate);\n        }\n    },\n    beforeDraw (chart, _args, options) {\n        const draw = options.drawTime === 'beforeDraw';\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        const area = chart.chartArea;\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (!source) {\n                continue;\n            }\n            source.line.updateControlPoints(area, source.axis);\n            if (draw && source.fill) {\n                _drawfill(chart.ctx, source, area);\n            }\n        }\n    },\n    beforeDatasetsDraw (chart, _args, options) {\n        if (options.drawTime !== 'beforeDatasetsDraw') {\n            return;\n        }\n        const metasets = chart.getSortedVisibleDatasetMetas();\n        for(let i = metasets.length - 1; i >= 0; --i){\n            const source = metasets[i].$filler;\n            if (_shouldApplyFill(source)) {\n                _drawfill(chart.ctx, source, chart.chartArea);\n            }\n        }\n    },\n    beforeDatasetDraw (chart, args, options) {\n        const source = args.meta.$filler;\n        if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {\n            return;\n        }\n        _drawfill(chart.ctx, source, chart.chartArea);\n    },\n    defaults: {\n        propagate: true,\n        drawTime: 'beforeDatasetDraw'\n    }\n};\n\nconst getBoxSize = (labelOpts, fontSize)=>{\n    let { boxHeight =fontSize , boxWidth =fontSize  } = labelOpts;\n    if (labelOpts.usePointStyle) {\n        boxHeight = Math.min(boxHeight, fontSize);\n        boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);\n    }\n    return {\n        boxWidth,\n        boxHeight,\n        itemHeight: Math.max(fontSize, boxHeight)\n    };\n};\nconst itemsEqual = (a, b)=>a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n constructor(config){\n        super();\n        this._added = false;\n        this.legendHitBoxes = [];\n this._hoveredItem = null;\n        this.doughnutMode = false;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this.legendItems = undefined;\n        this.columnSizes = undefined;\n        this.lineWidths = undefined;\n        this.maxHeight = undefined;\n        this.maxWidth = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this._margins = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight, margins) {\n        this.maxWidth = maxWidth;\n        this.maxHeight = maxHeight;\n        this._margins = margins;\n        this.setDimensions();\n        this.buildLabels();\n        this.fit();\n    }\n    setDimensions() {\n        if (this.isHorizontal()) {\n            this.width = this.maxWidth;\n            this.left = this._margins.left;\n            this.right = this.width;\n        } else {\n            this.height = this.maxHeight;\n            this.top = this._margins.top;\n            this.bottom = this.height;\n        }\n    }\n    buildLabels() {\n        const labelOpts = this.options.labels || {};\n        let legendItems = callback(labelOpts.generateLabels, [\n            this.chart\n        ], this) || [];\n        if (labelOpts.filter) {\n            legendItems = legendItems.filter((item)=>labelOpts.filter(item, this.chart.data));\n        }\n        if (labelOpts.sort) {\n            legendItems = legendItems.sort((a, b)=>labelOpts.sort(a, b, this.chart.data));\n        }\n        if (this.options.reverse) {\n            legendItems.reverse();\n        }\n        this.legendItems = legendItems;\n    }\n    fit() {\n        const { options , ctx  } = this;\n        if (!options.display) {\n            this.width = this.height = 0;\n            return;\n        }\n        const labelOpts = options.labels;\n        const labelFont = toFont(labelOpts.font);\n        const fontSize = labelFont.size;\n        const titleHeight = this._computeTitleHeight();\n        const { boxWidth , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        let width, height;\n        ctx.font = labelFont.string;\n        if (this.isHorizontal()) {\n            width = this.maxWidth;\n            height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n        } else {\n            height = this.maxHeight;\n            width = this._fitCols(titleHeight, labelFont, boxWidth, itemHeight) + 10;\n        }\n        this.width = Math.min(width, options.maxWidth || this.maxWidth);\n        this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n        const { ctx , maxWidth , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const lineWidths = this.lineWidths = [\n            0\n        ];\n        const lineHeight = itemHeight + padding;\n        let totalHeight = titleHeight;\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        let row = -1;\n        let top = -lineHeight;\n        this.legendItems.forEach((legendItem, i)=>{\n            const itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n            if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n                totalHeight += lineHeight;\n                lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n                top += lineHeight;\n                row++;\n            }\n            hitboxes[i] = {\n                left: 0,\n                top,\n                row,\n                width: itemWidth,\n                height: itemHeight\n            };\n            lineWidths[lineWidths.length - 1] += itemWidth + padding;\n        });\n        return totalHeight;\n    }\n    _fitCols(titleHeight, labelFont, boxWidth, _itemHeight) {\n        const { ctx , maxHeight , options: { labels: { padding  }  }  } = this;\n        const hitboxes = this.legendHitBoxes = [];\n        const columnSizes = this.columnSizes = [];\n        const heightLimit = maxHeight - titleHeight;\n        let totalWidth = padding;\n        let currentColWidth = 0;\n        let currentColHeight = 0;\n        let left = 0;\n        let col = 0;\n        this.legendItems.forEach((legendItem, i)=>{\n            const { itemWidth , itemHeight  } = calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight);\n            if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n                totalWidth += currentColWidth + padding;\n                columnSizes.push({\n                    width: currentColWidth,\n                    height: currentColHeight\n                });\n                left += currentColWidth + padding;\n                col++;\n                currentColWidth = currentColHeight = 0;\n            }\n            hitboxes[i] = {\n                left,\n                top: currentColHeight,\n                col,\n                width: itemWidth,\n                height: itemHeight\n            };\n            currentColWidth = Math.max(currentColWidth, itemWidth);\n            currentColHeight += itemHeight + padding;\n        });\n        totalWidth += currentColWidth;\n        columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n        });\n        return totalWidth;\n    }\n    adjustHitBoxes() {\n        if (!this.options.display) {\n            return;\n        }\n        const titleHeight = this._computeTitleHeight();\n        const { legendHitBoxes: hitboxes , options: { align , labels: { padding  } , rtl  }  } = this;\n        const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n        if (this.isHorizontal()) {\n            let row = 0;\n            let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            for (const hitbox of hitboxes){\n                if (row !== hitbox.row) {\n                    row = hitbox.row;\n                    left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n                }\n                hitbox.top += this.top + titleHeight + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n                left += hitbox.width + padding;\n            }\n        } else {\n            let col = 0;\n            let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            for (const hitbox of hitboxes){\n                if (hitbox.col !== col) {\n                    col = hitbox.col;\n                    top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n                }\n                hitbox.top = top;\n                hitbox.left += this.left + padding;\n                hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n                top += hitbox.height + padding;\n            }\n        }\n    }\n    isHorizontal() {\n        return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n    draw() {\n        if (this.options.display) {\n            const ctx = this.ctx;\n            clipArea(ctx, this);\n            this._draw();\n            unclipArea(ctx);\n        }\n    }\n _draw() {\n        const { options: opts , columnSizes , lineWidths , ctx  } = this;\n        const { align , labels: labelOpts  } = opts;\n        const defaultColor = defaults.color;\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const labelFont = toFont(labelOpts.font);\n        const { padding  } = labelOpts;\n        const fontSize = labelFont.size;\n        const halfFontSize = fontSize / 2;\n        let cursor;\n        this.drawTitle();\n        ctx.textAlign = rtlHelper.textAlign('left');\n        ctx.textBaseline = 'middle';\n        ctx.lineWidth = 0.5;\n        ctx.font = labelFont.string;\n        const { boxWidth , boxHeight , itemHeight  } = getBoxSize(labelOpts, fontSize);\n        const drawLegendBox = function(x, y, legendItem) {\n            if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n                return;\n            }\n            ctx.save();\n            const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n            ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n            ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n            ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n            ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n            ctx.lineWidth = lineWidth;\n            ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n            ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n            if (labelOpts.usePointStyle) {\n                const drawOptions = {\n                    radius: boxHeight * Math.SQRT2 / 2,\n                    pointStyle: legendItem.pointStyle,\n                    rotation: legendItem.rotation,\n                    borderWidth: lineWidth\n                };\n                const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n                const centerY = y + halfFontSize;\n                drawPointLegend(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);\n            } else {\n                const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n                const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n                const borderRadius = toTRBLCorners(legendItem.borderRadius);\n                ctx.beginPath();\n                if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                    addRoundedRectPath(ctx, {\n                        x: xBoxLeft,\n                        y: yBoxTop,\n                        w: boxWidth,\n                        h: boxHeight,\n                        radius: borderRadius\n                    });\n                } else {\n                    ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n                }\n                ctx.fill();\n                if (lineWidth !== 0) {\n                    ctx.stroke();\n                }\n            }\n            ctx.restore();\n        };\n        const fillText = function(x, y, legendItem) {\n            renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n                strikethrough: legendItem.hidden,\n                textAlign: rtlHelper.textAlign(legendItem.textAlign)\n            });\n        };\n        const isHorizontal = this.isHorizontal();\n        const titleHeight = this._computeTitleHeight();\n        if (isHorizontal) {\n            cursor = {\n                x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n                y: this.top + padding + titleHeight,\n                line: 0\n            };\n        } else {\n            cursor = {\n                x: this.left + padding,\n                y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n                line: 0\n            };\n        }\n        overrideTextDirection(this.ctx, opts.textDirection);\n        const lineHeight = itemHeight + padding;\n        this.legendItems.forEach((legendItem, i)=>{\n            ctx.strokeStyle = legendItem.fontColor;\n            ctx.fillStyle = legendItem.fontColor;\n            const textWidth = ctx.measureText(legendItem.text).width;\n            const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n            const width = boxWidth + halfFontSize + textWidth;\n            let x = cursor.x;\n            let y = cursor.y;\n            rtlHelper.setWidth(this.width);\n            if (isHorizontal) {\n                if (i > 0 && x + width + padding > this.right) {\n                    y = cursor.y += lineHeight;\n                    cursor.line++;\n                    x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n                }\n            } else if (i > 0 && y + lineHeight > this.bottom) {\n                x = cursor.x = x + columnSizes[cursor.line].width + padding;\n                cursor.line++;\n                y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n            }\n            const realX = rtlHelper.x(x);\n            drawLegendBox(realX, y, legendItem);\n            x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n            fillText(rtlHelper.x(x), y, legendItem);\n            if (isHorizontal) {\n                cursor.x += width + padding;\n            } else if (typeof legendItem.text !== 'string') {\n                const fontLineHeight = labelFont.lineHeight;\n                cursor.y += calculateLegendItemHeight(legendItem, fontLineHeight) + padding;\n            } else {\n                cursor.y += lineHeight;\n            }\n        });\n        restoreTextDirection(this.ctx, opts.textDirection);\n    }\n drawTitle() {\n        const opts = this.options;\n        const titleOpts = opts.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        if (!titleOpts.display) {\n            return;\n        }\n        const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n        const ctx = this.ctx;\n        const position = titleOpts.position;\n        const halfFontSize = titleFont.size / 2;\n        const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n        let y;\n        let left = this.left;\n        let maxWidth = this.width;\n        if (this.isHorizontal()) {\n            maxWidth = Math.max(...this.lineWidths);\n            y = this.top + topPaddingPlusHalfFontSize;\n            left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n        } else {\n            const maxHeight = this.columnSizes.reduce((acc, size)=>Math.max(acc, size.height), 0);\n            y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n        }\n        const x = _alignStartEnd(position, left, left + maxWidth);\n        ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n        ctx.textBaseline = 'middle';\n        ctx.strokeStyle = titleOpts.color;\n        ctx.fillStyle = titleOpts.color;\n        ctx.font = titleFont.string;\n        renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n _computeTitleHeight() {\n        const titleOpts = this.options.title;\n        const titleFont = toFont(titleOpts.font);\n        const titlePadding = toPadding(titleOpts.padding);\n        return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n _getLegendItemAt(x, y) {\n        let i, hitBox, lh;\n        if (_isBetween(x, this.left, this.right) && _isBetween(y, this.top, this.bottom)) {\n            lh = this.legendHitBoxes;\n            for(i = 0; i < lh.length; ++i){\n                hitBox = lh[i];\n                if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width) && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n                    return this.legendItems[i];\n                }\n            }\n        }\n        return null;\n    }\n handleEvent(e) {\n        const opts = this.options;\n        if (!isListened(e.type, opts)) {\n            return;\n        }\n        const hoveredItem = this._getLegendItemAt(e.x, e.y);\n        if (e.type === 'mousemove' || e.type === 'mouseout') {\n            const previous = this._hoveredItem;\n            const sameItem = itemsEqual(previous, hoveredItem);\n            if (previous && !sameItem) {\n                callback(opts.onLeave, [\n                    e,\n                    previous,\n                    this\n                ], this);\n            }\n            this._hoveredItem = hoveredItem;\n            if (hoveredItem && !sameItem) {\n                callback(opts.onHover, [\n                    e,\n                    hoveredItem,\n                    this\n                ], this);\n            }\n        } else if (hoveredItem) {\n            callback(opts.onClick, [\n                e,\n                hoveredItem,\n                this\n            ], this);\n        }\n    }\n}\nfunction calculateItemSize(boxWidth, labelFont, ctx, legendItem, _itemHeight) {\n    const itemWidth = calculateItemWidth(legendItem, boxWidth, labelFont, ctx);\n    const itemHeight = calculateItemHeight(_itemHeight, legendItem, labelFont.lineHeight);\n    return {\n        itemWidth,\n        itemHeight\n    };\n}\nfunction calculateItemWidth(legendItem, boxWidth, labelFont, ctx) {\n    let legendItemText = legendItem.text;\n    if (legendItemText && typeof legendItemText !== 'string') {\n        legendItemText = legendItemText.reduce((a, b)=>a.length > b.length ? a : b);\n    }\n    return boxWidth + labelFont.size / 2 + ctx.measureText(legendItemText).width;\n}\nfunction calculateItemHeight(_itemHeight, legendItem, fontLineHeight) {\n    let itemHeight = _itemHeight;\n    if (typeof legendItem.text !== 'string') {\n        itemHeight = calculateLegendItemHeight(legendItem, fontLineHeight);\n    }\n    return itemHeight;\n}\nfunction calculateLegendItemHeight(legendItem, fontLineHeight) {\n    const labelHeight = legendItem.text ? legendItem.text.length : 0;\n    return fontLineHeight * labelHeight;\n}\nfunction isListened(type, opts) {\n    if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {\n        return true;\n    }\n    if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n        return true;\n    }\n    return false;\n}\nvar plugin_legend = {\n    id: 'legend',\n _element: Legend,\n    start (chart, _args, options) {\n        const legend = chart.legend = new Legend({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, legend, options);\n        layouts.addBox(chart, legend);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, chart.legend);\n        delete chart.legend;\n    },\n    beforeUpdate (chart, _args, options) {\n        const legend = chart.legend;\n        layouts.configure(chart, legend, options);\n        legend.options = options;\n    },\n    afterUpdate (chart) {\n        const legend = chart.legend;\n        legend.buildLabels();\n        legend.adjustHitBoxes();\n    },\n    afterEvent (chart, args) {\n        if (!args.replay) {\n            chart.legend.handleEvent(args.event);\n        }\n    },\n    defaults: {\n        display: true,\n        position: 'top',\n        align: 'center',\n        fullSize: true,\n        reverse: false,\n        weight: 1000,\n        onClick (e, legendItem, legend) {\n            const index = legendItem.datasetIndex;\n            const ci = legend.chart;\n            if (ci.isDatasetVisible(index)) {\n                ci.hide(index);\n                legendItem.hidden = true;\n            } else {\n                ci.show(index);\n                legendItem.hidden = false;\n            }\n        },\n        onHover: null,\n        onLeave: null,\n        labels: {\n            color: (ctx)=>ctx.chart.options.color,\n            boxWidth: 40,\n            padding: 10,\n            generateLabels (chart) {\n                const datasets = chart.data.datasets;\n                const { labels: { usePointStyle , pointStyle , textAlign , color , useBorderRadius , borderRadius  }  } = chart.legend.options;\n                return chart._getSortedDatasetMetas().map((meta)=>{\n                    const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n                    const borderWidth = toPadding(style.borderWidth);\n                    return {\n                        text: datasets[meta.index].label,\n                        fillStyle: style.backgroundColor,\n                        fontColor: color,\n                        hidden: !meta.visible,\n                        lineCap: style.borderCapStyle,\n                        lineDash: style.borderDash,\n                        lineDashOffset: style.borderDashOffset,\n                        lineJoin: style.borderJoinStyle,\n                        lineWidth: (borderWidth.width + borderWidth.height) / 4,\n                        strokeStyle: style.borderColor,\n                        pointStyle: pointStyle || style.pointStyle,\n                        rotation: style.rotation,\n                        textAlign: textAlign || style.textAlign,\n                        borderRadius: useBorderRadius && (borderRadius || style.borderRadius),\n                        datasetIndex: meta.index\n                    };\n                }, this);\n            }\n        },\n        title: {\n            color: (ctx)=>ctx.chart.options.color,\n            display: false,\n            position: 'center',\n            text: ''\n        }\n    },\n    descriptors: {\n        _scriptable: (name)=>!name.startsWith('on'),\n        labels: {\n            _scriptable: (name)=>![\n                    'generateLabels',\n                    'filter',\n                    'sort'\n                ].includes(name)\n        }\n    }\n};\n\nclass Title extends Element {\n constructor(config){\n        super();\n        this.chart = config.chart;\n        this.options = config.options;\n        this.ctx = config.ctx;\n        this._padding = undefined;\n        this.top = undefined;\n        this.bottom = undefined;\n        this.left = undefined;\n        this.right = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.position = undefined;\n        this.weight = undefined;\n        this.fullSize = undefined;\n    }\n    update(maxWidth, maxHeight) {\n        const opts = this.options;\n        this.left = 0;\n        this.top = 0;\n        if (!opts.display) {\n            this.width = this.height = this.right = this.bottom = 0;\n            return;\n        }\n        this.width = this.right = maxWidth;\n        this.height = this.bottom = maxHeight;\n        const lineCount = isArray(opts.text) ? opts.text.length : 1;\n        this._padding = toPadding(opts.padding);\n        const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n        if (this.isHorizontal()) {\n            this.height = textSize;\n        } else {\n            this.width = textSize;\n        }\n    }\n    isHorizontal() {\n        const pos = this.options.position;\n        return pos === 'top' || pos === 'bottom';\n    }\n    _drawArgs(offset) {\n        const { top , left , bottom , right , options  } = this;\n        const align = options.align;\n        let rotation = 0;\n        let maxWidth, titleX, titleY;\n        if (this.isHorizontal()) {\n            titleX = _alignStartEnd(align, left, right);\n            titleY = top + offset;\n            maxWidth = right - left;\n        } else {\n            if (options.position === 'left') {\n                titleX = left + offset;\n                titleY = _alignStartEnd(align, bottom, top);\n                rotation = PI * -0.5;\n            } else {\n                titleX = right - offset;\n                titleY = _alignStartEnd(align, top, bottom);\n                rotation = PI * 0.5;\n            }\n            maxWidth = bottom - top;\n        }\n        return {\n            titleX,\n            titleY,\n            maxWidth,\n            rotation\n        };\n    }\n    draw() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        if (!opts.display) {\n            return;\n        }\n        const fontOpts = toFont(opts.font);\n        const lineHeight = fontOpts.lineHeight;\n        const offset = lineHeight / 2 + this._padding.top;\n        const { titleX , titleY , maxWidth , rotation  } = this._drawArgs(offset);\n        renderText(ctx, opts.text, 0, 0, fontOpts, {\n            color: opts.color,\n            maxWidth,\n            rotation,\n            textAlign: _toLeftRightCenter(opts.align),\n            textBaseline: 'middle',\n            translation: [\n                titleX,\n                titleY\n            ]\n        });\n    }\n}\nfunction createTitle(chart, titleOpts) {\n    const title = new Title({\n        ctx: chart.ctx,\n        options: titleOpts,\n        chart\n    });\n    layouts.configure(chart, title, titleOpts);\n    layouts.addBox(chart, title);\n    chart.titleBlock = title;\n}\nvar plugin_title = {\n    id: 'title',\n _element: Title,\n    start (chart, _args, options) {\n        createTitle(chart, options);\n    },\n    stop (chart) {\n        const titleBlock = chart.titleBlock;\n        layouts.removeBox(chart, titleBlock);\n        delete chart.titleBlock;\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = chart.titleBlock;\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'bold'\n        },\n        fullSize: true,\n        padding: 10,\n        position: 'top',\n        text: '',\n        weight: 2000\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n    id: 'subtitle',\n    start (chart, _args, options) {\n        const title = new Title({\n            ctx: chart.ctx,\n            options,\n            chart\n        });\n        layouts.configure(chart, title, options);\n        layouts.addBox(chart, title);\n        map.set(chart, title);\n    },\n    stop (chart) {\n        layouts.removeBox(chart, map.get(chart));\n        map.delete(chart);\n    },\n    beforeUpdate (chart, _args, options) {\n        const title = map.get(chart);\n        layouts.configure(chart, title, options);\n        title.options = options;\n    },\n    defaults: {\n        align: 'center',\n        display: false,\n        font: {\n            weight: 'normal'\n        },\n        fullSize: true,\n        padding: 0,\n        position: 'top',\n        text: '',\n        weight: 1500\n    },\n    defaultRoutes: {\n        color: 'color'\n    },\n    descriptors: {\n        _scriptable: true,\n        _indexable: false\n    }\n};\n\nconst positioners = {\n average (items) {\n        if (!items.length) {\n            return false;\n        }\n        let i, len;\n        let xSet = new Set();\n        let y = 0;\n        let count = 0;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const pos = el.tooltipPosition();\n                xSet.add(pos.x);\n                y += pos.y;\n                ++count;\n            }\n        }\n        if (count === 0 || xSet.size === 0) {\n            return false;\n        }\n        const xAverage = [\n            ...xSet\n        ].reduce((a, b)=>a + b) / xSet.size;\n        return {\n            x: xAverage,\n            y: y / count\n        };\n    },\n nearest (items, eventPosition) {\n        if (!items.length) {\n            return false;\n        }\n        let x = eventPosition.x;\n        let y = eventPosition.y;\n        let minDistance = Number.POSITIVE_INFINITY;\n        let i, len, nearestElement;\n        for(i = 0, len = items.length; i < len; ++i){\n            const el = items[i].element;\n            if (el && el.hasValue()) {\n                const center = el.getCenterPoint();\n                const d = distanceBetweenPoints(eventPosition, center);\n                if (d < minDistance) {\n                    minDistance = d;\n                    nearestElement = el;\n                }\n            }\n        }\n        if (nearestElement) {\n            const tp = nearestElement.tooltipPosition();\n            x = tp.x;\n            y = tp.y;\n        }\n        return {\n            x,\n            y\n        };\n    }\n};\nfunction pushOrConcat(base, toPush) {\n    if (toPush) {\n        if (isArray(toPush)) {\n            Array.prototype.push.apply(base, toPush);\n        } else {\n            base.push(toPush);\n        }\n    }\n    return base;\n}\n function splitNewlines(str) {\n    if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n        return str.split('\\n');\n    }\n    return str;\n}\n function createTooltipItem(chart, item) {\n    const { element , datasetIndex , index  } = item;\n    const controller = chart.getDatasetMeta(datasetIndex).controller;\n    const { label , value  } = controller.getLabelAndValue(index);\n    return {\n        chart,\n        label,\n        parsed: controller.getParsed(index),\n        raw: chart.data.datasets[datasetIndex].data[index],\n        formattedValue: value,\n        dataset: controller.getDataset(),\n        dataIndex: index,\n        datasetIndex,\n        element\n    };\n}\n function getTooltipSize(tooltip, options) {\n    const ctx = tooltip.chart.ctx;\n    const { body , footer , title  } = tooltip;\n    const { boxWidth , boxHeight  } = options;\n    const bodyFont = toFont(options.bodyFont);\n    const titleFont = toFont(options.titleFont);\n    const footerFont = toFont(options.footerFont);\n    const titleLineCount = title.length;\n    const footerLineCount = footer.length;\n    const bodyLineItemCount = body.length;\n    const padding = toPadding(options.padding);\n    let height = padding.height;\n    let width = 0;\n    let combinedBodyLength = body.reduce((count, bodyItem)=>count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n    combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n    if (titleLineCount) {\n        height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n    }\n    if (combinedBodyLength) {\n        const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n        height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n    }\n    if (footerLineCount) {\n        height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n    }\n    let widthPadding = 0;\n    const maxLineWidth = function(line) {\n        width = Math.max(width, ctx.measureText(line).width + widthPadding);\n    };\n    ctx.save();\n    ctx.font = titleFont.string;\n    each(tooltip.title, maxLineWidth);\n    ctx.font = bodyFont.string;\n    each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n    widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n    each(body, (bodyItem)=>{\n        each(bodyItem.before, maxLineWidth);\n        each(bodyItem.lines, maxLineWidth);\n        each(bodyItem.after, maxLineWidth);\n    });\n    widthPadding = 0;\n    ctx.font = footerFont.string;\n    each(tooltip.footer, maxLineWidth);\n    ctx.restore();\n    width += padding.width;\n    return {\n        width,\n        height\n    };\n}\nfunction determineYAlign(chart, size) {\n    const { y , height  } = size;\n    if (y < height / 2) {\n        return 'top';\n    } else if (y > chart.height - height / 2) {\n        return 'bottom';\n    }\n    return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n    const { x , width  } = size;\n    const caret = options.caretSize + options.caretPadding;\n    if (xAlign === 'left' && x + width + caret > chart.width) {\n        return true;\n    }\n    if (xAlign === 'right' && x - width - caret < 0) {\n        return true;\n    }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n    const { x , width  } = size;\n    const { width: chartWidth , chartArea: { left , right  }  } = chart;\n    let xAlign = 'center';\n    if (yAlign === 'center') {\n        xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n    } else if (x <= width / 2) {\n        xAlign = 'left';\n    } else if (x >= chartWidth - width / 2) {\n        xAlign = 'right';\n    }\n    if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n        xAlign = 'center';\n    }\n    return xAlign;\n}\n function determineAlignment(chart, options, size) {\n    const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n    return {\n        xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n        yAlign\n    };\n}\nfunction alignX(size, xAlign) {\n    let { x , width  } = size;\n    if (xAlign === 'right') {\n        x -= width;\n    } else if (xAlign === 'center') {\n        x -= width / 2;\n    }\n    return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n    let { y , height  } = size;\n    if (yAlign === 'top') {\n        y += paddingAndSize;\n    } else if (yAlign === 'bottom') {\n        y -= height + paddingAndSize;\n    } else {\n        y -= height / 2;\n    }\n    return y;\n}\n function getBackgroundPoint(options, size, alignment, chart) {\n    const { caretSize , caretPadding , cornerRadius  } = options;\n    const { xAlign , yAlign  } = alignment;\n    const paddingAndSize = caretSize + caretPadding;\n    const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n    let x = alignX(size, xAlign);\n    const y = alignY(size, yAlign, paddingAndSize);\n    if (yAlign === 'center') {\n        if (xAlign === 'left') {\n            x += paddingAndSize;\n        } else if (xAlign === 'right') {\n            x -= paddingAndSize;\n        }\n    } else if (xAlign === 'left') {\n        x -= Math.max(topLeft, bottomLeft) + caretSize;\n    } else if (xAlign === 'right') {\n        x += Math.max(topRight, bottomRight) + caretSize;\n    }\n    return {\n        x: _limitValue(x, 0, chart.width - size.width),\n        y: _limitValue(y, 0, chart.height - size.height)\n    };\n}\nfunction getAlignedX(tooltip, align, options) {\n    const padding = toPadding(options.padding);\n    return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n function getBeforeAfterBodyLines(callback) {\n    return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n    return createContext(parent, {\n        tooltip,\n        tooltipItems,\n        type: 'tooltip'\n    });\n}\nfunction overrideCallbacks(callbacks, context) {\n    const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n    return override ? callbacks.override(override) : callbacks;\n}\nconst defaultCallbacks = {\n    beforeTitle: noop,\n    title (tooltipItems) {\n        if (tooltipItems.length > 0) {\n            const item = tooltipItems[0];\n            const labels = item.chart.data.labels;\n            const labelCount = labels ? labels.length : 0;\n            if (this && this.options && this.options.mode === 'dataset') {\n                return item.dataset.label || '';\n            } else if (item.label) {\n                return item.label;\n            } else if (labelCount > 0 && item.dataIndex < labelCount) {\n                return labels[item.dataIndex];\n            }\n        }\n        return '';\n    },\n    afterTitle: noop,\n    beforeBody: noop,\n    beforeLabel: noop,\n    label (tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n            return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n            label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n            label += value;\n        }\n        return label;\n    },\n    labelColor (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            borderColor: options.borderColor,\n            backgroundColor: options.backgroundColor,\n            borderWidth: options.borderWidth,\n            borderDash: options.borderDash,\n            borderDashOffset: options.borderDashOffset,\n            borderRadius: 0\n        };\n    },\n    labelTextColor () {\n        return this.options.bodyColor;\n    },\n    labelPointStyle (tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n            pointStyle: options.pointStyle,\n            rotation: options.rotation\n        };\n    },\n    afterLabel: noop,\n    afterBody: noop,\n    beforeFooter: noop,\n    footer: noop,\n    afterFooter: noop\n};\n function invokeCallbackWithFallback(callbacks, name, ctx, arg) {\n    const result = callbacks[name].call(ctx, arg);\n    if (typeof result === 'undefined') {\n        return defaultCallbacks[name].call(ctx, arg);\n    }\n    return result;\n}\nclass Tooltip extends Element {\n static positioners = positioners;\n    constructor(config){\n        super();\n        this.opacity = 0;\n        this._active = [];\n        this._eventPosition = undefined;\n        this._size = undefined;\n        this._cachedAnimations = undefined;\n        this._tooltipItems = [];\n        this.$animations = undefined;\n        this.$context = undefined;\n        this.chart = config.chart;\n        this.options = config.options;\n        this.dataPoints = undefined;\n        this.title = undefined;\n        this.beforeBody = undefined;\n        this.body = undefined;\n        this.afterBody = undefined;\n        this.footer = undefined;\n        this.xAlign = undefined;\n        this.yAlign = undefined;\n        this.x = undefined;\n        this.y = undefined;\n        this.height = undefined;\n        this.width = undefined;\n        this.caretX = undefined;\n        this.caretY = undefined;\n        this.labelColors = undefined;\n        this.labelPointStyles = undefined;\n        this.labelTextColors = undefined;\n    }\n    initialize(options) {\n        this.options = options;\n        this._cachedAnimations = undefined;\n        this.$context = undefined;\n    }\n _resolveAnimations() {\n        const cached = this._cachedAnimations;\n        if (cached) {\n            return cached;\n        }\n        const chart = this.chart;\n        const options = this.options.setContext(this.getContext());\n        const opts = options.enabled && chart.options.animation && options.animations;\n        const animations = new Animations(this.chart, opts);\n        if (opts._cacheable) {\n            this._cachedAnimations = Object.freeze(animations);\n        }\n        return animations;\n    }\n getContext() {\n        return this.$context || (this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n    }\n    getTitle(context, options) {\n        const { callbacks  } = options;\n        const beforeTitle = invokeCallbackWithFallback(callbacks, 'beforeTitle', this, context);\n        const title = invokeCallbackWithFallback(callbacks, 'title', this, context);\n        const afterTitle = invokeCallbackWithFallback(callbacks, 'afterTitle', this, context);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n        lines = pushOrConcat(lines, splitNewlines(title));\n        lines = pushOrConcat(lines, splitNewlines(afterTitle));\n        return lines;\n    }\n    getBeforeBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'beforeBody', this, tooltipItems));\n    }\n    getBody(tooltipItems, options) {\n        const { callbacks  } = options;\n        const bodyItems = [];\n        each(tooltipItems, (context)=>{\n            const bodyItem = {\n                before: [],\n                lines: [],\n                after: []\n            };\n            const scoped = overrideCallbacks(callbacks, context);\n            pushOrConcat(bodyItem.before, splitNewlines(invokeCallbackWithFallback(scoped, 'beforeLabel', this, context)));\n            pushOrConcat(bodyItem.lines, invokeCallbackWithFallback(scoped, 'label', this, context));\n            pushOrConcat(bodyItem.after, splitNewlines(invokeCallbackWithFallback(scoped, 'afterLabel', this, context)));\n            bodyItems.push(bodyItem);\n        });\n        return bodyItems;\n    }\n    getAfterBody(tooltipItems, options) {\n        return getBeforeAfterBodyLines(invokeCallbackWithFallback(options.callbacks, 'afterBody', this, tooltipItems));\n    }\n    getFooter(tooltipItems, options) {\n        const { callbacks  } = options;\n        const beforeFooter = invokeCallbackWithFallback(callbacks, 'beforeFooter', this, tooltipItems);\n        const footer = invokeCallbackWithFallback(callbacks, 'footer', this, tooltipItems);\n        const afterFooter = invokeCallbackWithFallback(callbacks, 'afterFooter', this, tooltipItems);\n        let lines = [];\n        lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n        lines = pushOrConcat(lines, splitNewlines(footer));\n        lines = pushOrConcat(lines, splitNewlines(afterFooter));\n        return lines;\n    }\n _createItems(options) {\n        const active = this._active;\n        const data = this.chart.data;\n        const labelColors = [];\n        const labelPointStyles = [];\n        const labelTextColors = [];\n        let tooltipItems = [];\n        let i, len;\n        for(i = 0, len = active.length; i < len; ++i){\n            tooltipItems.push(createTooltipItem(this.chart, active[i]));\n        }\n        if (options.filter) {\n            tooltipItems = tooltipItems.filter((element, index, array)=>options.filter(element, index, array, data));\n        }\n        if (options.itemSort) {\n            tooltipItems = tooltipItems.sort((a, b)=>options.itemSort(a, b, data));\n        }\n        each(tooltipItems, (context)=>{\n            const scoped = overrideCallbacks(options.callbacks, context);\n            labelColors.push(invokeCallbackWithFallback(scoped, 'labelColor', this, context));\n            labelPointStyles.push(invokeCallbackWithFallback(scoped, 'labelPointStyle', this, context));\n            labelTextColors.push(invokeCallbackWithFallback(scoped, 'labelTextColor', this, context));\n        });\n        this.labelColors = labelColors;\n        this.labelPointStyles = labelPointStyles;\n        this.labelTextColors = labelTextColors;\n        this.dataPoints = tooltipItems;\n        return tooltipItems;\n    }\n    update(changed, replay) {\n        const options = this.options.setContext(this.getContext());\n        const active = this._active;\n        let properties;\n        let tooltipItems = [];\n        if (!active.length) {\n            if (this.opacity !== 0) {\n                properties = {\n                    opacity: 0\n                };\n            }\n        } else {\n            const position = positioners[options.position].call(this, active, this._eventPosition);\n            tooltipItems = this._createItems(options);\n            this.title = this.getTitle(tooltipItems, options);\n            this.beforeBody = this.getBeforeBody(tooltipItems, options);\n            this.body = this.getBody(tooltipItems, options);\n            this.afterBody = this.getAfterBody(tooltipItems, options);\n            this.footer = this.getFooter(tooltipItems, options);\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, size);\n            const alignment = determineAlignment(this.chart, options, positionAndSize);\n            const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n            this.xAlign = alignment.xAlign;\n            this.yAlign = alignment.yAlign;\n            properties = {\n                opacity: 1,\n                x: backgroundPoint.x,\n                y: backgroundPoint.y,\n                width: size.width,\n                height: size.height,\n                caretX: position.x,\n                caretY: position.y\n            };\n        }\n        this._tooltipItems = tooltipItems;\n        this.$context = undefined;\n        if (properties) {\n            this._resolveAnimations().update(this, properties);\n        }\n        if (changed && options.external) {\n            options.external.call(this, {\n                chart: this.chart,\n                tooltip: this,\n                replay\n            });\n        }\n    }\n    drawCaret(tooltipPoint, ctx, size, options) {\n        const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n        ctx.lineTo(caretPosition.x1, caretPosition.y1);\n        ctx.lineTo(caretPosition.x2, caretPosition.y2);\n        ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n    getCaretPosition(tooltipPoint, size, options) {\n        const { xAlign , yAlign  } = this;\n        const { caretSize , cornerRadius  } = options;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(cornerRadius);\n        const { x: ptX , y: ptY  } = tooltipPoint;\n        const { width , height  } = size;\n        let x1, x2, x3, y1, y2, y3;\n        if (yAlign === 'center') {\n            y2 = ptY + height / 2;\n            if (xAlign === 'left') {\n                x1 = ptX;\n                x2 = x1 - caretSize;\n                y1 = y2 + caretSize;\n                y3 = y2 - caretSize;\n            } else {\n                x1 = ptX + width;\n                x2 = x1 + caretSize;\n                y1 = y2 - caretSize;\n                y3 = y2 + caretSize;\n            }\n            x3 = x1;\n        } else {\n            if (xAlign === 'left') {\n                x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n            } else if (xAlign === 'right') {\n                x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n            } else {\n                x2 = this.caretX;\n            }\n            if (yAlign === 'top') {\n                y1 = ptY;\n                y2 = y1 - caretSize;\n                x1 = x2 - caretSize;\n                x3 = x2 + caretSize;\n            } else {\n                y1 = ptY + height;\n                y2 = y1 + caretSize;\n                x1 = x2 + caretSize;\n                x3 = x2 - caretSize;\n            }\n            y3 = y1;\n        }\n        return {\n            x1,\n            x2,\n            x3,\n            y1,\n            y2,\n            y3\n        };\n    }\n    drawTitle(pt, ctx, options) {\n        const title = this.title;\n        const length = title.length;\n        let titleFont, titleSpacing, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.titleAlign, options);\n            ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n            ctx.textBaseline = 'middle';\n            titleFont = toFont(options.titleFont);\n            titleSpacing = options.titleSpacing;\n            ctx.fillStyle = options.titleColor;\n            ctx.font = titleFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n                pt.y += titleFont.lineHeight + titleSpacing;\n                if (i + 1 === length) {\n                    pt.y += options.titleMarginBottom - titleSpacing;\n                }\n            }\n        }\n    }\n _drawColorBox(ctx, pt, i, rtlHelper, options) {\n        const labelColor = this.labelColors[i];\n        const labelPointStyle = this.labelPointStyles[i];\n        const { boxHeight , boxWidth  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        const colorX = getAlignedX(this, 'left', options);\n        const rtlColorX = rtlHelper.x(colorX);\n        const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n        const colorY = pt.y + yOffSet;\n        if (options.usePointStyle) {\n            const drawOptions = {\n                radius: Math.min(boxWidth, boxHeight) / 2,\n                pointStyle: labelPointStyle.pointStyle,\n                rotation: labelPointStyle.rotation,\n                borderWidth: 1\n            };\n            const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n            const centerY = colorY + boxHeight / 2;\n            ctx.strokeStyle = options.multiKeyBackground;\n            ctx.fillStyle = options.multiKeyBackground;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.fillStyle = labelColor.backgroundColor;\n            drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n            ctx.lineWidth = isObject(labelColor.borderWidth) ? Math.max(...Object.values(labelColor.borderWidth)) : labelColor.borderWidth || 1;\n            ctx.strokeStyle = labelColor.borderColor;\n            ctx.setLineDash(labelColor.borderDash || []);\n            ctx.lineDashOffset = labelColor.borderDashOffset || 0;\n            const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth);\n            const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - 2);\n            const borderRadius = toTRBLCorners(labelColor.borderRadius);\n            if (Object.values(borderRadius).some((v)=>v !== 0)) {\n                ctx.beginPath();\n                ctx.fillStyle = options.multiKeyBackground;\n                addRoundedRectPath(ctx, {\n                    x: outerX,\n                    y: colorY,\n                    w: boxWidth,\n                    h: boxHeight,\n                    radius: borderRadius\n                });\n                ctx.fill();\n                ctx.stroke();\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.beginPath();\n                addRoundedRectPath(ctx, {\n                    x: innerX,\n                    y: colorY + 1,\n                    w: boxWidth - 2,\n                    h: boxHeight - 2,\n                    radius: borderRadius\n                });\n                ctx.fill();\n            } else {\n                ctx.fillStyle = options.multiKeyBackground;\n                ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n                ctx.fillStyle = labelColor.backgroundColor;\n                ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n            }\n        }\n        ctx.fillStyle = this.labelTextColors[i];\n    }\n    drawBody(pt, ctx, options) {\n        const { body  } = this;\n        const { bodySpacing , bodyAlign , displayColors , boxHeight , boxWidth , boxPadding  } = options;\n        const bodyFont = toFont(options.bodyFont);\n        let bodyLineHeight = bodyFont.lineHeight;\n        let xLinePadding = 0;\n        const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        const fillLineOfText = function(line) {\n            ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n            pt.y += bodyLineHeight + bodySpacing;\n        };\n        const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n        let bodyItem, textColor, lines, i, j, ilen, jlen;\n        ctx.textAlign = bodyAlign;\n        ctx.textBaseline = 'middle';\n        ctx.font = bodyFont.string;\n        pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n        ctx.fillStyle = options.bodyColor;\n        each(this.beforeBody, fillLineOfText);\n        xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n        for(i = 0, ilen = body.length; i < ilen; ++i){\n            bodyItem = body[i];\n            textColor = this.labelTextColors[i];\n            ctx.fillStyle = textColor;\n            each(bodyItem.before, fillLineOfText);\n            lines = bodyItem.lines;\n            if (displayColors && lines.length) {\n                this._drawColorBox(ctx, pt, i, rtlHelper, options);\n                bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n            }\n            for(j = 0, jlen = lines.length; j < jlen; ++j){\n                fillLineOfText(lines[j]);\n                bodyLineHeight = bodyFont.lineHeight;\n            }\n            each(bodyItem.after, fillLineOfText);\n        }\n        xLinePadding = 0;\n        bodyLineHeight = bodyFont.lineHeight;\n        each(this.afterBody, fillLineOfText);\n        pt.y -= bodySpacing;\n    }\n    drawFooter(pt, ctx, options) {\n        const footer = this.footer;\n        const length = footer.length;\n        let footerFont, i;\n        if (length) {\n            const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n            pt.x = getAlignedX(this, options.footerAlign, options);\n            pt.y += options.footerMarginTop;\n            ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n            ctx.textBaseline = 'middle';\n            footerFont = toFont(options.footerFont);\n            ctx.fillStyle = options.footerColor;\n            ctx.font = footerFont.string;\n            for(i = 0; i < length; ++i){\n                ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n                pt.y += footerFont.lineHeight + options.footerSpacing;\n            }\n        }\n    }\n    drawBackground(pt, ctx, tooltipSize, options) {\n        const { xAlign , yAlign  } = this;\n        const { x , y  } = pt;\n        const { width , height  } = tooltipSize;\n        const { topLeft , topRight , bottomLeft , bottomRight  } = toTRBLCorners(options.cornerRadius);\n        ctx.fillStyle = options.backgroundColor;\n        ctx.strokeStyle = options.borderColor;\n        ctx.lineWidth = options.borderWidth;\n        ctx.beginPath();\n        ctx.moveTo(x + topLeft, y);\n        if (yAlign === 'top') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width - topRight, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n        if (yAlign === 'center' && xAlign === 'right') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + width, y + height - bottomRight);\n        ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n        if (yAlign === 'bottom') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x + bottomLeft, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n        if (yAlign === 'center' && xAlign === 'left') {\n            this.drawCaret(pt, ctx, tooltipSize, options);\n        }\n        ctx.lineTo(x, y + topLeft);\n        ctx.quadraticCurveTo(x, y, x + topLeft, y);\n        ctx.closePath();\n        ctx.fill();\n        if (options.borderWidth > 0) {\n            ctx.stroke();\n        }\n    }\n _updateAnimationTarget(options) {\n        const chart = this.chart;\n        const anims = this.$animations;\n        const animX = anims && anims.x;\n        const animY = anims && anims.y;\n        if (animX || animY) {\n            const position = positioners[options.position].call(this, this._active, this._eventPosition);\n            if (!position) {\n                return;\n            }\n            const size = this._size = getTooltipSize(this, options);\n            const positionAndSize = Object.assign({}, position, this._size);\n            const alignment = determineAlignment(chart, options, positionAndSize);\n            const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n            if (animX._to !== point.x || animY._to !== point.y) {\n                this.xAlign = alignment.xAlign;\n                this.yAlign = alignment.yAlign;\n                this.width = size.width;\n                this.height = size.height;\n                this.caretX = position.x;\n                this.caretY = position.y;\n                this._resolveAnimations().update(this, point);\n            }\n        }\n    }\n _willRender() {\n        return !!this.opacity;\n    }\n    draw(ctx) {\n        const options = this.options.setContext(this.getContext());\n        let opacity = this.opacity;\n        if (!opacity) {\n            return;\n        }\n        this._updateAnimationTarget(options);\n        const tooltipSize = {\n            width: this.width,\n            height: this.height\n        };\n        const pt = {\n            x: this.x,\n            y: this.y\n        };\n        opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n        const padding = toPadding(options.padding);\n        const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n        if (options.enabled && hasTooltipContent) {\n            ctx.save();\n            ctx.globalAlpha = opacity;\n            this.drawBackground(pt, ctx, tooltipSize, options);\n            overrideTextDirection(ctx, options.textDirection);\n            pt.y += padding.top;\n            this.drawTitle(pt, ctx, options);\n            this.drawBody(pt, ctx, options);\n            this.drawFooter(pt, ctx, options);\n            restoreTextDirection(ctx, options.textDirection);\n            ctx.restore();\n        }\n    }\n getActiveElements() {\n        return this._active || [];\n    }\n setActiveElements(activeElements, eventPosition) {\n        const lastActive = this._active;\n        const active = activeElements.map(({ datasetIndex , index  })=>{\n            const meta = this.chart.getDatasetMeta(datasetIndex);\n            if (!meta) {\n                throw new Error('Cannot find a dataset at index ' + datasetIndex);\n            }\n            return {\n                datasetIndex,\n                element: meta.data[index],\n                index\n            };\n        });\n        const changed = !_elementsEqual(lastActive, active);\n        const positionChanged = this._positionChanged(active, eventPosition);\n        if (changed || positionChanged) {\n            this._active = active;\n            this._eventPosition = eventPosition;\n            this._ignoreReplayEvents = true;\n            this.update(true);\n        }\n    }\n handleEvent(e, replay, inChartArea = true) {\n        if (replay && this._ignoreReplayEvents) {\n            return false;\n        }\n        this._ignoreReplayEvents = false;\n        const options = this.options;\n        const lastActive = this._active || [];\n        const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n        const positionChanged = this._positionChanged(active, e);\n        const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n        if (changed) {\n            this._active = active;\n            if (options.enabled || options.external) {\n                this._eventPosition = {\n                    x: e.x,\n                    y: e.y\n                };\n                this.update(true, replay);\n            }\n        }\n        return changed;\n    }\n _getActiveElements(e, lastActive, replay, inChartArea) {\n        const options = this.options;\n        if (e.type === 'mouseout') {\n            return [];\n        }\n        if (!inChartArea) {\n            return lastActive.filter((i)=>this.chart.data.datasets[i.datasetIndex] && this.chart.getDatasetMeta(i.datasetIndex).controller.getParsed(i.index) !== undefined);\n        }\n        const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n        if (options.reverse) {\n            active.reverse();\n        }\n        return active;\n    }\n _positionChanged(active, e) {\n        const { caretX , caretY , options  } = this;\n        const position = positioners[options.position].call(this, active, e);\n        return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n}\nvar plugin_tooltip = {\n    id: 'tooltip',\n    _element: Tooltip,\n    positioners,\n    afterInit (chart, _args, options) {\n        if (options) {\n            chart.tooltip = new Tooltip({\n                chart,\n                options\n            });\n        }\n    },\n    beforeUpdate (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    reset (chart, _args, options) {\n        if (chart.tooltip) {\n            chart.tooltip.initialize(options);\n        }\n    },\n    afterDraw (chart) {\n        const tooltip = chart.tooltip;\n        if (tooltip && tooltip._willRender()) {\n            const args = {\n                tooltip\n            };\n            if (chart.notifyPlugins('beforeTooltipDraw', {\n                ...args,\n                cancelable: true\n            }) === false) {\n                return;\n            }\n            tooltip.draw(chart.ctx);\n            chart.notifyPlugins('afterTooltipDraw', args);\n        }\n    },\n    afterEvent (chart, args) {\n        if (chart.tooltip) {\n            const useFinalPosition = args.replay;\n            if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n                args.changed = true;\n            }\n        }\n    },\n    defaults: {\n        enabled: true,\n        external: null,\n        position: 'average',\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        titleColor: '#fff',\n        titleFont: {\n            weight: 'bold'\n        },\n        titleSpacing: 2,\n        titleMarginBottom: 6,\n        titleAlign: 'left',\n        bodyColor: '#fff',\n        bodySpacing: 2,\n        bodyFont: {},\n        bodyAlign: 'left',\n        footerColor: '#fff',\n        footerSpacing: 2,\n        footerMarginTop: 6,\n        footerFont: {\n            weight: 'bold'\n        },\n        footerAlign: 'left',\n        padding: 6,\n        caretPadding: 2,\n        caretSize: 5,\n        cornerRadius: 6,\n        boxHeight: (ctx, opts)=>opts.bodyFont.size,\n        boxWidth: (ctx, opts)=>opts.bodyFont.size,\n        multiKeyBackground: '#fff',\n        displayColors: true,\n        boxPadding: 0,\n        borderColor: 'rgba(0,0,0,0)',\n        borderWidth: 0,\n        animation: {\n            duration: 400,\n            easing: 'easeOutQuart'\n        },\n        animations: {\n            numbers: {\n                type: 'number',\n                properties: [\n                    'x',\n                    'y',\n                    'width',\n                    'height',\n                    'caretX',\n                    'caretY'\n                ]\n            },\n            opacity: {\n                easing: 'linear',\n                duration: 200\n            }\n        },\n        callbacks: defaultCallbacks\n    },\n    defaultRoutes: {\n        bodyFont: 'font',\n        footerFont: 'font',\n        titleFont: 'font'\n    },\n    descriptors: {\n        _scriptable: (name)=>name !== 'filter' && name !== 'itemSort' && name !== 'external',\n        _indexable: false,\n        callbacks: {\n            _scriptable: false,\n            _indexable: false\n        },\n        animation: {\n            _fallback: false\n        },\n        animations: {\n            _fallback: 'animation'\n        }\n    },\n    additionalOptionScopes: [\n        'interaction'\n    ]\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nColors: plugin_colors,\nDecimation: plugin_decimation,\nFiller: index,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels)=>{\n    if (typeof raw === 'string') {\n        index = labels.push(raw) - 1;\n        addedLabels.unshift({\n            index,\n            label: raw\n        });\n    } else if (isNaN(raw)) {\n        index = null;\n    }\n    return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n    const first = labels.indexOf(raw);\n    if (first === -1) {\n        return addIfString(labels, raw, index, addedLabels);\n    }\n    const last = labels.lastIndexOf(raw);\n    return first !== last ? index : first;\n}\nconst validIndex = (index, max)=>index === null ? null : _limitValue(Math.round(index), 0, max);\nfunction _getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n        return labels[value];\n    }\n    return value;\n}\nclass CategoryScale extends Scale {\n    static id = 'category';\n static defaults = {\n        ticks: {\n            callback: _getLabelForValue\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this._startValue = undefined;\n        this._valueRange = 0;\n        this._addedLabels = [];\n    }\n    init(scaleOptions) {\n        const added = this._addedLabels;\n        if (added.length) {\n            const labels = this.getLabels();\n            for (const { index , label  } of added){\n                if (labels[index] === label) {\n                    labels.splice(index, 1);\n                }\n            }\n            this._addedLabels = [];\n        }\n        super.init(scaleOptions);\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        const labels = this.getLabels();\n        index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n        return validIndex(index, labels.length - 1);\n    }\n    determineDataLimits() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this.getMinMax(true);\n        if (this.options.bounds === 'ticks') {\n            if (!minDefined) {\n                min = 0;\n            }\n            if (!maxDefined) {\n                max = this.getLabels().length - 1;\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const min = this.min;\n        const max = this.max;\n        const offset = this.options.offset;\n        const ticks = [];\n        let labels = this.getLabels();\n        labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n        this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n        this._startValue = this.min - (offset ? 0.5 : 0);\n        for(let value = min; value <= max; value++){\n            ticks.push({\n                value\n            });\n        }\n        return ticks;\n    }\n    getLabelForValue(value) {\n        return _getLabelForValue.call(this, value);\n    }\n configure() {\n        super.configure();\n        if (!this.isHorizontal()) {\n            this._reversePixels = !this._reversePixels;\n        }\n    }\n    getPixelForValue(value) {\n        if (typeof value !== 'number') {\n            value = this.parse(value);\n        }\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getPixelForTick(index) {\n        const ticks = this.ticks;\n        if (index < 0 || index > ticks.length - 1) {\n            return null;\n        }\n        return this.getPixelForValue(ticks[index].value);\n    }\n    getValueForPixel(pixel) {\n        return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n    getBasePixel() {\n        return this.bottom;\n    }\n}\n\nfunction generateTicks$1(generationOptions, dataRange) {\n    const ticks = [];\n    const MIN_SPACING = 1e-14;\n    const { bounds , step , min , max , precision , count , maxTicks , maxDigits , includeBounds  } = generationOptions;\n    const unit = step || 1;\n    const maxSpaces = maxTicks - 1;\n    const { min: rmin , max: rmax  } = dataRange;\n    const minDefined = !isNullOrUndef(min);\n    const maxDefined = !isNullOrUndef(max);\n    const countDefined = !isNullOrUndef(count);\n    const minSpacing = (rmax - rmin) / (maxDigits + 1);\n    let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n    let factor, niceMin, niceMax, numSpaces;\n    if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n        return [\n            {\n                value: rmin\n            },\n            {\n                value: rmax\n            }\n        ];\n    }\n    numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n    if (numSpaces > maxSpaces) {\n        spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n    }\n    if (!isNullOrUndef(precision)) {\n        factor = Math.pow(10, precision);\n        spacing = Math.ceil(spacing * factor) / factor;\n    }\n    if (bounds === 'ticks') {\n        niceMin = Math.floor(rmin / spacing) * spacing;\n        niceMax = Math.ceil(rmax / spacing) * spacing;\n    } else {\n        niceMin = rmin;\n        niceMax = rmax;\n    }\n    if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n        numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n        spacing = (max - min) / numSpaces;\n        niceMin = min;\n        niceMax = max;\n    } else if (countDefined) {\n        niceMin = minDefined ? min : niceMin;\n        niceMax = maxDefined ? max : niceMax;\n        numSpaces = count - 1;\n        spacing = (niceMax - niceMin) / numSpaces;\n    } else {\n        numSpaces = (niceMax - niceMin) / spacing;\n        if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n            numSpaces = Math.round(numSpaces);\n        } else {\n            numSpaces = Math.ceil(numSpaces);\n        }\n    }\n    const decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n    factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n    niceMin = Math.round(niceMin * factor) / factor;\n    niceMax = Math.round(niceMax * factor) / factor;\n    let j = 0;\n    if (minDefined) {\n        if (includeBounds && niceMin !== min) {\n            ticks.push({\n                value: min\n            });\n            if (niceMin < min) {\n                j++;\n            }\n            if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n                j++;\n            }\n        } else if (niceMin < min) {\n            j++;\n        }\n    }\n    for(; j < numSpaces; ++j){\n        const tickValue = Math.round((niceMin + j * spacing) * factor) / factor;\n        if (maxDefined && tickValue > max) {\n            break;\n        }\n        ticks.push({\n            value: tickValue\n        });\n    }\n    if (maxDefined && includeBounds && niceMax !== max) {\n        if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n            ticks[ticks.length - 1].value = max;\n        } else {\n            ticks.push({\n                value: max\n            });\n        }\n    } else if (!maxDefined || niceMax === max) {\n        ticks.push({\n            value: niceMax\n        });\n    }\n    return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, { horizontal , minRotation  }) {\n    const rad = toRadians(minRotation);\n    const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n    const length = 0.75 * minSpacing * ('' + value).length;\n    return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n         this._endValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        if (isNullOrUndef(raw)) {\n            return null;\n        }\n        if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n            return null;\n        }\n        return +raw;\n    }\n    handleTickRangeOptions() {\n        const { beginAtZero  } = this.options;\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let { min , max  } = this;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (beginAtZero) {\n            const minSign = sign(min);\n            const maxSign = sign(max);\n            if (minSign < 0 && maxSign < 0) {\n                setMax(0);\n            } else if (minSign > 0 && maxSign > 0) {\n                setMin(0);\n            }\n        }\n        if (min === max) {\n            let offset = max === 0 ? 1 : Math.abs(max * 0.05);\n            setMax(max + offset);\n            if (!beginAtZero) {\n                setMin(min - offset);\n            }\n        }\n        this.min = min;\n        this.max = max;\n    }\n    getTickLimit() {\n        const tickOpts = this.options.ticks;\n        let { maxTicksLimit , stepSize  } = tickOpts;\n        let maxTicks;\n        if (stepSize) {\n            maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n            if (maxTicks > 1000) {\n                console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n                maxTicks = 1000;\n            }\n        } else {\n            maxTicks = this.computeTickLimit();\n            maxTicksLimit = maxTicksLimit || 11;\n        }\n        if (maxTicksLimit) {\n            maxTicks = Math.min(maxTicksLimit, maxTicks);\n        }\n        return maxTicks;\n    }\n computeTickLimit() {\n        return Number.POSITIVE_INFINITY;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        let maxTicks = this.getTickLimit();\n        maxTicks = Math.max(2, maxTicks);\n        const numericGeneratorOptions = {\n            maxTicks,\n            bounds: opts.bounds,\n            min: opts.min,\n            max: opts.max,\n            precision: tickOpts.precision,\n            step: tickOpts.stepSize,\n            count: tickOpts.count,\n            maxDigits: this._maxDigits(),\n            horizontal: this.isHorizontal(),\n            minRotation: tickOpts.minRotation || 0,\n            includeBounds: tickOpts.includeBounds !== false\n        };\n        const dataRange = this._range || this;\n        const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n configure() {\n        const ticks = this.ticks;\n        let start = this.min;\n        let end = this.max;\n        super.configure();\n        if (this.options.offset && ticks.length) {\n            const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n            start -= offset;\n            end += offset;\n        }\n        this._startValue = start;\n        this._endValue = end;\n        this._valueRange = end - start;\n    }\n    getLabelForValue(value) {\n        return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n}\n\nclass LinearScale extends LinearScaleBase {\n    static id = 'linear';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.numeric\n        }\n    };\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? min : 0;\n        this.max = isNumberFinite(max) ? max : 1;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        const horizontal = this.isHorizontal();\n        const length = horizontal ? this.width : this.height;\n        const minRotation = toRadians(this.options.ticks.minRotation);\n        const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n        const tickFont = this._resolveTickFontOptions(0);\n        return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n    getPixelForValue(value) {\n        return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n}\n\nconst log10Floor = (v)=>Math.floor(log10(v));\nconst changeExponent = (v, m)=>Math.pow(10, log10Floor(v) + m);\nfunction isMajor(tickVal) {\n    const remain = tickVal / Math.pow(10, log10Floor(tickVal));\n    return remain === 1;\n}\nfunction steps(min, max, rangeExp) {\n    const rangeStep = Math.pow(10, rangeExp);\n    const start = Math.floor(min / rangeStep);\n    const end = Math.ceil(max / rangeStep);\n    return end - start;\n}\nfunction startExp(min, max) {\n    const range = max - min;\n    let rangeExp = log10Floor(range);\n    while(steps(min, max, rangeExp) > 10){\n        rangeExp++;\n    }\n    while(steps(min, max, rangeExp) < 10){\n        rangeExp--;\n    }\n    return Math.min(rangeExp, log10Floor(min));\n}\n function generateTicks(generationOptions, { min , max  }) {\n    min = finiteOrDefault(generationOptions.min, min);\n    const ticks = [];\n    const minExp = log10Floor(min);\n    let exp = startExp(min, max);\n    let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n    const stepSize = Math.pow(10, exp);\n    const base = minExp > exp ? Math.pow(10, minExp) : 0;\n    const start = Math.round((min - base) * precision) / precision;\n    const offset = Math.floor((min - base) / stepSize / 10) * stepSize * 10;\n    let significand = Math.floor((start - offset) / Math.pow(10, exp));\n    let value = finiteOrDefault(generationOptions.min, Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision);\n    while(value < max){\n        ticks.push({\n            value,\n            major: isMajor(value),\n            significand\n        });\n        if (significand >= 10) {\n            significand = significand < 15 ? 15 : 20;\n        } else {\n            significand++;\n        }\n        if (significand >= 20) {\n            exp++;\n            significand = 2;\n            precision = exp >= 0 ? 1 : precision;\n        }\n        value = Math.round((base + offset + significand * Math.pow(10, exp)) * precision) / precision;\n    }\n    const lastTick = finiteOrDefault(generationOptions.max, value);\n    ticks.push({\n        value: lastTick,\n        major: isMajor(lastTick),\n        significand\n    });\n    return ticks;\n}\nclass LogarithmicScale extends Scale {\n    static id = 'logarithmic';\n static defaults = {\n        ticks: {\n            callback: Ticks.formatters.logarithmic,\n            major: {\n                enabled: true\n            }\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.start = undefined;\n         this.end = undefined;\n         this._startValue = undefined;\n        this._valueRange = 0;\n    }\n    parse(raw, index) {\n        const value = LinearScaleBase.prototype.parse.apply(this, [\n            raw,\n            index\n        ]);\n        if (value === 0) {\n            this._zero = true;\n            return undefined;\n        }\n        return isNumberFinite(value) && value > 0 ? value : null;\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(true);\n        this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n        this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n        if (this.options.beginAtZero) {\n            this._zero = true;\n        }\n        if (this._zero && this.min !== this._suggestedMin && !isNumberFinite(this._userMin)) {\n            this.min = min === changeExponent(this.min, 0) ? changeExponent(this.min, -1) : changeExponent(this.min, 0);\n        }\n        this.handleTickRangeOptions();\n    }\n    handleTickRangeOptions() {\n        const { minDefined , maxDefined  } = this.getUserBounds();\n        let min = this.min;\n        let max = this.max;\n        const setMin = (v)=>min = minDefined ? min : v;\n        const setMax = (v)=>max = maxDefined ? max : v;\n        if (min === max) {\n            if (min <= 0) {\n                setMin(1);\n                setMax(10);\n            } else {\n                setMin(changeExponent(min, -1));\n                setMax(changeExponent(max, +1));\n            }\n        }\n        if (min <= 0) {\n            setMin(changeExponent(max, -1));\n        }\n        if (max <= 0) {\n            setMax(changeExponent(min, +1));\n        }\n        this.min = min;\n        this.max = max;\n    }\n    buildTicks() {\n        const opts = this.options;\n        const generationOptions = {\n            min: this._userMin,\n            max: this._userMax\n        };\n        const ticks = generateTicks(generationOptions, this);\n        if (opts.bounds === 'ticks') {\n            _setMinAndMaxByKey(ticks, this, 'value');\n        }\n        if (opts.reverse) {\n            ticks.reverse();\n            this.start = this.max;\n            this.end = this.min;\n        } else {\n            this.start = this.min;\n            this.end = this.max;\n        }\n        return ticks;\n    }\n getLabelForValue(value) {\n        return value === undefined ? '0' : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n    }\n configure() {\n        const start = this.min;\n        super.configure();\n        this._startValue = log10(start);\n        this._valueRange = log10(this.max) - log10(start);\n    }\n    getPixelForValue(value) {\n        if (value === undefined || value === 0) {\n            value = this.min;\n        }\n        if (value === null || isNaN(value)) {\n            return NaN;\n        }\n        return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n    getValueForPixel(pixel) {\n        const decimal = this.getDecimalForPixel(pixel);\n        return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n}\n\nfunction getTickBackdropHeight(opts) {\n    const tickOpts = opts.ticks;\n    if (tickOpts.display && opts.display) {\n        const padding = toPadding(tickOpts.backdropPadding);\n        return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n    }\n    return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n    label = isArray(label) ? label : [\n        label\n    ];\n    return {\n        w: _longestText(ctx, font.string, label),\n        h: label.length * font.lineHeight\n    };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n    if (angle === min || angle === max) {\n        return {\n            start: pos - size / 2,\n            end: pos + size / 2\n        };\n    } else if (angle < min || angle > max) {\n        return {\n            start: pos - size,\n            end: pos\n        };\n    }\n    return {\n        start: pos,\n        end: pos + size\n    };\n}\n function fitWithPointLabels(scale) {\n    const orig = {\n        l: scale.left + scale._padding.left,\n        r: scale.right - scale._padding.right,\n        t: scale.top + scale._padding.top,\n        b: scale.bottom - scale._padding.bottom\n    };\n    const limits = Object.assign({}, orig);\n    const labelSizes = [];\n    const padding = [];\n    const valueCount = scale._pointLabels.length;\n    const pointLabelOpts = scale.options.pointLabels;\n    const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n    for(let i = 0; i < valueCount; i++){\n        const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n        padding[i] = opts.padding;\n        const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n        const plFont = toFont(opts.font);\n        const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n        labelSizes[i] = textSize;\n        const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n        const angle = Math.round(toDegrees(angleRadians));\n        const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n        const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n        updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n    }\n    scale.setCenterPoint(orig.l - limits.l, limits.r - orig.r, orig.t - limits.t, limits.b - orig.b);\n    scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n    const sin = Math.abs(Math.sin(angle));\n    const cos = Math.abs(Math.cos(angle));\n    let x = 0;\n    let y = 0;\n    if (hLimits.start < orig.l) {\n        x = (orig.l - hLimits.start) / sin;\n        limits.l = Math.min(limits.l, orig.l - x);\n    } else if (hLimits.end > orig.r) {\n        x = (hLimits.end - orig.r) / sin;\n        limits.r = Math.max(limits.r, orig.r + x);\n    }\n    if (vLimits.start < orig.t) {\n        y = (orig.t - vLimits.start) / cos;\n        limits.t = Math.min(limits.t, orig.t - y);\n    } else if (vLimits.end > orig.b) {\n        y = (vLimits.end - orig.b) / cos;\n        limits.b = Math.max(limits.b, orig.b + y);\n    }\n}\nfunction createPointLabelItem(scale, index, itemOpts) {\n    const outerDistance = scale.drawingArea;\n    const { extra , additionalAngle , padding , size  } = itemOpts;\n    const pointLabelPosition = scale.getPointPosition(index, outerDistance + extra + padding, additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    return {\n        visible: true,\n        x: pointLabelPosition.x,\n        y,\n        textAlign,\n        left,\n        top: y,\n        right: left + size.w,\n        bottom: y + size.h\n    };\n}\nfunction isNotOverlapped(item, area) {\n    if (!area) {\n        return true;\n    }\n    const { left , top , right , bottom  } = item;\n    const apexesInArea = _isPointInArea({\n        x: left,\n        y: top\n    }, area) || _isPointInArea({\n        x: left,\n        y: bottom\n    }, area) || _isPointInArea({\n        x: right,\n        y: top\n    }, area) || _isPointInArea({\n        x: right,\n        y: bottom\n    }, area);\n    return !apexesInArea;\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n    const items = [];\n    const valueCount = scale._pointLabels.length;\n    const opts = scale.options;\n    const { centerPointLabels , display  } = opts.pointLabels;\n    const itemOpts = {\n        extra: getTickBackdropHeight(opts) / 2,\n        additionalAngle: centerPointLabels ? PI / valueCount : 0\n    };\n    let area;\n    for(let i = 0; i < valueCount; i++){\n        itemOpts.padding = padding[i];\n        itemOpts.size = labelSizes[i];\n        const item = createPointLabelItem(scale, i, itemOpts);\n        items.push(item);\n        if (display === 'auto') {\n            item.visible = isNotOverlapped(item, area);\n            if (item.visible) {\n                area = item;\n            }\n        }\n    }\n    return items;\n}\nfunction getTextAlignForAngle(angle) {\n    if (angle === 0 || angle === 180) {\n        return 'center';\n    } else if (angle < 180) {\n        return 'left';\n    }\n    return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n    if (align === 'right') {\n        x -= w;\n    } else if (align === 'center') {\n        x -= w / 2;\n    }\n    return x;\n}\nfunction yForAngle(y, h, angle) {\n    if (angle === 90 || angle === 270) {\n        y -= h / 2;\n    } else if (angle > 270 || angle < 90) {\n        y -= h;\n    }\n    return y;\n}\nfunction drawPointLabelBox(ctx, opts, item) {\n    const { left , top , right , bottom  } = item;\n    const { backdropColor  } = opts;\n    if (!isNullOrUndef(backdropColor)) {\n        const borderRadius = toTRBLCorners(opts.borderRadius);\n        const padding = toPadding(opts.backdropPadding);\n        ctx.fillStyle = backdropColor;\n        const backdropLeft = left - padding.left;\n        const backdropTop = top - padding.top;\n        const backdropWidth = right - left + padding.width;\n        const backdropHeight = bottom - top + padding.height;\n        if (Object.values(borderRadius).some((v)=>v !== 0)) {\n            ctx.beginPath();\n            addRoundedRectPath(ctx, {\n                x: backdropLeft,\n                y: backdropTop,\n                w: backdropWidth,\n                h: backdropHeight,\n                radius: borderRadius\n            });\n            ctx.fill();\n        } else {\n            ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);\n        }\n    }\n}\nfunction drawPointLabels(scale, labelCount) {\n    const { ctx , options: { pointLabels  }  } = scale;\n    for(let i = labelCount - 1; i >= 0; i--){\n        const item = scale._pointLabelItems[i];\n        if (!item.visible) {\n            continue;\n        }\n        const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n        drawPointLabelBox(ctx, optsAtIndex, item);\n        const plFont = toFont(optsAtIndex.font);\n        const { x , y , textAlign  } = item;\n        renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n            color: optsAtIndex.color,\n            textAlign: textAlign,\n            textBaseline: 'middle'\n        });\n    }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n    const { ctx  } = scale;\n    if (circular) {\n        ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n    } else {\n        let pointPosition = scale.getPointPosition(0, radius);\n        ctx.moveTo(pointPosition.x, pointPosition.y);\n        for(let i = 1; i < labelCount; i++){\n            pointPosition = scale.getPointPosition(i, radius);\n            ctx.lineTo(pointPosition.x, pointPosition.y);\n        }\n    }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount, borderOpts) {\n    const ctx = scale.ctx;\n    const circular = gridLineOpts.circular;\n    const { color , lineWidth  } = gridLineOpts;\n    if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n        return;\n    }\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = lineWidth;\n    ctx.setLineDash(borderOpts.dash || []);\n    ctx.lineDashOffset = borderOpts.dashOffset;\n    ctx.beginPath();\n    pathRadiusLine(scale, radius, circular, labelCount);\n    ctx.closePath();\n    ctx.stroke();\n    ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n    return createContext(parent, {\n        label,\n        index,\n        type: 'pointLabel'\n    });\n}\nclass RadialLinearScale extends LinearScaleBase {\n    static id = 'radialLinear';\n static defaults = {\n        display: true,\n        animate: true,\n        position: 'chartArea',\n        angleLines: {\n            display: true,\n            lineWidth: 1,\n            borderDash: [],\n            borderDashOffset: 0.0\n        },\n        grid: {\n            circular: false\n        },\n        startAngle: 0,\n        ticks: {\n            showLabelBackdrop: true,\n            callback: Ticks.formatters.numeric\n        },\n        pointLabels: {\n            backdropColor: undefined,\n            backdropPadding: 2,\n            display: true,\n            font: {\n                size: 10\n            },\n            callback (label) {\n                return label;\n            },\n            padding: 5,\n            centerPointLabels: false\n        }\n    };\n    static defaultRoutes = {\n        'angleLines.color': 'borderColor',\n        'pointLabels.color': 'color',\n        'ticks.color': 'color'\n    };\n    static descriptors = {\n        angleLines: {\n            _fallback: 'grid'\n        }\n    };\n    constructor(cfg){\n        super(cfg);\n         this.xCenter = undefined;\n         this.yCenter = undefined;\n         this.drawingArea = undefined;\n         this._pointLabels = [];\n        this._pointLabelItems = [];\n    }\n    setDimensions() {\n        const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n        const w = this.width = this.maxWidth - padding.width;\n        const h = this.height = this.maxHeight - padding.height;\n        this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n        this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n        this.drawingArea = Math.floor(Math.min(w, h) / 2);\n    }\n    determineDataLimits() {\n        const { min , max  } = this.getMinMax(false);\n        this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n        this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n        this.handleTickRangeOptions();\n    }\n computeTickLimit() {\n        return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n    generateTickLabels(ticks) {\n        LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n        this._pointLabels = this.getLabels().map((value, index)=>{\n            const label = callback(this.options.pointLabels.callback, [\n                value,\n                index\n            ], this);\n            return label || label === 0 ? label : '';\n        }).filter((v, i)=>this.chart.getDataVisibility(i));\n    }\n    fit() {\n        const opts = this.options;\n        if (opts.display && opts.pointLabels.display) {\n            fitWithPointLabels(this);\n        } else {\n            this.setCenterPoint(0, 0, 0, 0);\n        }\n    }\n    setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n        this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n        this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n        this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n    }\n    getIndexAngle(index) {\n        const angleMultiplier = TAU / (this._pointLabels.length || 1);\n        const startAngle = this.options.startAngle || 0;\n        return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n    getDistanceFromCenterForValue(value) {\n        if (isNullOrUndef(value)) {\n            return NaN;\n        }\n        const scalingFactor = this.drawingArea / (this.max - this.min);\n        if (this.options.reverse) {\n            return (this.max - value) * scalingFactor;\n        }\n        return (value - this.min) * scalingFactor;\n    }\n    getValueForDistanceFromCenter(distance) {\n        if (isNullOrUndef(distance)) {\n            return NaN;\n        }\n        const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n        return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n    getPointLabelContext(index) {\n        const pointLabels = this._pointLabels || [];\n        if (index >= 0 && index < pointLabels.length) {\n            const pointLabel = pointLabels[index];\n            return createPointLabelContext(this.getContext(), index, pointLabel);\n        }\n    }\n    getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n        const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n        return {\n            x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n            y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n            angle\n        };\n    }\n    getPointPositionForValue(index, value) {\n        return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n    getBasePosition(index) {\n        return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n    getPointLabelPosition(index) {\n        const { left , top , right , bottom  } = this._pointLabelItems[index];\n        return {\n            left,\n            top,\n            right,\n            bottom\n        };\n    }\n drawBackground() {\n        const { backgroundColor , grid: { circular  }  } = this.options;\n        if (backgroundColor) {\n            const ctx = this.ctx;\n            ctx.save();\n            ctx.beginPath();\n            pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n            ctx.closePath();\n            ctx.fillStyle = backgroundColor;\n            ctx.fill();\n            ctx.restore();\n        }\n    }\n drawGrid() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const { angleLines , grid , border  } = opts;\n        const labelCount = this._pointLabels.length;\n        let i, offset, position;\n        if (opts.pointLabels.display) {\n            drawPointLabels(this, labelCount);\n        }\n        if (grid.display) {\n            this.ticks.forEach((tick, index)=>{\n                if (index !== 0 || index === 0 && this.min < 0) {\n                    offset = this.getDistanceFromCenterForValue(tick.value);\n                    const context = this.getContext(index);\n                    const optsAtIndex = grid.setContext(context);\n                    const optsAtIndexBorder = border.setContext(context);\n                    drawRadiusLine(this, optsAtIndex, offset, labelCount, optsAtIndexBorder);\n                }\n            });\n        }\n        if (angleLines.display) {\n            ctx.save();\n            for(i = labelCount - 1; i >= 0; i--){\n                const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n                const { color , lineWidth  } = optsAtIndex;\n                if (!lineWidth || !color) {\n                    continue;\n                }\n                ctx.lineWidth = lineWidth;\n                ctx.strokeStyle = color;\n                ctx.setLineDash(optsAtIndex.borderDash);\n                ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n                offset = this.getDistanceFromCenterForValue(opts.reverse ? this.min : this.max);\n                position = this.getPointPosition(i, offset);\n                ctx.beginPath();\n                ctx.moveTo(this.xCenter, this.yCenter);\n                ctx.lineTo(position.x, position.y);\n                ctx.stroke();\n            }\n            ctx.restore();\n        }\n    }\n drawBorder() {}\n drawLabels() {\n        const ctx = this.ctx;\n        const opts = this.options;\n        const tickOpts = opts.ticks;\n        if (!tickOpts.display) {\n            return;\n        }\n        const startAngle = this.getIndexAngle(0);\n        let offset, width;\n        ctx.save();\n        ctx.translate(this.xCenter, this.yCenter);\n        ctx.rotate(startAngle);\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        this.ticks.forEach((tick, index)=>{\n            if (index === 0 && this.min >= 0 && !opts.reverse) {\n                return;\n            }\n            const optsAtIndex = tickOpts.setContext(this.getContext(index));\n            const tickFont = toFont(optsAtIndex.font);\n            offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n            if (optsAtIndex.showLabelBackdrop) {\n                ctx.font = tickFont.string;\n                width = ctx.measureText(tick.label).width;\n                ctx.fillStyle = optsAtIndex.backdropColor;\n                const padding = toPadding(optsAtIndex.backdropPadding);\n                ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n            }\n            renderText(ctx, tick.label, 0, -offset, tickFont, {\n                color: optsAtIndex.color,\n                strokeColor: optsAtIndex.textStrokeColor,\n                strokeWidth: optsAtIndex.textStrokeWidth\n            });\n        });\n        ctx.restore();\n    }\n drawTitle() {}\n}\n\nconst INTERVALS = {\n    millisecond: {\n        common: true,\n        size: 1,\n        steps: 1000\n    },\n    second: {\n        common: true,\n        size: 1000,\n        steps: 60\n    },\n    minute: {\n        common: true,\n        size: 60000,\n        steps: 60\n    },\n    hour: {\n        common: true,\n        size: 3600000,\n        steps: 24\n    },\n    day: {\n        common: true,\n        size: 86400000,\n        steps: 30\n    },\n    week: {\n        common: false,\n        size: 604800000,\n        steps: 4\n    },\n    month: {\n        common: true,\n        size: 2.628e9,\n        steps: 12\n    },\n    quarter: {\n        common: false,\n        size: 7.884e9,\n        steps: 4\n    },\n    year: {\n        common: true,\n        size: 3.154e10\n    }\n};\n const UNITS =  /* #__PURE__ */ Object.keys(INTERVALS);\n function sorter(a, b) {\n    return a - b;\n}\n function parse(scale, input) {\n    if (isNullOrUndef(input)) {\n        return null;\n    }\n    const adapter = scale._adapter;\n    const { parser , round , isoWeekday  } = scale._parseOpts;\n    let value = input;\n    if (typeof parser === 'function') {\n        value = parser(value);\n    }\n    if (!isNumberFinite(value)) {\n        value = typeof parser === 'string' ? adapter.parse(value, parser) : adapter.parse(value);\n    }\n    if (value === null) {\n        return null;\n    }\n    if (round) {\n        value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n    }\n    return +value;\n}\n function determineUnitForAutoTicks(minUnit, min, max, capacity) {\n    const ilen = UNITS.length;\n    for(let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i){\n        const interval = INTERVALS[UNITS[i]];\n        const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n        if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n            return UNITS[i];\n        }\n    }\n    return UNITS[ilen - 1];\n}\n function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n    for(let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--){\n        const unit = UNITS[i];\n        if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n            return unit;\n        }\n    }\n    return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n function determineMajorUnit(unit) {\n    for(let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i){\n        if (INTERVALS[UNITS[i]].common) {\n            return UNITS[i];\n        }\n    }\n}\n function addTick(ticks, time, timestamps) {\n    if (!timestamps) {\n        ticks[time] = true;\n    } else if (timestamps.length) {\n        const { lo , hi  } = _lookup(timestamps, time);\n        const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n        ticks[timestamp] = true;\n    }\n}\n function setMajorTicks(scale, ticks, map, majorUnit) {\n    const adapter = scale._adapter;\n    const first = +adapter.startOf(ticks[0].value, majorUnit);\n    const last = ticks[ticks.length - 1].value;\n    let major, index;\n    for(major = first; major <= last; major = +adapter.add(major, 1, majorUnit)){\n        index = map[major];\n        if (index >= 0) {\n            ticks[index].major = true;\n        }\n    }\n    return ticks;\n}\n function ticksFromTimestamps(scale, values, majorUnit) {\n    const ticks = [];\n     const map = {};\n    const ilen = values.length;\n    let i, value;\n    for(i = 0; i < ilen; ++i){\n        value = values[i];\n        map[value] = i;\n        ticks.push({\n            value,\n            major: false\n        });\n    }\n    return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n    static id = 'time';\n static defaults = {\n bounds: 'data',\n        adapters: {},\n        time: {\n            parser: false,\n            unit: false,\n            round: false,\n            isoWeekday: false,\n            minUnit: 'millisecond',\n            displayFormats: {}\n        },\n        ticks: {\n source: 'auto',\n            callback: false,\n            major: {\n                enabled: false\n            }\n        }\n    };\n constructor(props){\n        super(props);\n         this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n         this._unit = 'day';\n         this._majorUnit = undefined;\n        this._offsets = {};\n        this._normalized = false;\n        this._parseOpts = undefined;\n    }\n    init(scaleOpts, opts = {}) {\n        const time = scaleOpts.time || (scaleOpts.time = {});\n         const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n        adapter.init(opts);\n        mergeIf(time.displayFormats, adapter.formats());\n        this._parseOpts = {\n            parser: time.parser,\n            round: time.round,\n            isoWeekday: time.isoWeekday\n        };\n        super.init(scaleOpts);\n        this._normalized = opts.normalized;\n    }\n parse(raw, index) {\n        if (raw === undefined) {\n            return null;\n        }\n        return parse(this, raw);\n    }\n    beforeLayout() {\n        super.beforeLayout();\n        this._cache = {\n            data: [],\n            labels: [],\n            all: []\n        };\n    }\n    determineDataLimits() {\n        const options = this.options;\n        const adapter = this._adapter;\n        const unit = options.time.unit || 'day';\n        let { min , max , minDefined , maxDefined  } = this.getUserBounds();\n function _applyBounds(bounds) {\n            if (!minDefined && !isNaN(bounds.min)) {\n                min = Math.min(min, bounds.min);\n            }\n            if (!maxDefined && !isNaN(bounds.max)) {\n                max = Math.max(max, bounds.max);\n            }\n        }\n        if (!minDefined || !maxDefined) {\n            _applyBounds(this._getLabelBounds());\n            if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n                _applyBounds(this.getMinMax(false));\n            }\n        }\n        min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n        max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n        this.min = Math.min(min, max - 1);\n        this.max = Math.max(min + 1, max);\n    }\n _getLabelBounds() {\n        const arr = this.getLabelTimestamps();\n        let min = Number.POSITIVE_INFINITY;\n        let max = Number.NEGATIVE_INFINITY;\n        if (arr.length) {\n            min = arr[0];\n            max = arr[arr.length - 1];\n        }\n        return {\n            min,\n            max\n        };\n    }\n buildTicks() {\n        const options = this.options;\n        const timeOpts = options.time;\n        const tickOpts = options.ticks;\n        const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n        if (options.bounds === 'ticks' && timestamps.length) {\n            this.min = this._userMin || timestamps[0];\n            this.max = this._userMax || timestamps[timestamps.length - 1];\n        }\n        const min = this.min;\n        const max = this.max;\n        const ticks = _filterBetween(timestamps, min, max);\n        this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n        this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n        this.initOffsets(timestamps);\n        if (options.reverse) {\n            ticks.reverse();\n        }\n        return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n    afterAutoSkip() {\n        if (this.options.offsetAfterAutoskip) {\n            this.initOffsets(this.ticks.map((tick)=>+tick.value));\n        }\n    }\n initOffsets(timestamps = []) {\n        let start = 0;\n        let end = 0;\n        let first, last;\n        if (this.options.offset && timestamps.length) {\n            first = this.getDecimalForValue(timestamps[0]);\n            if (timestamps.length === 1) {\n                start = 1 - first;\n            } else {\n                start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n            }\n            last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n            if (timestamps.length === 1) {\n                end = last;\n            } else {\n                end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n            }\n        }\n        const limit = timestamps.length < 3 ? 0.5 : 0.25;\n        start = _limitValue(start, 0, limit);\n        end = _limitValue(end, 0, limit);\n        this._offsets = {\n            start,\n            end,\n            factor: 1 / (start + 1 + end)\n        };\n    }\n _generate() {\n        const adapter = this._adapter;\n        const min = this.min;\n        const max = this.max;\n        const options = this.options;\n        const timeOpts = options.time;\n        const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n        const stepSize = valueOrDefault(options.ticks.stepSize, 1);\n        const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n        const hasWeekday = isNumber(weekday) || weekday === true;\n        const ticks = {};\n        let first = min;\n        let time, count;\n        if (hasWeekday) {\n            first = +adapter.startOf(first, 'isoWeek', weekday);\n        }\n        first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n        if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n            throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n        }\n        const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n        for(time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++){\n            addTick(ticks, time, timestamps);\n        }\n        if (time === max || options.bounds === 'ticks' || count === 1) {\n            addTick(ticks, time, timestamps);\n        }\n        return Object.keys(ticks).sort(sorter).map((x)=>+x);\n    }\n getLabelForValue(value) {\n        const adapter = this._adapter;\n        const timeOpts = this.options.time;\n        if (timeOpts.tooltipFormat) {\n            return adapter.format(value, timeOpts.tooltipFormat);\n        }\n        return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n format(value, format) {\n        const options = this.options;\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const fmt = format || formats[unit];\n        return this._adapter.format(value, fmt);\n    }\n _tickFormatFunction(time, index, ticks, format) {\n        const options = this.options;\n        const formatter = options.ticks.callback;\n        if (formatter) {\n            return callback(formatter, [\n                time,\n                index,\n                ticks\n            ], this);\n        }\n        const formats = options.time.displayFormats;\n        const unit = this._unit;\n        const majorUnit = this._majorUnit;\n        const minorFormat = unit && formats[unit];\n        const majorFormat = majorUnit && formats[majorUnit];\n        const tick = ticks[index];\n        const major = majorUnit && majorFormat && tick && tick.major;\n        return this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    }\n generateTickLabels(ticks) {\n        let i, ilen, tick;\n        for(i = 0, ilen = ticks.length; i < ilen; ++i){\n            tick = ticks[i];\n            tick.label = this._tickFormatFunction(tick.value, i, ticks);\n        }\n    }\n getDecimalForValue(value) {\n        return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n getPixelForValue(value) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForValue(value);\n        return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return this.min + pos * (this.max - this.min);\n    }\n _getLabelSize(label) {\n        const ticksOpts = this.options.ticks;\n        const tickLabelWidth = this.ctx.measureText(label).width;\n        const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n        const cosRotation = Math.cos(angle);\n        const sinRotation = Math.sin(angle);\n        const tickFontSize = this._resolveTickFontOptions(0).size;\n        return {\n            w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n            h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n        };\n    }\n _getLabelCapacity(exampleTime) {\n        const timeOpts = this.options.time;\n        const displayFormats = timeOpts.displayFormats;\n        const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n        const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [\n            exampleTime\n        ], this._majorUnit), format);\n        const size = this._getLabelSize(exampleLabel);\n        const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n        return capacity > 0 ? capacity : 1;\n    }\n getDataTimestamps() {\n        let timestamps = this._cache.data || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const metas = this.getMatchingVisibleMetas();\n        if (this._normalized && metas.length) {\n            return this._cache.data = metas[0].controller.getAllParsedValues(this);\n        }\n        for(i = 0, ilen = metas.length; i < ilen; ++i){\n            timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n        }\n        return this._cache.data = this.normalize(timestamps);\n    }\n getLabelTimestamps() {\n        const timestamps = this._cache.labels || [];\n        let i, ilen;\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const labels = this.getLabels();\n        for(i = 0, ilen = labels.length; i < ilen; ++i){\n            timestamps.push(parse(this, labels[i]));\n        }\n        return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n normalize(values) {\n        return _arrayUnique(values.sort(sorter));\n    }\n}\n\nfunction interpolate(table, val, reverse) {\n    let lo = 0;\n    let hi = table.length - 1;\n    let prevSource, nextSource, prevTarget, nextTarget;\n    if (reverse) {\n        if (val >= table[lo].pos && val <= table[hi].pos) {\n            ({ lo , hi  } = _lookupByKey(table, 'pos', val));\n        }\n        ({ pos: prevSource , time: prevTarget  } = table[lo]);\n        ({ pos: nextSource , time: nextTarget  } = table[hi]);\n    } else {\n        if (val >= table[lo].time && val <= table[hi].time) {\n            ({ lo , hi  } = _lookupByKey(table, 'time', val));\n        }\n        ({ time: prevSource , pos: prevTarget  } = table[lo]);\n        ({ time: nextSource , pos: nextTarget  } = table[hi]);\n    }\n    const span = nextSource - prevSource;\n    return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n    static id = 'timeseries';\n static defaults = TimeScale.defaults;\n constructor(props){\n        super(props);\n         this._table = [];\n         this._minPos = undefined;\n         this._tableRange = undefined;\n    }\n initOffsets() {\n        const timestamps = this._getTimestampsForTable();\n        const table = this._table = this.buildLookupTable(timestamps);\n        this._minPos = interpolate(table, this.min);\n        this._tableRange = interpolate(table, this.max) - this._minPos;\n        super.initOffsets(timestamps);\n    }\n buildLookupTable(timestamps) {\n        const { min , max  } = this;\n        const items = [];\n        const table = [];\n        let i, ilen, prev, curr, next;\n        for(i = 0, ilen = timestamps.length; i < ilen; ++i){\n            curr = timestamps[i];\n            if (curr >= min && curr <= max) {\n                items.push(curr);\n            }\n        }\n        if (items.length < 2) {\n            return [\n                {\n                    time: min,\n                    pos: 0\n                },\n                {\n                    time: max,\n                    pos: 1\n                }\n            ];\n        }\n        for(i = 0, ilen = items.length; i < ilen; ++i){\n            next = items[i + 1];\n            prev = items[i - 1];\n            curr = items[i];\n            if (Math.round((next + prev) / 2) !== curr) {\n                table.push({\n                    time: curr,\n                    pos: i / (ilen - 1)\n                });\n            }\n        }\n        return table;\n    }\n _generate() {\n        const min = this.min;\n        const max = this.max;\n        let timestamps = super.getDataTimestamps();\n        if (!timestamps.includes(min) || !timestamps.length) {\n            timestamps.splice(0, 0, min);\n        }\n        if (!timestamps.includes(max) || timestamps.length === 1) {\n            timestamps.push(max);\n        }\n        return timestamps.sort((a, b)=>a - b);\n    }\n _getTimestampsForTable() {\n        let timestamps = this._cache.all || [];\n        if (timestamps.length) {\n            return timestamps;\n        }\n        const data = this.getDataTimestamps();\n        const label = this.getLabelTimestamps();\n        if (data.length && label.length) {\n            timestamps = this.normalize(data.concat(label));\n        } else {\n            timestamps = data.length ? data : label;\n        }\n        timestamps = this._cache.all = timestamps;\n        return timestamps;\n    }\n getDecimalForValue(value) {\n        return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n getValueForPixel(pixel) {\n        const offsets = this._offsets;\n        const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n        return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n}\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n    controllers,\n    elements,\n    plugins,\n    scales\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, plugin_colors as Colors, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, index as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, defaults, elements, layouts, plugins, registerables, registry, scales };\n//# sourceMappingURL=chart.js.map\n","/*!\n* chartjs-plugin-annotation v3.1.0\n* https://www.chartjs.org/chartjs-plugin-annotation/index\n * (c) 2024 chartjs-plugin-annotation Contributors\n * Released under the MIT License\n */\nimport { Element, DoughnutController, defaults, Animations, Chart } from 'chart.js';\nimport { distanceBetweenPoints, toRadians, isObject, valueOrDefault, defined, isFunction, callback, isArray, toFont, addRoundedRectPath, toTRBLCorners, QUARTER_PI, PI, HALF_PI, TWO_THIRDS_PI, TAU, isNumber, RAD_PER_DEG, toPadding, isFinite, getAngleFromPoint, toDegrees, clipArea, unclipArea } from 'chart.js/helpers';\n\n/**\n * @typedef { import(\"chart.js\").ChartEvent } ChartEvent\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\nconst interaction = {\n  modes: {\n    /**\n     * Point mode returns all elements that hit test based on the event position\n     * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n     * @param {ChartEvent} event - the event we are find things at\n     * @return {AnnotationElement[]} - elements that are found\n     */\n    point(visibleElements, event) {\n      return filterElements(visibleElements, event, {intersect: true});\n    },\n\n    /**\n     * Nearest mode returns the element closest to the event position\n     * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n     * @param {ChartEvent} event - the event we are find things at\n     * @param {Object} options - interaction options to use\n     * @return {AnnotationElement[]} - elements that are found (only 1 element)\n     */\n    nearest(visibleElements, event, options) {\n      return getNearestItem(visibleElements, event, options);\n    },\n    /**\n     * x mode returns the elements that hit-test at the current x coordinate\n     * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n     * @param {ChartEvent} event - the event we are find things at\n     * @param {Object} options - interaction options to use\n     * @return {AnnotationElement[]} - elements that are found\n     */\n    x(visibleElements, event, options) {\n      return filterElements(visibleElements, event, {intersect: options.intersect, axis: 'x'});\n    },\n\n    /**\n     * y mode returns the elements that hit-test at the current y coordinate\n     * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n     * @param {ChartEvent} event - the event we are find things at\n     * @param {Object} options - interaction options to use\n     * @return {AnnotationElement[]} - elements that are found\n     */\n    y(visibleElements, event, options) {\n      return filterElements(visibleElements, event, {intersect: options.intersect, axis: 'y'});\n    }\n  }\n};\n\n/**\n * Returns all elements that hit test based on the event position\n * @param {AnnotationElement[]} visibleElements - annotation elements which are visible\n * @param {ChartEvent} event - the event we are find things at\n * @param {Object} options - interaction options to use\n * @return {AnnotationElement[]} - elements that are found\n */\nfunction getElements(visibleElements, event, options) {\n  const mode = interaction.modes[options.mode] || interaction.modes.nearest;\n  return mode(visibleElements, event, options);\n}\n\nfunction inRangeByAxis(element, event, axis) {\n  if (axis !== 'x' && axis !== 'y') {\n    return element.inRange(event.x, event.y, 'x', true) || element.inRange(event.x, event.y, 'y', true);\n  }\n  return element.inRange(event.x, event.y, axis, true);\n}\n\nfunction getPointByAxis(event, center, axis) {\n  if (axis === 'x') {\n    return {x: event.x, y: center.y};\n  } else if (axis === 'y') {\n    return {x: center.x, y: event.y};\n  }\n  return center;\n}\n\nfunction filterElements(visibleElements, event, options) {\n  return visibleElements.filter((element) => options.intersect ? element.inRange(event.x, event.y) : inRangeByAxis(element, event, options.axis));\n}\n\nfunction getNearestItem(visibleElements, event, options) {\n  let minDistance = Number.POSITIVE_INFINITY;\n\n  return filterElements(visibleElements, event, options)\n    .reduce((nearestItems, element) => {\n      const center = element.getCenterPoint();\n      const evenPoint = getPointByAxis(event, center, options.axis);\n      const distance = distanceBetweenPoints(event, evenPoint);\n      if (distance < minDistance) {\n        nearestItems = [element];\n        minDistance = distance;\n      } else if (distance === minDistance) {\n        // Can have multiple items at the same distance in which case we sort by size\n        nearestItems.push(element);\n      }\n\n      return nearestItems;\n    }, [])\n    .sort((a, b) => a._index - b._index)\n    .slice(0, 1); // return only the top item;\n}\n\n/**\n * @typedef {import('chart.js').Point} Point\n */\n\n/**\n * Rotate a `point` relative to `center` point by `angle`\n * @param {Point} point - the point to rotate\n * @param {Point} center - center point for rotation\n * @param {number} angle - angle for rotation, in radians\n * @returns {Point} rotated point\n */\nfunction rotated(point, center, angle) {\n  const cos = Math.cos(angle);\n  const sin = Math.sin(angle);\n  const cx = center.x;\n  const cy = center.y;\n\n  return {\n    x: cx + cos * (point.x - cx) - sin * (point.y - cy),\n    y: cy + sin * (point.x - cx) + cos * (point.y - cy)\n  };\n}\n\nconst isOlderPart = (act, req) => req > act || (act.length > req.length && act.slice(0, req.length) === req);\n\n/**\n * @typedef { import('chart.js').Point } Point\n * @typedef { import('chart.js').InteractionAxis } InteractionAxis\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\nconst EPSILON = 0.001;\nconst clamp = (x, from, to) => Math.min(to, Math.max(from, x));\n\n/**\n * @param {{value: number, start: number, end: number}} limit\n * @param {number} hitSize\n * @returns {boolean}\n */\nconst inLimit = (limit, hitSize) => limit.value >= limit.start - hitSize && limit.value <= limit.end + hitSize;\n\n/**\n * @param {Object} obj\n * @param {number} from\n * @param {number} to\n * @returns {Object}\n */\nfunction clampAll(obj, from, to) {\n  for (const key of Object.keys(obj)) {\n    obj[key] = clamp(obj[key], from, to);\n  }\n  return obj;\n}\n\n/**\n * @param {Point} point\n * @param {Point} center\n * @param {number} radius\n * @param {number} hitSize\n * @returns {boolean}\n */\nfunction inPointRange(point, center, radius, hitSize) {\n  if (!point || !center || radius <= 0) {\n    return false;\n  }\n  return (Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2)) <= Math.pow(radius + hitSize, 2);\n}\n\n/**\n * @param {Point} point\n * @param {{x: number, y: number, x2: number, y2: number}} rect\n * @param {InteractionAxis} axis\n * @param {{borderWidth: number, hitTolerance: number}} hitsize\n * @returns {boolean}\n */\nfunction inBoxRange(point, {x, y, x2, y2}, axis, {borderWidth, hitTolerance}) {\n  const hitSize = (borderWidth + hitTolerance) / 2;\n  const inRangeX = point.x >= x - hitSize - EPSILON && point.x <= x2 + hitSize + EPSILON;\n  const inRangeY = point.y >= y - hitSize - EPSILON && point.y <= y2 + hitSize + EPSILON;\n  if (axis === 'x') {\n    return inRangeX;\n  } else if (axis === 'y') {\n    return inRangeY;\n  }\n  return inRangeX && inRangeY;\n}\n\n/**\n * @param {Point} point\n * @param {rect: {x: number, y: number, x2: number, y2: number}, center: {x: number, y: number}} element\n * @param {InteractionAxis} axis\n * @param {{rotation: number, borderWidth: number, hitTolerance: number}}\n * @returns {boolean}\n */\nfunction inLabelRange(point, {rect, center}, axis, {rotation, borderWidth, hitTolerance}) {\n  const rotPoint = rotated(point, center, toRadians(-rotation));\n  return inBoxRange(rotPoint, rect, axis, {borderWidth, hitTolerance});\n}\n\n/**\n * @param {AnnotationElement} element\n * @param {boolean} useFinalPosition\n * @returns {Point}\n */\nfunction getElementCenterPoint(element, useFinalPosition) {\n  const {centerX, centerY} = element.getProps(['centerX', 'centerY'], useFinalPosition);\n  return {x: centerX, y: centerY};\n}\n\n/**\n * @param {string} pkg\n * @param {string} min\n * @param {string} ver\n * @param {boolean} [strict=true]\n * @returns {boolean}\n */\nfunction requireVersion(pkg, min, ver, strict = true) {\n  const parts = ver.split('.');\n  let i = 0;\n  for (const req of min.split('.')) {\n    const act = parts[i++];\n    if (parseInt(req, 10) < parseInt(act, 10)) {\n      break;\n    }\n    if (isOlderPart(act, req)) {\n      if (strict) {\n        throw new Error(`${pkg} v${ver} is not supported. v${min} or newer is required.`);\n      } else {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nconst isPercentString = (s) => typeof s === 'string' && s.endsWith('%');\nconst toPercent = (s) => parseFloat(s) / 100;\nconst toPositivePercent = (s) => clamp(toPercent(s), 0, 1);\n\nconst boxAppering = (x, y) => ({x, y, x2: x, y2: y, width: 0, height: 0});\nconst defaultInitAnimation = {\n  box: (properties) => boxAppering(properties.centerX, properties.centerY),\n  doughnutLabel: (properties) => boxAppering(properties.centerX, properties.centerY),\n  ellipse: (properties) => ({centerX: properties.centerX, centerY: properties.centerX, radius: 0, width: 0, height: 0}),\n  label: (properties) => boxAppering(properties.centerX, properties.centerY),\n  line: (properties) => boxAppering(properties.x, properties.y),\n  point: (properties) => ({centerX: properties.centerX, centerY: properties.centerY, radius: 0, width: 0, height: 0}),\n  polygon: (properties) => boxAppering(properties.centerX, properties.centerY)\n};\n\n/**\n * @typedef { import('chart.js').FontSpec } FontSpec\n * @typedef { import('chart.js').Point } Point\n * @typedef { import('chart.js').Padding } Padding\n * @typedef { import('../../types/element').AnnotationBoxModel } AnnotationBoxModel\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n * @typedef { import('../../types/options').AnnotationPointCoordinates } AnnotationPointCoordinates\n * @typedef { import('../../types/label').CoreLabelOptions } CoreLabelOptions\n * @typedef { import('../../types/label').LabelPositionObject } LabelPositionObject\n */\n\n/**\n * @param {number} size\n * @param {number|string} position\n * @returns {number}\n */\nfunction getRelativePosition(size, position) {\n  if (position === 'start') {\n    return 0;\n  }\n  if (position === 'end') {\n    return size;\n  }\n  if (isPercentString(position)) {\n    return toPositivePercent(position) * size;\n  }\n  return size / 2;\n}\n\n/**\n * @param {number} size\n * @param {number|string} value\n * @param {boolean} [positivePercent=true]\n * @returns {number}\n */\nfunction getSize(size, value, positivePercent = true) {\n  if (typeof value === 'number') {\n    return value;\n  } else if (isPercentString(value)) {\n    return (positivePercent ? toPositivePercent(value) : toPercent(value)) * size;\n  }\n  return size;\n}\n\n/**\n * @param {{x: number, width: number}} size\n * @param {CoreLabelOptions} options\n * @returns {number}\n */\nfunction calculateTextAlignment(size, options) {\n  const {x, width} = size;\n  const textAlign = options.textAlign;\n  if (textAlign === 'center') {\n    return x + width / 2;\n  } else if (textAlign === 'end' || textAlign === 'right') {\n    return x + width;\n  }\n  return x;\n}\n\n/**\n * @param {Point} point\n * @param {{height: number, width: number}} labelSize\n * @param {{borderWidth: number, position: {LabelPositionObject|string}, xAdjust: number, yAdjust: number}} options\n * @param {Padding|undefined} padding\n * @returns {{x: number, y: number, x2: number, y2: number, height: number, width: number, centerX: number, centerY: number}}\n */\nfunction measureLabelRectangle(point, labelSize, {borderWidth, position, xAdjust, yAdjust}, padding) {\n  const hasPadding = isObject(padding);\n  const width = labelSize.width + (hasPadding ? padding.width : 0) + borderWidth;\n  const height = labelSize.height + (hasPadding ? padding.height : 0) + borderWidth;\n  const positionObj = toPosition(position);\n  const x = calculateLabelPosition$1(point.x, width, xAdjust, positionObj.x);\n  const y = calculateLabelPosition$1(point.y, height, yAdjust, positionObj.y);\n\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n    width,\n    height,\n    centerX: x + width / 2,\n    centerY: y + height / 2\n  };\n}\n\n/**\n * @param {LabelPositionObject|string} value\n * @param {string|number} defaultValue\n * @returns {LabelPositionObject}\n */\nfunction toPosition(value, defaultValue = 'center') {\n  if (isObject(value)) {\n    return {\n      x: valueOrDefault(value.x, defaultValue),\n      y: valueOrDefault(value.y, defaultValue),\n    };\n  }\n  value = valueOrDefault(value, defaultValue);\n  return {\n    x: value,\n    y: value\n  };\n}\n\n/**\n * @param {CoreLabelOptions} options\n * @param {number} fitRatio\n * @returns {boolean}\n */\nconst shouldFit = (options, fitRatio) => options && options.autoFit && fitRatio < 1;\n\n/**\n * @param {CoreLabelOptions} options\n * @param {number} fitRatio\n * @returns {FontSpec[]}\n */\nfunction toFonts(options, fitRatio) {\n  const optFont = options.font;\n  const fonts = isArray(optFont) ? optFont : [optFont];\n  if (shouldFit(options, fitRatio)) {\n    return fonts.map(function(f) {\n      const font = toFont(f);\n      font.size = Math.floor(f.size * fitRatio);\n      font.lineHeight = f.lineHeight;\n      return toFont(font);\n    });\n  }\n  return fonts.map(f => toFont(f));\n}\n\n/**\n * @param {AnnotationPointCoordinates} options\n * @returns {boolean}\n */\nfunction isBoundToPoint(options) {\n  return options && (defined(options.xValue) || defined(options.yValue));\n}\n\nfunction calculateLabelPosition$1(start, size, adjust = 0, position) {\n  return start - getRelativePosition(size, position) + adjust;\n}\n\n/**\n * @param {Chart} chart\n * @param {AnnotationBoxModel} properties\n * @param {CoreAnnotationOptions} options\n * @returns {AnnotationElement}\n */\nfunction initAnimationProperties(chart, properties, options) {\n  const initAnim = options.init;\n  if (!initAnim) {\n    return;\n  } else if (initAnim === true) {\n    return applyDefault(properties, options);\n  }\n  return execCallback(chart, properties, options);\n}\n\n/**\n * @param {Object} options\n * @param {Array} hooks\n * @param {Object} hooksContainer\n * @returns {boolean}\n */\nfunction loadHooks(options, hooks, hooksContainer) {\n  let activated = false;\n  hooks.forEach(hook => {\n    if (isFunction(options[hook])) {\n      activated = true;\n      hooksContainer[hook] = options[hook];\n    } else if (defined(hooksContainer[hook])) {\n      delete hooksContainer[hook];\n    }\n  });\n  return activated;\n}\n\nfunction applyDefault(properties, options) {\n  const type = options.type || 'line';\n  return defaultInitAnimation[type](properties);\n}\n\nfunction execCallback(chart, properties, options) {\n  const result = callback(options.init, [{chart, properties, options}]);\n  if (result === true) {\n    return applyDefault(properties, options);\n  } else if (isObject(result)) {\n    return result;\n  }\n}\n\nconst widthCache = new Map();\nconst notRadius = (radius) => isNaN(radius) || radius <= 0;\nconst fontsKey = (fonts) => fonts.reduce(function(prev, item) {\n  prev += item.string;\n  return prev;\n}, '');\n\n/**\n * @typedef { import('chart.js').Point } Point\n * @typedef { import('../../types/label').CoreLabelOptions } CoreLabelOptions\n * @typedef { import('../../types/options').PointAnnotationOptions } PointAnnotationOptions\n */\n\n/**\n * Determine if content is an image or a canvas.\n * @param {*} content\n * @returns boolean|undefined\n * @todo move this function to chart.js helpers\n */\nfunction isImageOrCanvas(content) {\n  if (content && typeof content === 'object') {\n    const type = content.toString();\n    return (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]');\n  }\n}\n\n/**\n * Set the translation on the canvas if the rotation must be applied.\n * @param {CanvasRenderingContext2D} ctx - chart canvas context\n * @param {Point} point - the point of translation\n * @param {number} rotation - rotation (in degrees) to apply\n */\nfunction translate(ctx, {x, y}, rotation) {\n  if (rotation) {\n    ctx.translate(x, y);\n    ctx.rotate(toRadians(rotation));\n    ctx.translate(-x, -y);\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {Object} options\n * @returns {boolean|undefined}\n */\nfunction setBorderStyle(ctx, options) {\n  if (options && options.borderWidth) {\n    ctx.lineCap = options.borderCapStyle || 'butt';\n    ctx.setLineDash(options.borderDash);\n    ctx.lineDashOffset = options.borderDashOffset;\n    ctx.lineJoin = options.borderJoinStyle || 'miter';\n    ctx.lineWidth = options.borderWidth;\n    ctx.strokeStyle = options.borderColor;\n    return true;\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {Object} options\n */\nfunction setShadowStyle(ctx, options) {\n  ctx.shadowColor = options.backgroundShadowColor;\n  ctx.shadowBlur = options.shadowBlur;\n  ctx.shadowOffsetX = options.shadowOffsetX;\n  ctx.shadowOffsetY = options.shadowOffsetY;\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {CoreLabelOptions} options\n * @returns {{width: number, height: number}}\n */\nfunction measureLabelSize(ctx, options) {\n  const content = options.content;\n  if (isImageOrCanvas(content)) {\n    const size = {\n      width: getSize(content.width, options.width),\n      height: getSize(content.height, options.height)\n    };\n    return size;\n  }\n  const fonts = toFonts(options);\n  const strokeWidth = options.textStrokeWidth;\n  const lines = isArray(content) ? content : [content];\n  const mapKey = lines.join() + fontsKey(fonts) + strokeWidth + (ctx._measureText ? '-spriting' : '');\n  if (!widthCache.has(mapKey)) {\n    widthCache.set(mapKey, calculateLabelSize(ctx, lines, fonts, strokeWidth));\n  }\n  return widthCache.get(mapKey);\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {{x: number, y: number, width: number, height: number}} rect\n * @param {Object} options\n */\nfunction drawBox(ctx, rect, options) {\n  const {x, y, width, height} = rect;\n  ctx.save();\n  setShadowStyle(ctx, options);\n  const stroke = setBorderStyle(ctx, options);\n  ctx.fillStyle = options.backgroundColor;\n  ctx.beginPath();\n  addRoundedRectPath(ctx, {\n    x, y, w: width, h: height,\n    radius: clampAll(toTRBLCorners(options.borderRadius), 0, Math.min(width, height) / 2)\n  });\n  ctx.closePath();\n  ctx.fill();\n  if (stroke) {\n    ctx.shadowColor = options.borderShadowColor;\n    ctx.stroke();\n  }\n  ctx.restore();\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {{x: number, y: number, width: number, height: number}} rect\n * @param {CoreLabelOptions} options\n * @param {number} fitRatio\n */\nfunction drawLabel(ctx, rect, options, fitRatio) {\n  const content = options.content;\n  if (isImageOrCanvas(content)) {\n    ctx.save();\n    ctx.globalAlpha = getOpacity(options.opacity, content.style.opacity);\n    ctx.drawImage(content, rect.x, rect.y, rect.width, rect.height);\n    ctx.restore();\n    return;\n  }\n  const labels = isArray(content) ? content : [content];\n  const fonts = toFonts(options, fitRatio);\n  const optColor = options.color;\n  const colors = isArray(optColor) ? optColor : [optColor];\n  const x = calculateTextAlignment(rect, options);\n  const y = rect.y + options.textStrokeWidth / 2;\n  ctx.save();\n  ctx.textBaseline = 'middle';\n  ctx.textAlign = options.textAlign;\n  if (setTextStrokeStyle(ctx, options)) {\n    applyLabelDecoration(ctx, {x, y}, labels, fonts);\n  }\n  applyLabelContent(ctx, {x, y}, labels, {fonts, colors});\n  ctx.restore();\n}\n\nfunction setTextStrokeStyle(ctx, options) {\n  if (options.textStrokeWidth > 0) {\n    // https://stackoverflow.com/questions/13627111/drawing-text-with-an-outer-stroke-with-html5s-canvas\n    ctx.lineJoin = 'round';\n    ctx.miterLimit = 2;\n    ctx.lineWidth = options.textStrokeWidth;\n    ctx.strokeStyle = options.textStrokeColor;\n    return true;\n  }\n}\n\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {{radius: number, options: PointAnnotationOptions}} element\n * @param {number} x\n * @param {number} y\n */\nfunction drawPoint(ctx, element, x, y) {\n  const {radius, options} = element;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n\n  if (isImageOrCanvas(style)) {\n    ctx.save();\n    ctx.translate(x, y);\n    ctx.rotate(rad);\n    ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n    ctx.restore();\n    return;\n  }\n  if (notRadius(radius)) {\n    return;\n  }\n  drawPointStyle(ctx, {x, y, radius, rotation, style, rad});\n}\n\nfunction drawPointStyle(ctx, {x, y, radius, rotation, style, rad}) {\n  let xOffset, yOffset, size, cornerRadius;\n  ctx.beginPath();\n\n  switch (style) {\n  // Default includes circle\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    // NOTE: the rounded rect implementation changed to use `arc` instead of\n    // `quadraticCurveTo` since it generates better results when rect is\n    // almost a circle. 0.516 (instead of 0.5) produces results with visually\n    // closer proportion to the previous impl and it is inscribed in the\n    // circle with `radius`. For more details, see the following PRs:\n    // https://github.com/chartjs/Chart.js/issues/5597\n    // https://github.com/chartjs/Chart.js/issues/5858\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n    /* falls through */\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n    /* falls through */\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n\n  ctx.fill();\n}\n\nfunction calculateLabelSize(ctx, lines, fonts, strokeWidth) {\n  ctx.save();\n  const count = lines.length;\n  let width = 0;\n  let height = strokeWidth;\n  for (let i = 0; i < count; i++) {\n    const font = fonts[Math.min(i, fonts.length - 1)];\n    ctx.font = font.string;\n    const text = lines[i];\n    width = Math.max(width, ctx.measureText(text).width + strokeWidth);\n    height += font.lineHeight;\n  }\n  ctx.restore();\n  return {width, height};\n}\n\nfunction applyLabelDecoration(ctx, {x, y}, labels, fonts) {\n  ctx.beginPath();\n  let lhs = 0;\n  labels.forEach(function(l, i) {\n    const f = fonts[Math.min(i, fonts.length - 1)];\n    const lh = f.lineHeight;\n    ctx.font = f.string;\n    ctx.strokeText(l, x, y + lh / 2 + lhs);\n    lhs += lh;\n  });\n  ctx.stroke();\n}\n\nfunction applyLabelContent(ctx, {x, y}, labels, {fonts, colors}) {\n  let lhs = 0;\n  labels.forEach(function(l, i) {\n    const c = colors[Math.min(i, colors.length - 1)];\n    const f = fonts[Math.min(i, fonts.length - 1)];\n    const lh = f.lineHeight;\n    ctx.beginPath();\n    ctx.font = f.string;\n    ctx.fillStyle = c;\n    ctx.fillText(l, x, y + lh / 2 + lhs);\n    lhs += lh;\n    ctx.fill();\n  });\n}\n\nfunction getOpacity(value, elementValue) {\n  const opacity = isNumber(value) ? value : elementValue;\n  return isNumber(opacity) ? clamp(opacity, 0, 1) : 1;\n}\n\nconst positions = ['left', 'bottom', 'top', 'right'];\n\n/**\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\n/**\n * Drawa the callout component for labels.\n * @param {CanvasRenderingContext2D} ctx - chart canvas context\n * @param {AnnotationElement} element - the label element\n */\nfunction drawCallout(ctx, element) {\n  const {pointX, pointY, options} = element;\n  const callout = options.callout;\n  const calloutPosition = callout && callout.display && resolveCalloutPosition(element, callout);\n  if (!calloutPosition || isPointInRange(element, callout, calloutPosition)) {\n    return;\n  }\n\n  ctx.save();\n  ctx.beginPath();\n  const stroke = setBorderStyle(ctx, callout);\n  if (!stroke) {\n    return ctx.restore();\n  }\n  const {separatorStart, separatorEnd} = getCalloutSeparatorCoord(element, calloutPosition);\n  const {sideStart, sideEnd} = getCalloutSideCoord(element, calloutPosition, separatorStart);\n  if (callout.margin > 0 || options.borderWidth === 0) {\n    ctx.moveTo(separatorStart.x, separatorStart.y);\n    ctx.lineTo(separatorEnd.x, separatorEnd.y);\n  }\n  ctx.moveTo(sideStart.x, sideStart.y);\n  ctx.lineTo(sideEnd.x, sideEnd.y);\n  const rotatedPoint = rotated({x: pointX, y: pointY}, element.getCenterPoint(), toRadians(-element.rotation));\n  ctx.lineTo(rotatedPoint.x, rotatedPoint.y);\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction getCalloutSeparatorCoord(element, position) {\n  const {x, y, x2, y2} = element;\n  const adjust = getCalloutSeparatorAdjust(element, position);\n  let separatorStart, separatorEnd;\n  if (position === 'left' || position === 'right') {\n    separatorStart = {x: x + adjust, y};\n    separatorEnd = {x: separatorStart.x, y: y2};\n  } else {\n    //  position 'top' or 'bottom'\n    separatorStart = {x, y: y + adjust};\n    separatorEnd = {x: x2, y: separatorStart.y};\n  }\n  return {separatorStart, separatorEnd};\n}\n\nfunction getCalloutSeparatorAdjust(element, position) {\n  const {width, height, options} = element;\n  const adjust = options.callout.margin + options.borderWidth / 2;\n  if (position === 'right') {\n    return width + adjust;\n  } else if (position === 'bottom') {\n    return height + adjust;\n  }\n  return -adjust;\n}\n\nfunction getCalloutSideCoord(element, position, separatorStart) {\n  const {y, width, height, options} = element;\n  const start = options.callout.start;\n  const side = getCalloutSideAdjust(position, options.callout);\n  let sideStart, sideEnd;\n  if (position === 'left' || position === 'right') {\n    sideStart = {x: separatorStart.x, y: y + getSize(height, start)};\n    sideEnd = {x: sideStart.x + side, y: sideStart.y};\n  } else {\n    //  position 'top' or 'bottom'\n    sideStart = {x: separatorStart.x + getSize(width, start), y: separatorStart.y};\n    sideEnd = {x: sideStart.x, y: sideStart.y + side};\n  }\n  return {sideStart, sideEnd};\n}\n\nfunction getCalloutSideAdjust(position, options) {\n  const side = options.side;\n  if (position === 'left' || position === 'top') {\n    return -side;\n  }\n  return side;\n}\n\nfunction resolveCalloutPosition(element, options) {\n  const position = options.position;\n  if (positions.includes(position)) {\n    return position;\n  }\n  return resolveCalloutAutoPosition(element, options);\n}\n\nfunction resolveCalloutAutoPosition(element, options) {\n  const {x, y, x2, y2, width, height, pointX, pointY, centerX, centerY, rotation} = element;\n  const center = {x: centerX, y: centerY};\n  const start = options.start;\n  const xAdjust = getSize(width, start);\n  const yAdjust = getSize(height, start);\n  const xPoints = [x, x + xAdjust, x + xAdjust, x2];\n  const yPoints = [y + yAdjust, y2, y, y2];\n  const result = [];\n  for (let index = 0; index < 4; index++) {\n    const rotatedPoint = rotated({x: xPoints[index], y: yPoints[index]}, center, toRadians(rotation));\n    result.push({\n      position: positions[index],\n      distance: distanceBetweenPoints(rotatedPoint, {x: pointX, y: pointY})\n    });\n  }\n  return result.sort((a, b) => a.distance - b.distance)[0].position;\n}\n\nfunction isPointInRange(element, callout, position) {\n  const {pointX, pointY} = element;\n  const margin = callout.margin;\n  let x = pointX;\n  let y = pointY;\n  if (position === 'left') {\n    x += margin;\n  } else if (position === 'right') {\n    x -= margin;\n  } else if (position === 'top') {\n    y += margin;\n  } else if (position === 'bottom') {\n    y -= margin;\n  }\n  return element.inRange(x, y);\n}\n\nconst limitedLineScale = {\n  xScaleID: {min: 'xMin', max: 'xMax', start: 'left', end: 'right', startProp: 'x', endProp: 'x2'},\n  yScaleID: {min: 'yMin', max: 'yMax', start: 'bottom', end: 'top', startProp: 'y', endProp: 'y2'}\n};\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import(\"chart.js\").Scale } Scale\n * @typedef { import(\"chart.js\").Point } Point\n * @typedef { import('../../types/element').AnnotationBoxModel } AnnotationBoxModel\n * @typedef { import('../../types/options').CoreAnnotationOptions } CoreAnnotationOptions\n * @typedef { import('../../types/options').LineAnnotationOptions } LineAnnotationOptions\n * @typedef { import('../../types/options').PointAnnotationOptions } PointAnnotationOptions\n * @typedef { import('../../types/options').PolygonAnnotationOptions } PolygonAnnotationOptions\n */\n\n/**\n * @param {Scale} scale\n * @param {number|string} value\n * @param {number} fallback\n * @returns {number}\n */\nfunction scaleValue(scale, value, fallback) {\n  value = typeof value === 'number' ? value : scale.parse(value);\n  return isFinite(value) ? scale.getPixelForValue(value) : fallback;\n}\n\n/**\n * Search the scale defined in chartjs by the axis related to the annotation options key.\n * @param {{ [key: string]: Scale }} scales\n * @param {CoreAnnotationOptions} options\n * @param {string} key\n * @returns {string}\n */\nfunction retrieveScaleID(scales, options, key) {\n  const scaleID = options[key];\n  if (scaleID || key === 'scaleID') {\n    return scaleID;\n  }\n  const axis = key.charAt(0);\n  const axes = Object.values(scales).filter((scale) => scale.axis && scale.axis === axis);\n  if (axes.length) {\n    return axes[0].id;\n  }\n  return axis;\n}\n\n/**\n * @param {Scale} scale\n * @param {{min: number, max: number, start: number, end: number}} options\n * @returns {{start: number, end: number}|undefined}\n */\nfunction getDimensionByScale(scale, options) {\n  if (scale) {\n    const reverse = scale.options.reverse;\n    const start = scaleValue(scale, options.min, reverse ? options.end : options.start);\n    const end = scaleValue(scale, options.max, reverse ? options.start : options.end);\n    return {\n      start,\n      end\n    };\n  }\n}\n\n/**\n * @param {Chart} chart\n * @param {CoreAnnotationOptions} options\n * @returns {Point}\n */\nfunction getChartPoint(chart, options) {\n  const {chartArea, scales} = chart;\n  const xScale = scales[retrieveScaleID(scales, options, 'xScaleID')];\n  const yScale = scales[retrieveScaleID(scales, options, 'yScaleID')];\n  let x = chartArea.width / 2;\n  let y = chartArea.height / 2;\n\n  if (xScale) {\n    x = scaleValue(xScale, options.xValue, xScale.left + xScale.width / 2);\n  }\n\n  if (yScale) {\n    y = scaleValue(yScale, options.yValue, yScale.top + yScale.height / 2);\n  }\n  return {x, y};\n}\n\n/**\n * @param {Chart} chart\n * @param {CoreAnnotationOptions} options\n * @returns {AnnotationBoxModel}\n */\nfunction resolveBoxProperties(chart, options) {\n  const scales = chart.scales;\n  const xScale = scales[retrieveScaleID(scales, options, 'xScaleID')];\n  const yScale = scales[retrieveScaleID(scales, options, 'yScaleID')];\n\n  if (!xScale && !yScale) {\n    return {};\n  }\n\n  let {left: x, right: x2} = xScale || chart.chartArea;\n  let {top: y, bottom: y2} = yScale || chart.chartArea;\n  const xDim = getChartDimensionByScale(xScale, {min: options.xMin, max: options.xMax, start: x, end: x2});\n  x = xDim.start;\n  x2 = xDim.end;\n  const yDim = getChartDimensionByScale(yScale, {min: options.yMin, max: options.yMax, start: y2, end: y});\n  y = yDim.start;\n  y2 = yDim.end;\n\n  return {\n    x,\n    y,\n    x2,\n    y2,\n    width: x2 - x,\n    height: y2 - y,\n    centerX: x + (x2 - x) / 2,\n    centerY: y + (y2 - y) / 2\n  };\n}\n\n/**\n * @param {Chart} chart\n * @param {PointAnnotationOptions|PolygonAnnotationOptions} options\n * @returns {AnnotationBoxModel}\n */\nfunction resolvePointProperties(chart, options) {\n  if (!isBoundToPoint(options)) {\n    const box = resolveBoxProperties(chart, options);\n    let radius = options.radius;\n    if (!radius || isNaN(radius)) {\n      radius = Math.min(box.width, box.height) / 2;\n      options.radius = radius;\n    }\n    const size = radius * 2;\n    const adjustCenterX = box.centerX + options.xAdjust;\n    const adjustCenterY = box.centerY + options.yAdjust;\n    return {\n      x: adjustCenterX - radius,\n      y: adjustCenterY - radius,\n      x2: adjustCenterX + radius,\n      y2: adjustCenterY + radius,\n      centerX: adjustCenterX,\n      centerY: adjustCenterY,\n      width: size,\n      height: size,\n      radius\n    };\n  }\n  return getChartCircle(chart, options);\n}\n/**\n * @param {Chart} chart\n * @param {LineAnnotationOptions} options\n * @returns {AnnotationBoxModel}\n */\nfunction resolveLineProperties(chart, options) {\n  const {scales, chartArea} = chart;\n  const scale = scales[options.scaleID];\n  const area = {x: chartArea.left, y: chartArea.top, x2: chartArea.right, y2: chartArea.bottom};\n\n  if (scale) {\n    resolveFullLineProperties(scale, area, options);\n  } else {\n    resolveLimitedLineProperties(scales, area, options);\n  }\n  return area;\n}\n\n/**\n * @param {Chart} chart\n * @param {CoreAnnotationOptions} options\n * @param {boolean} [centerBased=false]\n * @returns {AnnotationBoxModel}\n */\nfunction resolveBoxAndLabelProperties(chart, options) {\n  const properties = resolveBoxProperties(chart, options);\n  properties.initProperties = initAnimationProperties(chart, properties, options);\n  properties.elements = [{\n    type: 'label',\n    optionScope: 'label',\n    properties: resolveLabelElementProperties$1(chart, properties, options),\n    initProperties: properties.initProperties\n  }];\n  return properties;\n}\n\nfunction getChartCircle(chart, options) {\n  const point = getChartPoint(chart, options);\n  const size = options.radius * 2;\n  return {\n    x: point.x - options.radius + options.xAdjust,\n    y: point.y - options.radius + options.yAdjust,\n    x2: point.x + options.radius + options.xAdjust,\n    y2: point.y + options.radius + options.yAdjust,\n    centerX: point.x + options.xAdjust,\n    centerY: point.y + options.yAdjust,\n    radius: options.radius,\n    width: size,\n    height: size\n  };\n}\n\nfunction getChartDimensionByScale(scale, options) {\n  const result = getDimensionByScale(scale, options) || options;\n  return {\n    start: Math.min(result.start, result.end),\n    end: Math.max(result.start, result.end)\n  };\n}\n\nfunction resolveFullLineProperties(scale, area, options) {\n  const min = scaleValue(scale, options.value, NaN);\n  const max = scaleValue(scale, options.endValue, min);\n  if (scale.isHorizontal()) {\n    area.x = min;\n    area.x2 = max;\n  } else {\n    area.y = min;\n    area.y2 = max;\n  }\n}\n\nfunction resolveLimitedLineProperties(scales, area, options) {\n  for (const scaleId of Object.keys(limitedLineScale)) {\n    const scale = scales[retrieveScaleID(scales, options, scaleId)];\n    if (scale) {\n      const {min, max, start, end, startProp, endProp} = limitedLineScale[scaleId];\n      const dim = getDimensionByScale(scale, {min: options[min], max: options[max], start: scale[start], end: scale[end]});\n      area[startProp] = dim.start;\n      area[endProp] = dim.end;\n    }\n  }\n}\n\nfunction calculateX({properties, options}, labelSize, position, padding) {\n  const {x: start, x2: end, width: size} = properties;\n  return calculatePosition({start, end, size, borderWidth: options.borderWidth}, {\n    position: position.x,\n    padding: {start: padding.left, end: padding.right},\n    adjust: options.label.xAdjust,\n    size: labelSize.width\n  });\n}\n\nfunction calculateY({properties, options}, labelSize, position, padding) {\n  const {y: start, y2: end, height: size} = properties;\n  return calculatePosition({start, end, size, borderWidth: options.borderWidth}, {\n    position: position.y,\n    padding: {start: padding.top, end: padding.bottom},\n    adjust: options.label.yAdjust,\n    size: labelSize.height\n  });\n}\n\nfunction calculatePosition(boxOpts, labelOpts) {\n  const {start, end, borderWidth} = boxOpts;\n  const {position, padding: {start: padStart, end: padEnd}, adjust} = labelOpts;\n  const availableSize = end - borderWidth - start - padStart - padEnd - labelOpts.size;\n  return start + borderWidth / 2 + adjust + getRelativePosition(availableSize, position);\n}\n\nfunction resolveLabelElementProperties$1(chart, properties, options) {\n  const label = options.label;\n  label.backgroundColor = 'transparent';\n  label.callout.display = false;\n  const position = toPosition(label.position);\n  const padding = toPadding(label.padding);\n  const labelSize = measureLabelSize(chart.ctx, label);\n  const x = calculateX({properties, options}, labelSize, position, padding);\n  const y = calculateY({properties, options}, labelSize, position, padding);\n  const width = labelSize.width + padding.width;\n  const height = labelSize.height + padding.height;\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n    width,\n    height,\n    centerX: x + width / 2,\n    centerY: y + height / 2,\n    rotation: label.rotation\n  };\n\n}\n\nconst moveHooks = ['enter', 'leave'];\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import('../../types/options').AnnotationPluginOptions } AnnotationPluginOptions\n */\n\nconst eventHooks = moveHooks.concat('click');\n\n/**\n * @param {Chart} chart\n * @param {Object} state\n * @param {AnnotationPluginOptions} options\n */\nfunction updateListeners(chart, state, options) {\n  state.listened = loadHooks(options, eventHooks, state.listeners);\n  state.moveListened = false;\n\n  moveHooks.forEach(hook => {\n    if (isFunction(options[hook])) {\n      state.moveListened = true;\n    }\n  });\n\n  if (!state.listened || !state.moveListened) {\n    state.annotations.forEach(scope => {\n      if (!state.listened && isFunction(scope.click)) {\n        state.listened = true;\n      }\n      if (!state.moveListened) {\n        moveHooks.forEach(hook => {\n          if (isFunction(scope[hook])) {\n            state.listened = true;\n            state.moveListened = true;\n          }\n        });\n      }\n    });\n  }\n}\n\n/**\n * @param {Object} state\n * @param {ChartEvent} event\n * @param {AnnotationPluginOptions} options\n * @return {boolean|undefined}\n */\nfunction handleEvent(state, event, options) {\n  if (state.listened) {\n    switch (event.type) {\n    case 'mousemove':\n    case 'mouseout':\n      return handleMoveEvents(state, event, options);\n    case 'click':\n      return handleClickEvents(state, event, options);\n    }\n  }\n}\n\nfunction handleMoveEvents(state, event, options) {\n  if (!state.moveListened) {\n    return;\n  }\n\n  let elements;\n\n  if (event.type === 'mousemove') {\n    elements = getElements(state.visibleElements, event, options.interaction);\n  } else {\n    elements = [];\n  }\n\n  const previous = state.hovered;\n  state.hovered = elements;\n\n  const context = {state, event};\n  let changed = dispatchMoveEvents(context, 'leave', previous, elements);\n  return dispatchMoveEvents(context, 'enter', elements, previous) || changed;\n}\n\nfunction dispatchMoveEvents({state, event}, hook, elements, checkElements) {\n  let changed;\n  for (const element of elements) {\n    if (checkElements.indexOf(element) < 0) {\n      changed = dispatchEvent(element.options[hook] || state.listeners[hook], element, event) || changed;\n    }\n  }\n  return changed;\n}\n\nfunction handleClickEvents(state, event, options) {\n  const listeners = state.listeners;\n  const elements = getElements(state.visibleElements, event, options.interaction);\n  let changed;\n  for (const element of elements) {\n    changed = dispatchEvent(element.options.click || listeners.click, element, event) || changed;\n  }\n  return changed;\n}\n\nfunction dispatchEvent(handler, element, event) {\n  return callback(handler, [element.$context, event]) === true;\n}\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import('../../types/options').AnnotationPluginOptions } AnnotationPluginOptions\n * @typedef { import('../../types/element').AnnotationElement } AnnotationElement\n */\n\nconst elementHooks = ['afterDraw', 'beforeDraw'];\n\n/**\n * @param {Chart} chart\n * @param {Object} state\n * @param {AnnotationPluginOptions} options\n */\nfunction updateHooks(chart, state, options) {\n  const visibleElements = state.visibleElements;\n  state.hooked = loadHooks(options, elementHooks, state.hooks);\n\n  if (!state.hooked) {\n    visibleElements.forEach(scope => {\n      if (!state.hooked) {\n        elementHooks.forEach(hook => {\n          if (isFunction(scope.options[hook])) {\n            state.hooked = true;\n          }\n        });\n      }\n    });\n  }\n}\n\n/**\n * @param {Object} state\n * @param {AnnotationElement} element\n * @param {string} hook\n */\nfunction invokeHook(state, element, hook) {\n  if (state.hooked) {\n    const callbackHook = element.options[hook] || state.hooks[hook];\n    return callback(callbackHook, [element.$context]);\n  }\n}\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import(\"chart.js\").Scale } Scale\n * @typedef { import('../../types/options').CoreAnnotationOptions } CoreAnnotationOptions\n */\n\n/**\n * @param {Chart} chart\n * @param {Scale} scale\n * @param {CoreAnnotationOptions[]} annotations\n */\nfunction adjustScaleRange(chart, scale, annotations) {\n  const range = getScaleLimits(chart.scales, scale, annotations);\n  let changed = changeScaleLimit(scale, range, 'min', 'suggestedMin');\n  changed = changeScaleLimit(scale, range, 'max', 'suggestedMax') || changed;\n  if (changed && isFunction(scale.handleTickRangeOptions)) {\n    scale.handleTickRangeOptions();\n  }\n}\n\n/**\n * @param {CoreAnnotationOptions[]} annotations\n * @param {{ [key: string]: Scale }} scales\n */\nfunction verifyScaleOptions(annotations, scales) {\n  for (const annotation of annotations) {\n    verifyScaleIDs(annotation, scales);\n  }\n}\n\nfunction changeScaleLimit(scale, range, limit, suggestedLimit) {\n  if (isFinite(range[limit]) && !scaleLimitDefined(scale.options, limit, suggestedLimit)) {\n    const changed = scale[limit] !== range[limit];\n    scale[limit] = range[limit];\n    return changed;\n  }\n}\n\nfunction scaleLimitDefined(scaleOptions, limit, suggestedLimit) {\n  return defined(scaleOptions[limit]) || defined(scaleOptions[suggestedLimit]);\n}\n\nfunction verifyScaleIDs(annotation, scales) {\n  for (const key of ['scaleID', 'xScaleID', 'yScaleID']) {\n    const scaleID = retrieveScaleID(scales, annotation, key);\n    if (scaleID && !scales[scaleID] && verifyProperties(annotation, key)) {\n      console.warn(`No scale found with id '${scaleID}' for annotation '${annotation.id}'`);\n    }\n  }\n}\n\nfunction verifyProperties(annotation, key) {\n  if (key === 'scaleID') {\n    return true;\n  }\n  const axis = key.charAt(0);\n  for (const prop of ['Min', 'Max', 'Value']) {\n    if (defined(annotation[axis + prop])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getScaleLimits(scales, scale, annotations) {\n  const axis = scale.axis;\n  const scaleID = scale.id;\n  const scaleIDOption = axis + 'ScaleID';\n  const limits = {\n    min: valueOrDefault(scale.min, Number.NEGATIVE_INFINITY),\n    max: valueOrDefault(scale.max, Number.POSITIVE_INFINITY)\n  };\n  for (const annotation of annotations) {\n    if (annotation.scaleID === scaleID) {\n      updateLimits(annotation, scale, ['value', 'endValue'], limits);\n    } else if (retrieveScaleID(scales, annotation, scaleIDOption) === scaleID) {\n      updateLimits(annotation, scale, [axis + 'Min', axis + 'Max', axis + 'Value'], limits);\n    }\n  }\n  return limits;\n}\n\nfunction updateLimits(annotation, scale, props, limits) {\n  for (const prop of props) {\n    const raw = annotation[prop];\n    if (defined(raw)) {\n      const value = scale.parse(raw);\n      limits.min = Math.min(limits.min, value);\n      limits.max = Math.max(limits.max, value);\n    }\n  }\n}\n\nclass BoxAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const {x, y} = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-this.options.rotation));\n    return inBoxRange({x, y}, this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), axis, this.options);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), this.options.rotation);\n    drawBox(ctx, this, this.options);\n    ctx.restore();\n  }\n\n  get label() {\n    return this.elements && this.elements[0];\n  }\n\n  resolveElementProperties(chart, options) {\n    return resolveBoxAndLabelProperties(chart, options);\n  }\n}\n\nBoxAnnotation.id = 'boxAnnotation';\n\nBoxAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderRadius: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  init: undefined,\n  hitTolerance: 0,\n  label: {\n    backgroundColor: 'transparent',\n    borderWidth: 0,\n    callout: {\n      display: false\n    },\n    color: 'black',\n    content: null,\n    display: false,\n    drawTime: undefined,\n    font: {\n      family: undefined,\n      lineHeight: undefined,\n      size: undefined,\n      style: undefined,\n      weight: 'bold'\n    },\n    height: undefined,\n    hitTolerance: undefined,\n    opacity: undefined,\n    padding: 6,\n    position: 'center',\n    rotation: undefined,\n    textAlign: 'start',\n    textStrokeColor: undefined,\n    textStrokeWidth: 0,\n    width: undefined,\n    xAdjust: 0,\n    yAdjust: 0,\n    z: undefined\n  },\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  z: 0\n};\n\nBoxAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nBoxAnnotation.descriptors = {\n  label: {\n    _fallback: true\n  }\n};\n\nclass DoughnutLabelAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    return inLabelRange(\n      {x: mouseX, y: mouseY},\n      {rect: this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), center: this.getCenterPoint(useFinalPosition)},\n      axis,\n      {rotation: this.rotation, borderWidth: 0, hitTolerance: this.options.hitTolerance}\n    );\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const options = this.options;\n    if (!options.display || !options.content) {\n      return;\n    }\n    drawBackground(ctx, this);\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), this.rotation);\n    drawLabel(ctx, this, options, this._fitRatio);\n    ctx.restore();\n  }\n\n  resolveElementProperties(chart, options) {\n    const meta = getDatasetMeta(chart, options);\n    if (!meta) {\n      return {};\n    }\n    const {controllerMeta, point, radius} = getControllerMeta(chart, options, meta);\n    let labelSize = measureLabelSize(chart.ctx, options);\n    const _fitRatio = getFitRatio(labelSize, radius);\n    if (shouldFit(options, _fitRatio)) {\n      labelSize = {width: labelSize.width * _fitRatio, height: labelSize.height * _fitRatio};\n    }\n    const {position, xAdjust, yAdjust} = options;\n    const boxSize = measureLabelRectangle(point, labelSize, {borderWidth: 0, position, xAdjust, yAdjust});\n    return {\n      initProperties: initAnimationProperties(chart, boxSize, options),\n      ...boxSize,\n      ...controllerMeta,\n      rotation: options.rotation,\n      _fitRatio\n    };\n  }\n}\n\nDoughnutLabelAnnotation.id = 'doughnutLabelAnnotation';\n\nDoughnutLabelAnnotation.defaults = {\n  autoFit: true,\n  autoHide: true,\n  backgroundColor: 'transparent',\n  backgroundShadowColor: 'transparent',\n  borderColor: 'transparent',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderShadowColor: 'transparent',\n  borderWidth: 0,\n  color: 'black',\n  content: null,\n  display: true,\n  font: {\n    family: undefined,\n    lineHeight: undefined,\n    size: undefined,\n    style: undefined,\n    weight: undefined\n  },\n  height: undefined,\n  hitTolerance: 0,\n  init: undefined,\n  opacity: undefined,\n  position: 'center',\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  spacing: 1,\n  textAlign: 'center',\n  textStrokeColor: undefined,\n  textStrokeWidth: 0,\n  width: undefined,\n  xAdjust: 0,\n  yAdjust: 0\n};\n\nDoughnutLabelAnnotation.defaultRoutes = {\n};\n\nfunction getDatasetMeta(chart, options) {\n  return chart.getSortedVisibleDatasetMetas().reduce(function(result, value) {\n    const controller = value.controller;\n    if (controller instanceof DoughnutController &&\n      isControllerVisible(chart, options, value.data) &&\n      (!result || controller.innerRadius < result.controller.innerRadius) &&\n      controller.options.circumference >= 90) {\n      return value;\n    }\n    return result;\n  }, undefined);\n}\n\nfunction isControllerVisible(chart, options, elements) {\n  if (!options.autoHide) {\n    return true;\n  }\n  for (let i = 0; i < elements.length; i++) {\n    if (!elements[i].hidden && chart.getDataVisibility(i)) {\n      return true;\n    }\n  }\n}\n\nfunction getControllerMeta({chartArea}, options, meta) {\n  const {left, top, right, bottom} = chartArea;\n  const {innerRadius, offsetX, offsetY} = meta.controller;\n  const x = (left + right) / 2 + offsetX;\n  const y = (top + bottom) / 2 + offsetY;\n  const square = {\n    left: Math.max(x - innerRadius, left),\n    right: Math.min(x + innerRadius, right),\n    top: Math.max(y - innerRadius, top),\n    bottom: Math.min(y + innerRadius, bottom)\n  };\n  const point = {\n    x: (square.left + square.right) / 2,\n    y: (square.top + square.bottom) / 2\n  };\n  const space = options.spacing + options.borderWidth / 2;\n  const _radius = innerRadius - space;\n  const _counterclockwise = point.y > y;\n  const side = _counterclockwise ? top + space : bottom - space;\n  const angles = getAngles(side, x, y, _radius);\n  const controllerMeta = {\n    _centerX: x,\n    _centerY: y,\n    _radius,\n    _counterclockwise,\n    ...angles\n  };\n  return {\n    controllerMeta,\n    point,\n    radius: Math.min(innerRadius, Math.min(square.right - square.left, square.bottom - square.top) / 2)\n  };\n}\n\nfunction getFitRatio({width, height}, radius) {\n  const hypo = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\n  return (radius * 2) / hypo;\n}\n\nfunction getAngles(y, centerX, centerY, radius) {\n  const yk2 = Math.pow(centerY - y, 2);\n  const r2 = Math.pow(radius, 2);\n  const b = centerX * -2;\n  const c = Math.pow(centerX, 2) + yk2 - r2;\n  const delta = Math.pow(b, 2) - (4 * c);\n  if (delta <= 0) {\n    return {\n      _startAngle: 0,\n      _endAngle: TAU\n    };\n  }\n  const start = (-b - Math.sqrt(delta)) / 2;\n  const end = (-b + Math.sqrt(delta)) / 2;\n  return {\n    _startAngle: getAngleFromPoint({x: centerX, y: centerY}, {x: start, y}).angle,\n    _endAngle: getAngleFromPoint({x: centerX, y: centerY}, {x: end, y}).angle\n  };\n}\n\nfunction drawBackground(ctx, element) {\n  const {_centerX, _centerY, _radius, _startAngle, _endAngle, _counterclockwise, options} = element;\n  ctx.save();\n  const stroke = setBorderStyle(ctx, options);\n  ctx.fillStyle = options.backgroundColor;\n  ctx.beginPath();\n  ctx.arc(_centerX, _centerY, _radius, _startAngle, _endAngle, _counterclockwise);\n  ctx.closePath();\n  ctx.fill();\n  if (stroke) {\n    ctx.stroke();\n  }\n  ctx.restore();\n}\n\nclass LabelAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    return inLabelRange(\n      {x: mouseX, y: mouseY},\n      {rect: this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), center: this.getCenterPoint(useFinalPosition)},\n      axis,\n      {rotation: this.rotation, borderWidth: this.options.borderWidth, hitTolerance: this.options.hitTolerance}\n    );\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const options = this.options;\n    const visible = !defined(this._visible) || this._visible;\n    if (!options.display || !options.content || !visible) {\n      return;\n    }\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), this.rotation);\n    drawCallout(ctx, this);\n    drawBox(ctx, this, options);\n    drawLabel(ctx, getLabelSize(this), options);\n    ctx.restore();\n  }\n\n  resolveElementProperties(chart, options) {\n    let point;\n    if (!isBoundToPoint(options)) {\n      const {centerX, centerY} = resolveBoxProperties(chart, options);\n      point = {x: centerX, y: centerY};\n    } else {\n      point = getChartPoint(chart, options);\n    }\n    const padding = toPadding(options.padding);\n    const labelSize = measureLabelSize(chart.ctx, options);\n    const boxSize = measureLabelRectangle(point, labelSize, options, padding);\n    return {\n      initProperties: initAnimationProperties(chart, boxSize, options),\n      pointX: point.x,\n      pointY: point.y,\n      ...boxSize,\n      rotation: options.rotation\n    };\n  }\n}\n\nLabelAnnotation.id = 'labelAnnotation';\n\nLabelAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundColor: 'transparent',\n  backgroundShadowColor: 'transparent',\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderRadius: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 0,\n  callout: {\n    borderCapStyle: 'butt',\n    borderColor: undefined,\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderWidth: 1,\n    display: false,\n    margin: 5,\n    position: 'auto',\n    side: 5,\n    start: '50%',\n  },\n  color: 'black',\n  content: null,\n  display: true,\n  font: {\n    family: undefined,\n    lineHeight: undefined,\n    size: undefined,\n    style: undefined,\n    weight: undefined\n  },\n  height: undefined,\n  hitTolerance: 0,\n  init: undefined,\n  opacity: undefined,\n  padding: 6,\n  position: 'center',\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  textAlign: 'center',\n  textStrokeColor: undefined,\n  textStrokeWidth: 0,\n  width: undefined,\n  xAdjust: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  xValue: undefined,\n  yAdjust: 0,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  yValue: undefined,\n  z: 0\n};\n\nLabelAnnotation.defaultRoutes = {\n  borderColor: 'color'\n};\n\nfunction getLabelSize({x, y, width, height, options}) {\n  const hBorderWidth = options.borderWidth / 2;\n  const padding = toPadding(options.padding);\n  return {\n    x: x + padding.left + hBorderWidth,\n    y: y + padding.top + hBorderWidth,\n    width: width - padding.left - padding.right - options.borderWidth,\n    height: height - padding.top - padding.bottom - options.borderWidth\n  };\n}\n\nconst pointInLine = (p1, p2, t) => ({x: p1.x + t * (p2.x - p1.x), y: p1.y + t * (p2.y - p1.y)});\nconst interpolateX = (y, p1, p2) => pointInLine(p1, p2, Math.abs((y - p1.y) / (p2.y - p1.y))).x;\nconst interpolateY = (x, p1, p2) => pointInLine(p1, p2, Math.abs((x - p1.x) / (p2.x - p1.x))).y;\nconst sqr = v => v * v;\nconst rangeLimit = (mouseX, mouseY, {x, y, x2, y2}, axis) => axis === 'y' ? {start: Math.min(y, y2), end: Math.max(y, y2), value: mouseY} : {start: Math.min(x, x2), end: Math.max(x, x2), value: mouseX};\n// http://www.independent-software.com/determining-coordinates-on-a-html-canvas-bezier-curve.html\nconst coordInCurve = (start, cp, end, t) => (1 - t) * (1 - t) * start + 2 * (1 - t) * t * cp + t * t * end;\nconst pointInCurve = (start, cp, end, t) => ({x: coordInCurve(start.x, cp.x, end.x, t), y: coordInCurve(start.y, cp.y, end.y, t)});\nconst coordAngleInCurve = (start, cp, end, t) => 2 * (1 - t) * (cp - start) + 2 * t * (end - cp);\nconst angleInCurve = (start, cp, end, t) => -Math.atan2(coordAngleInCurve(start.x, cp.x, end.x, t), coordAngleInCurve(start.y, cp.y, end.y, t)) + 0.5 * PI;\n\nclass LineAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const hitSize = (this.options.borderWidth + this.options.hitTolerance) / 2;\n    if (axis !== 'x' && axis !== 'y') {\n      const point = {mouseX, mouseY};\n      const {path, ctx} = this;\n      if (path) {\n        setBorderStyle(ctx, this.options);\n        ctx.lineWidth += this.options.hitTolerance;\n        const {chart} = this.$context;\n        const mx = mouseX * chart.currentDevicePixelRatio;\n        const my = mouseY * chart.currentDevicePixelRatio;\n        const result = ctx.isPointInStroke(path, mx, my) || isOnLabel(this, point, useFinalPosition);\n        ctx.restore();\n        return result;\n      }\n      const epsilon = sqr(hitSize);\n      return intersects(this, point, epsilon, useFinalPosition) || isOnLabel(this, point, useFinalPosition);\n    }\n    return inAxisRange(this, {mouseX, mouseY}, axis, {hitSize, useFinalPosition});\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const {x, y, x2, y2, cp, options} = this;\n\n    ctx.save();\n    if (!setBorderStyle(ctx, options)) {\n      // no border width, then line is not drawn\n      return ctx.restore();\n    }\n    setShadowStyle(ctx, options);\n\n    const length = Math.sqrt(Math.pow(x2 - x, 2) + Math.pow(y2 - y, 2));\n    if (options.curve && cp) {\n      drawCurve(ctx, this, cp, length);\n      return ctx.restore();\n    }\n    const {startOpts, endOpts, startAdjust, endAdjust} = getArrowHeads(this);\n    const angle = Math.atan2(y2 - y, x2 - x);\n    ctx.translate(x, y);\n    ctx.rotate(angle);\n    ctx.beginPath();\n    ctx.moveTo(0 + startAdjust, 0);\n    ctx.lineTo(length - endAdjust, 0);\n    ctx.shadowColor = options.borderShadowColor;\n    ctx.stroke();\n    drawArrowHead(ctx, 0, startAdjust, startOpts);\n    drawArrowHead(ctx, length, -endAdjust, endOpts);\n    ctx.restore();\n  }\n\n  get label() {\n    return this.elements && this.elements[0];\n  }\n\n  resolveElementProperties(chart, options) {\n    const area = resolveLineProperties(chart, options);\n    const {x, y, x2, y2} = area;\n    const inside = isLineInArea(area, chart.chartArea);\n    const properties = inside\n      ? limitLineToArea({x, y}, {x: x2, y: y2}, chart.chartArea)\n      : {x, y, x2, y2, width: Math.abs(x2 - x), height: Math.abs(y2 - y)};\n    properties.centerX = (x2 + x) / 2;\n    properties.centerY = (y2 + y) / 2;\n    properties.initProperties = initAnimationProperties(chart, properties, options);\n    if (options.curve) {\n      const p1 = {x: properties.x, y: properties.y};\n      const p2 = {x: properties.x2, y: properties.y2};\n      properties.cp = getControlPoint(properties, options, distanceBetweenPoints(p1, p2));\n    }\n    const labelProperties = resolveLabelElementProperties(chart, properties, options.label);\n    // additonal prop to manage zoom/pan\n    labelProperties._visible = inside;\n\n    properties.elements = [{\n      type: 'label',\n      optionScope: 'label',\n      properties: labelProperties,\n      initProperties: properties.initProperties\n    }];\n    return properties;\n  }\n}\n\nLineAnnotation.id = 'lineAnnotation';\n\nconst arrowHeadsDefaults = {\n  backgroundColor: undefined,\n  backgroundShadowColor: undefined,\n  borderColor: undefined,\n  borderDash: undefined,\n  borderDashOffset: undefined,\n  borderShadowColor: undefined,\n  borderWidth: undefined,\n  display: undefined,\n  fill: undefined,\n  length: undefined,\n  shadowBlur: undefined,\n  shadowOffsetX: undefined,\n  shadowOffsetY: undefined,\n  width: undefined\n};\n\nLineAnnotation.defaults = {\n  adjustScaleRange: true,\n  arrowHeads: {\n    display: false,\n    end: Object.assign({}, arrowHeadsDefaults),\n    fill: false,\n    length: 12,\n    start: Object.assign({}, arrowHeadsDefaults),\n    width: 6\n  },\n  borderDash: [],\n  borderDashOffset: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 2,\n  curve: false,\n  controlPoint: {\n    y: '-50%'\n  },\n  display: true,\n  endValue: undefined,\n  init: undefined,\n  hitTolerance: 0,\n  label: {\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    backgroundShadowColor: 'transparent',\n    borderCapStyle: 'butt',\n    borderColor: 'black',\n    borderDash: [],\n    borderDashOffset: 0,\n    borderJoinStyle: 'miter',\n    borderRadius: 6,\n    borderShadowColor: 'transparent',\n    borderWidth: 0,\n    callout: Object.assign({}, LabelAnnotation.defaults.callout),\n    color: '#fff',\n    content: null,\n    display: false,\n    drawTime: undefined,\n    font: {\n      family: undefined,\n      lineHeight: undefined,\n      size: undefined,\n      style: undefined,\n      weight: 'bold'\n    },\n    height: undefined,\n    hitTolerance: undefined,\n    opacity: undefined,\n    padding: 6,\n    position: 'center',\n    rotation: 0,\n    shadowBlur: 0,\n    shadowOffsetX: 0,\n    shadowOffsetY: 0,\n    textAlign: 'center',\n    textStrokeColor: undefined,\n    textStrokeWidth: 0,\n    width: undefined,\n    xAdjust: 0,\n    yAdjust: 0,\n    z: undefined\n  },\n  scaleID: undefined,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  value: undefined,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  z: 0\n};\n\nLineAnnotation.descriptors = {\n  arrowHeads: {\n    start: {\n      _fallback: true\n    },\n    end: {\n      _fallback: true\n    },\n    _fallback: true\n  }\n};\n\nLineAnnotation.defaultRoutes = {\n  borderColor: 'color'\n};\n\nfunction inAxisRange(element, {mouseX, mouseY}, axis, {hitSize, useFinalPosition}) {\n  const limit = rangeLimit(mouseX, mouseY, element.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition), axis);\n  return inLimit(limit, hitSize) || isOnLabel(element, {mouseX, mouseY}, useFinalPosition, axis);\n}\n\nfunction isLineInArea({x, y, x2, y2}, {top, right, bottom, left}) {\n  return !(\n    (x < left && x2 < left) ||\n    (x > right && x2 > right) ||\n    (y < top && y2 < top) ||\n    (y > bottom && y2 > bottom)\n  );\n}\n\nfunction limitPointToArea({x, y}, p2, {top, right, bottom, left}) {\n  if (x < left) {\n    y = interpolateY(left, {x, y}, p2);\n    x = left;\n  }\n  if (x > right) {\n    y = interpolateY(right, {x, y}, p2);\n    x = right;\n  }\n  if (y < top) {\n    x = interpolateX(top, {x, y}, p2);\n    y = top;\n  }\n  if (y > bottom) {\n    x = interpolateX(bottom, {x, y}, p2);\n    y = bottom;\n  }\n  return {x, y};\n}\n\nfunction limitLineToArea(p1, p2, area) {\n  const {x, y} = limitPointToArea(p1, p2, area);\n  const {x: x2, y: y2} = limitPointToArea(p2, p1, area);\n  return {x, y, x2, y2, width: Math.abs(x2 - x), height: Math.abs(y2 - y)};\n}\n\nfunction intersects(element, {mouseX, mouseY}, epsilon = EPSILON, useFinalPosition) {\n  // Adapted from https://stackoverflow.com/a/6853926/25507\n  const {x: x1, y: y1, x2, y2} = element.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition);\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const lenSq = sqr(dx) + sqr(dy);\n  const t = lenSq === 0 ? -1 : ((mouseX - x1) * dx + (mouseY - y1) * dy) / lenSq;\n\n  let xx, yy;\n  if (t < 0) {\n    xx = x1;\n    yy = y1;\n  } else if (t > 1) {\n    xx = x2;\n    yy = y2;\n  } else {\n    xx = x1 + t * dx;\n    yy = y1 + t * dy;\n  }\n  return (sqr(mouseX - xx) + sqr(mouseY - yy)) <= epsilon;\n}\n\nfunction isOnLabel(element, {mouseX, mouseY}, useFinalPosition, axis) {\n  const label = element.label;\n  return label.options.display && label.inRange(mouseX, mouseY, axis, useFinalPosition);\n}\n\nfunction resolveLabelElementProperties(chart, properties, options) {\n  const borderWidth = options.borderWidth;\n  const padding = toPadding(options.padding);\n  const textSize = measureLabelSize(chart.ctx, options);\n  const width = textSize.width + padding.width + borderWidth;\n  const height = textSize.height + padding.height + borderWidth;\n  return calculateLabelPosition(properties, options, {width, height, padding}, chart.chartArea);\n}\n\nfunction calculateAutoRotation(properties) {\n  const {x, y, x2, y2} = properties;\n  const rotation = Math.atan2(y2 - y, x2 - x);\n  // Flip the rotation if it goes > PI/2 or < -PI/2, so label stays upright\n  return rotation > PI / 2 ? rotation - PI : rotation < PI / -2 ? rotation + PI : rotation;\n}\n\nfunction calculateLabelPosition(properties, label, sizes, chartArea) {\n  const {width, height, padding} = sizes;\n  const {xAdjust, yAdjust} = label;\n  const p1 = {x: properties.x, y: properties.y};\n  const p2 = {x: properties.x2, y: properties.y2};\n  const rotation = label.rotation === 'auto' ? calculateAutoRotation(properties) : toRadians(label.rotation);\n  const size = rotatedSize(width, height, rotation);\n  const t = calculateT(properties, label, {labelSize: size, padding}, chartArea);\n  const pt = properties.cp ? pointInCurve(p1, properties.cp, p2, t) : pointInLine(p1, p2, t);\n  const xCoordinateSizes = {size: size.w, min: chartArea.left, max: chartArea.right, padding: padding.left};\n  const yCoordinateSizes = {size: size.h, min: chartArea.top, max: chartArea.bottom, padding: padding.top};\n  const centerX = adjustLabelCoordinate(pt.x, xCoordinateSizes) + xAdjust;\n  const centerY = adjustLabelCoordinate(pt.y, yCoordinateSizes) + yAdjust;\n  return {\n    x: centerX - (width / 2),\n    y: centerY - (height / 2),\n    x2: centerX + (width / 2),\n    y2: centerY + (height / 2),\n    centerX,\n    centerY,\n    pointX: pt.x,\n    pointY: pt.y,\n    width,\n    height,\n    rotation: toDegrees(rotation)\n  };\n}\n\nfunction rotatedSize(width, height, rotation) {\n  const cos = Math.cos(rotation);\n  const sin = Math.sin(rotation);\n  return {\n    w: Math.abs(width * cos) + Math.abs(height * sin),\n    h: Math.abs(width * sin) + Math.abs(height * cos)\n  };\n}\n\nfunction calculateT(properties, label, sizes, chartArea) {\n  let t;\n  const space = spaceAround(properties, chartArea);\n  if (label.position === 'start') {\n    t = calculateTAdjust({w: properties.x2 - properties.x, h: properties.y2 - properties.y}, sizes, label, space);\n  } else if (label.position === 'end') {\n    t = 1 - calculateTAdjust({w: properties.x - properties.x2, h: properties.y - properties.y2}, sizes, label, space);\n  } else {\n    t = getRelativePosition(1, label.position);\n  }\n  return t;\n}\n\nfunction calculateTAdjust(lineSize, sizes, label, space) {\n  const {labelSize, padding} = sizes;\n  const lineW = lineSize.w * space.dx;\n  const lineH = lineSize.h * space.dy;\n  const x = (lineW > 0) && ((labelSize.w / 2 + padding.left - space.x) / lineW);\n  const y = (lineH > 0) && ((labelSize.h / 2 + padding.top - space.y) / lineH);\n  return clamp(Math.max(x, y), 0, 0.25);\n}\n\nfunction spaceAround(properties, chartArea) {\n  const {x, x2, y, y2} = properties;\n  const t = Math.min(y, y2) - chartArea.top;\n  const l = Math.min(x, x2) - chartArea.left;\n  const b = chartArea.bottom - Math.max(y, y2);\n  const r = chartArea.right - Math.max(x, x2);\n  return {\n    x: Math.min(l, r),\n    y: Math.min(t, b),\n    dx: l <= r ? 1 : -1,\n    dy: t <= b ? 1 : -1\n  };\n}\n\nfunction adjustLabelCoordinate(coordinate, labelSizes) {\n  const {size, min, max, padding} = labelSizes;\n  const halfSize = size / 2;\n  if (size > max - min) {\n    // if it does not fit, display as much as possible\n    return (max + min) / 2;\n  }\n  if (min >= (coordinate - padding - halfSize)) {\n    coordinate = min + padding + halfSize;\n  }\n  if (max <= (coordinate + padding + halfSize)) {\n    coordinate = max - padding - halfSize;\n  }\n  return coordinate;\n}\n\nfunction getArrowHeads(line) {\n  const options = line.options;\n  const arrowStartOpts = options.arrowHeads && options.arrowHeads.start;\n  const arrowEndOpts = options.arrowHeads && options.arrowHeads.end;\n  return {\n    startOpts: arrowStartOpts,\n    endOpts: arrowEndOpts,\n    startAdjust: getLineAdjust(line, arrowStartOpts),\n    endAdjust: getLineAdjust(line, arrowEndOpts)\n  };\n}\n\nfunction getLineAdjust(line, arrowOpts) {\n  if (!arrowOpts || !arrowOpts.display) {\n    return 0;\n  }\n  const {length, width} = arrowOpts;\n  const adjust = line.options.borderWidth / 2;\n  const p1 = {x: length, y: width + adjust};\n  const p2 = {x: 0, y: adjust};\n  return Math.abs(interpolateX(0, p1, p2));\n}\n\nfunction drawArrowHead(ctx, offset, adjust, arrowOpts) {\n  if (!arrowOpts || !arrowOpts.display) {\n    return;\n  }\n  const {length, width, fill, backgroundColor, borderColor} = arrowOpts;\n  const arrowOffsetX = Math.abs(offset - length) + adjust;\n  ctx.beginPath();\n  setShadowStyle(ctx, arrowOpts);\n  setBorderStyle(ctx, arrowOpts);\n  ctx.moveTo(arrowOffsetX, -width);\n  ctx.lineTo(offset + adjust, 0);\n  ctx.lineTo(arrowOffsetX, width);\n  if (fill === true) {\n    ctx.fillStyle = backgroundColor || borderColor;\n    ctx.closePath();\n    ctx.fill();\n    ctx.shadowColor = 'transparent';\n  } else {\n    ctx.shadowColor = arrowOpts.borderShadowColor;\n  }\n  ctx.stroke();\n}\n\nfunction getControlPoint(properties, options, distance) {\n  const {x, y, x2, y2, centerX, centerY} = properties;\n  const angle = Math.atan2(y2 - y, x2 - x);\n  const cp = toPosition(options.controlPoint, 0);\n  const point = {\n    x: centerX + getSize(distance, cp.x, false),\n    y: centerY + getSize(distance, cp.y, false)\n  };\n  return rotated(point, {x: centerX, y: centerY}, angle);\n}\n\nfunction drawArrowHeadOnCurve(ctx, {x, y}, {angle, adjust}, arrowOpts) {\n  if (!arrowOpts || !arrowOpts.display) {\n    return;\n  }\n  ctx.save();\n  ctx.translate(x, y);\n  ctx.rotate(angle);\n  drawArrowHead(ctx, 0, -adjust, arrowOpts);\n  ctx.restore();\n}\n\nfunction drawCurve(ctx, element, cp, length) {\n  const {x, y, x2, y2, options} = element;\n  const {startOpts, endOpts, startAdjust, endAdjust} = getArrowHeads(element);\n  const p1 = {x, y};\n  const p2 = {x: x2, y: y2};\n  const startAngle = angleInCurve(p1, cp, p2, 0);\n  const endAngle = angleInCurve(p1, cp, p2, 1) - PI;\n  const ps = pointInCurve(p1, cp, p2, startAdjust / length);\n  const pe = pointInCurve(p1, cp, p2, 1 - endAdjust / length);\n\n  const path = new Path2D();\n  ctx.beginPath();\n  path.moveTo(ps.x, ps.y);\n  path.quadraticCurveTo(cp.x, cp.y, pe.x, pe.y);\n  ctx.shadowColor = options.borderShadowColor;\n  ctx.stroke(path);\n  element.path = path;\n  element.ctx = ctx;\n  drawArrowHeadOnCurve(ctx, ps, {angle: startAngle, adjust: startAdjust}, startOpts);\n  drawArrowHeadOnCurve(ctx, pe, {angle: endAngle, adjust: endAdjust}, endOpts);\n}\n\nclass EllipseAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const rotation = this.options.rotation;\n    const hitSize = (this.options.borderWidth + this.options.hitTolerance) / 2;\n    if (axis !== 'x' && axis !== 'y') {\n      return pointInEllipse({x: mouseX, y: mouseY}, this.getProps(['width', 'height', 'centerX', 'centerY'], useFinalPosition), rotation, hitSize);\n    }\n    const {x, y, x2, y2} = this.getProps(['x', 'y', 'x2', 'y2'], useFinalPosition);\n    const limit = axis === 'y' ? {start: y, end: y2} : {start: x, end: x2};\n    const rotatedPoint = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-rotation));\n    return rotatedPoint[axis] >= limit.start - hitSize - EPSILON && rotatedPoint[axis] <= limit.end + hitSize + EPSILON;\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const {width, height, centerX, centerY, options} = this;\n    ctx.save();\n    translate(ctx, this.getCenterPoint(), options.rotation);\n    setShadowStyle(ctx, this.options);\n    ctx.beginPath();\n    ctx.fillStyle = options.backgroundColor;\n    const stroke = setBorderStyle(ctx, options);\n    ctx.ellipse(centerX, centerY, height / 2, width / 2, PI / 2, 0, 2 * PI);\n    ctx.fill();\n    if (stroke) {\n      ctx.shadowColor = options.borderShadowColor;\n      ctx.stroke();\n    }\n    ctx.restore();\n  }\n\n  get label() {\n    return this.elements && this.elements[0];\n  }\n\n  resolveElementProperties(chart, options) {\n    return resolveBoxAndLabelProperties(chart, options);\n  }\n\n}\n\nEllipseAnnotation.id = 'ellipseAnnotation';\n\nEllipseAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  hitTolerance: 0,\n  init: undefined,\n  label: Object.assign({}, BoxAnnotation.defaults.label),\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  z: 0\n};\n\nEllipseAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nEllipseAnnotation.descriptors = {\n  label: {\n    _fallback: true\n  }\n};\n\nfunction pointInEllipse(p, ellipse, rotation, hitSize) {\n  const {width, height, centerX, centerY} = ellipse;\n  const xRadius = width / 2;\n  const yRadius = height / 2;\n\n  if (xRadius <= 0 || yRadius <= 0) {\n    return false;\n  }\n  // https://stackoverflow.com/questions/7946187/point-and-ellipse-rotated-position-test-algorithm\n  const angle = toRadians(rotation || 0);\n  const cosAngle = Math.cos(angle);\n  const sinAngle = Math.sin(angle);\n  const a = Math.pow(cosAngle * (p.x - centerX) + sinAngle * (p.y - centerY), 2);\n  const b = Math.pow(sinAngle * (p.x - centerX) - cosAngle * (p.y - centerY), 2);\n  return (a / Math.pow(xRadius + hitSize, 2)) + (b / Math.pow(yRadius + hitSize, 2)) <= 1.0001;\n}\n\nclass PointAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    const {x, y, x2, y2, width} = this.getProps(['x', 'y', 'x2', 'y2', 'width'], useFinalPosition);\n    const hitSize = (this.options.borderWidth + this.options.hitTolerance) / 2;\n    if (axis !== 'x' && axis !== 'y') {\n      return inPointRange({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), width / 2, hitSize);\n    }\n    const limit = axis === 'y' ? {start: y, end: y2, value: mouseY} : {start: x, end: x2, value: mouseX};\n    return inLimit(limit, hitSize);\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const options = this.options;\n    const borderWidth = options.borderWidth;\n    if (options.radius < 0.1) {\n      return;\n    }\n    ctx.save();\n    ctx.fillStyle = options.backgroundColor;\n    setShadowStyle(ctx, options);\n    const stroke = setBorderStyle(ctx, options);\n    drawPoint(ctx, this, this.centerX, this.centerY);\n    if (stroke && !isImageOrCanvas(options.pointStyle)) {\n      ctx.shadowColor = options.borderShadowColor;\n      ctx.stroke();\n    }\n    ctx.restore();\n    options.borderWidth = borderWidth;\n  }\n\n  resolveElementProperties(chart, options) {\n    const properties = resolvePointProperties(chart, options);\n    properties.initProperties = initAnimationProperties(chart, properties, options);\n    return properties;\n  }\n}\n\nPointAnnotation.id = 'pointAnnotation';\n\nPointAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  hitTolerance: 0,\n  init: undefined,\n  pointStyle: 'circle',\n  radius: 10,\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  xAdjust: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  xValue: undefined,\n  yAdjust: 0,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  yValue: undefined,\n  z: 0\n};\n\nPointAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nclass PolygonAnnotation extends Element {\n\n  inRange(mouseX, mouseY, axis, useFinalPosition) {\n    if (axis !== 'x' && axis !== 'y') {\n      return this.options.radius >= 0.1 && this.elements.length > 1 && pointIsInPolygon(this.elements, mouseX, mouseY, useFinalPosition);\n    }\n    const rotatedPoint = rotated({x: mouseX, y: mouseY}, this.getCenterPoint(useFinalPosition), toRadians(-this.options.rotation));\n    const axisPoints = this.elements.map((point) => axis === 'y' ? point.bY : point.bX);\n    const start = Math.min(...axisPoints);\n    const end = Math.max(...axisPoints);\n    return rotatedPoint[axis] >= start && rotatedPoint[axis] <= end;\n  }\n\n  getCenterPoint(useFinalPosition) {\n    return getElementCenterPoint(this, useFinalPosition);\n  }\n\n  draw(ctx) {\n    const {elements, options} = this;\n    ctx.save();\n    ctx.beginPath();\n    ctx.fillStyle = options.backgroundColor;\n    setShadowStyle(ctx, options);\n    const stroke = setBorderStyle(ctx, options);\n    let first = true;\n    for (const el of elements) {\n      if (first) {\n        ctx.moveTo(el.x, el.y);\n        first = false;\n      } else {\n        ctx.lineTo(el.x, el.y);\n      }\n    }\n    ctx.closePath();\n    ctx.fill();\n    // If no border, don't draw it\n    if (stroke) {\n      ctx.shadowColor = options.borderShadowColor;\n      ctx.stroke();\n    }\n    ctx.restore();\n  }\n\n  resolveElementProperties(chart, options) {\n    const properties = resolvePointProperties(chart, options);\n    const {sides, rotation} = options;\n    const elements = [];\n    const angle = (2 * PI) / sides;\n    let rad = rotation * RAD_PER_DEG;\n    for (let i = 0; i < sides; i++, rad += angle) {\n      const elProps = buildPointElement(properties, options, rad);\n      elProps.initProperties = initAnimationProperties(chart, properties, options);\n      elements.push(elProps);\n    }\n    properties.elements = elements;\n    return properties;\n  }\n}\n\nPolygonAnnotation.id = 'polygonAnnotation';\n\nPolygonAnnotation.defaults = {\n  adjustScaleRange: true,\n  backgroundShadowColor: 'transparent',\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderShadowColor: 'transparent',\n  borderWidth: 1,\n  display: true,\n  hitTolerance: 0,\n  init: undefined,\n  point: {\n    radius: 0\n  },\n  radius: 10,\n  rotation: 0,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  sides: 3,\n  xAdjust: 0,\n  xMax: undefined,\n  xMin: undefined,\n  xScaleID: undefined,\n  xValue: undefined,\n  yAdjust: 0,\n  yMax: undefined,\n  yMin: undefined,\n  yScaleID: undefined,\n  yValue: undefined,\n  z: 0\n};\n\nPolygonAnnotation.defaultRoutes = {\n  borderColor: 'color',\n  backgroundColor: 'color'\n};\n\nfunction buildPointElement({centerX, centerY}, {radius, borderWidth, hitTolerance}, rad) {\n  const hitSize = (borderWidth + hitTolerance) / 2;\n  const sin = Math.sin(rad);\n  const cos = Math.cos(rad);\n  const point = {x: centerX + sin * radius, y: centerY - cos * radius};\n  return {\n    type: 'point',\n    optionScope: 'point',\n    properties: {\n      x: point.x,\n      y: point.y,\n      centerX: point.x,\n      centerY: point.y,\n      bX: centerX + sin * (radius + hitSize),\n      bY: centerY - cos * (radius + hitSize)\n    }\n  };\n}\n\nfunction pointIsInPolygon(points, x, y, useFinalPosition) {\n  let isInside = false;\n  let A = points[points.length - 1].getProps(['bX', 'bY'], useFinalPosition);\n  for (const point of points) {\n    const B = point.getProps(['bX', 'bY'], useFinalPosition);\n    if ((B.bY > y) !== (A.bY > y) && x < (A.bX - B.bX) * (y - B.bY) / (A.bY - B.bY) + B.bX) {\n      isInside = !isInside;\n    }\n    A = B;\n  }\n  return isInside;\n}\n\nconst annotationTypes = {\n  box: BoxAnnotation,\n  doughnutLabel: DoughnutLabelAnnotation,\n  ellipse: EllipseAnnotation,\n  label: LabelAnnotation,\n  line: LineAnnotation,\n  point: PointAnnotation,\n  polygon: PolygonAnnotation\n};\n\n/**\n * Register fallback for annotation elements\n * For example lineAnnotation options would be looked through:\n * - the annotation object (options.plugins.annotation.annotations[id])\n * - element options (options.elements.lineAnnotation)\n * - element defaults (defaults.elements.lineAnnotation)\n * - annotation plugin defaults (defaults.plugins.annotation, this is what we are registering here)\n */\nObject.keys(annotationTypes).forEach(key => {\n  defaults.describe(`elements.${annotationTypes[key].id}`, {\n    _fallback: 'plugins.annotation.common'\n  });\n});\n\nconst directUpdater = {\n  update: Object.assign\n};\n\nconst hooks$1 = eventHooks.concat(elementHooks);\nconst resolve = (value, optDefs) => isObject(optDefs) ? resolveObj(value, optDefs) : value;\n\n\n/**\n * @typedef { import(\"chart.js\").Chart } Chart\n * @typedef { import(\"chart.js\").UpdateMode } UpdateMode\n * @typedef { import('../../types/options').AnnotationPluginOptions } AnnotationPluginOptions\n */\n\n/**\n * @param {string} prop\n * @returns {boolean}\n */\nconst isIndexable = (prop) => prop === 'color' || prop === 'font';\n\n/**\n * Resolve the annotation type, checking if is supported.\n * @param {string} [type=line] - annotation type\n * @returns {string} resolved annotation type\n */\nfunction resolveType(type = 'line') {\n  if (annotationTypes[type]) {\n    return type;\n  }\n  console.warn(`Unknown annotation type: '${type}', defaulting to 'line'`);\n  return 'line';\n}\n\n/**\n * @param {Chart} chart\n * @param {Object} state\n * @param {AnnotationPluginOptions} options\n * @param {UpdateMode} mode\n */\nfunction updateElements(chart, state, options, mode) {\n  const animations = resolveAnimations(chart, options.animations, mode);\n\n  const annotations = state.annotations;\n  const elements = resyncElements(state.elements, annotations);\n\n  for (let i = 0; i < annotations.length; i++) {\n    const annotationOptions = annotations[i];\n    const element = getOrCreateElement(elements, i, annotationOptions.type);\n    const resolver = annotationOptions.setContext(getContext(chart, element, elements, annotationOptions));\n    const properties = element.resolveElementProperties(chart, resolver);\n\n    properties.skip = toSkip(properties);\n\n    if ('elements' in properties) {\n      updateSubElements(element, properties.elements, resolver, animations);\n      // Remove the sub-element definitions from properties, so the actual elements\n      // are not overwritten by their definitions\n      delete properties.elements;\n    }\n\n    if (!defined(element.x)) {\n      // If the element is newly created, assing the properties directly - to\n      // make them readily awailable to any scriptable options. If we do not do this,\n      // the properties retruned by `resolveElementProperties` are available only\n      // after options resolution.\n      Object.assign(element, properties);\n    }\n\n    Object.assign(element, properties.initProperties);\n    properties.options = resolveAnnotationOptions(resolver);\n\n    animations.update(element, properties);\n  }\n}\n\nfunction toSkip(properties) {\n  return isNaN(properties.x) || isNaN(properties.y);\n}\n\nfunction resolveAnimations(chart, animOpts, mode) {\n  if (mode === 'reset' || mode === 'none' || mode === 'resize') {\n    return directUpdater;\n  }\n  return new Animations(chart, animOpts);\n}\n\nfunction updateSubElements(mainElement, elements, resolver, animations) {\n  const subElements = mainElement.elements || (mainElement.elements = []);\n  subElements.length = elements.length;\n  for (let i = 0; i < elements.length; i++) {\n    const definition = elements[i];\n    const properties = definition.properties;\n    const subElement = getOrCreateElement(subElements, i, definition.type, definition.initProperties);\n    const subResolver = resolver[definition.optionScope].override(definition);\n    properties.options = resolveAnnotationOptions(subResolver);\n    animations.update(subElement, properties);\n  }\n}\n\nfunction getOrCreateElement(elements, index, type, initProperties) {\n  const elementClass = annotationTypes[resolveType(type)];\n  let element = elements[index];\n  if (!element || !(element instanceof elementClass)) {\n    element = elements[index] = new elementClass();\n    Object.assign(element, initProperties);\n  }\n  return element;\n}\n\nfunction resolveAnnotationOptions(resolver) {\n  const elementClass = annotationTypes[resolveType(resolver.type)];\n  const result = {};\n  result.id = resolver.id;\n  result.type = resolver.type;\n  result.drawTime = resolver.drawTime;\n  Object.assign(result,\n    resolveObj(resolver, elementClass.defaults),\n    resolveObj(resolver, elementClass.defaultRoutes));\n  for (const hook of hooks$1) {\n    result[hook] = resolver[hook];\n  }\n  return result;\n}\n\nfunction resolveObj(resolver, defs) {\n  const result = {};\n  for (const prop of Object.keys(defs)) {\n    const optDefs = defs[prop];\n    const value = resolver[prop];\n    if (isIndexable(prop) && isArray(value)) {\n      result[prop] = value.map((item) => resolve(item, optDefs));\n    } else {\n      result[prop] = resolve(value, optDefs);\n    }\n  }\n  return result;\n}\n\nfunction getContext(chart, element, elements, annotation) {\n  return element.$context || (element.$context = Object.assign(Object.create(chart.getContext()), {\n    element,\n    get elements() {\n      return elements.filter((el) => el && el.options);\n    },\n    id: annotation.id,\n    type: 'annotation'\n  }));\n}\n\nfunction resyncElements(elements, annotations) {\n  const count = annotations.length;\n  const start = elements.length;\n\n  if (start < count) {\n    const add = count - start;\n    elements.splice(start, 0, ...new Array(add));\n  } else if (start > count) {\n    elements.splice(count, start - count);\n  }\n  return elements;\n}\n\nvar version = \"3.1.0\";\n\nconst chartStates = new Map();\nconst isNotDoughnutLabel = annotation => annotation.type !== 'doughnutLabel';\nconst hooks = eventHooks.concat(elementHooks);\n\nvar annotation = {\n  id: 'annotation',\n\n  version,\n\n  beforeRegister() {\n    requireVersion('chart.js', '4.0', Chart.version);\n  },\n\n  afterRegister() {\n    Chart.register(annotationTypes);\n  },\n\n  afterUnregister() {\n    Chart.unregister(annotationTypes);\n  },\n\n  beforeInit(chart) {\n    chartStates.set(chart, {\n      annotations: [],\n      elements: [],\n      visibleElements: [],\n      listeners: {},\n      listened: false,\n      moveListened: false,\n      hooks: {},\n      hooked: false,\n      hovered: []\n    });\n  },\n\n  beforeUpdate(chart, args, options) {\n    const state = chartStates.get(chart);\n    const annotations = state.annotations = [];\n\n    let annotationOptions = options.annotations;\n    if (isObject(annotationOptions)) {\n      Object.keys(annotationOptions).forEach(key => {\n        const value = annotationOptions[key];\n        if (isObject(value)) {\n          value.id = key;\n          annotations.push(value);\n        }\n      });\n    } else if (isArray(annotationOptions)) {\n      annotations.push(...annotationOptions);\n    }\n    verifyScaleOptions(annotations.filter(isNotDoughnutLabel), chart.scales);\n  },\n\n  afterDataLimits(chart, args) {\n    const state = chartStates.get(chart);\n    adjustScaleRange(chart, args.scale, state.annotations.filter(isNotDoughnutLabel).filter(a => a.display && a.adjustScaleRange));\n  },\n\n  afterUpdate(chart, args, options) {\n    const state = chartStates.get(chart);\n    updateListeners(chart, state, options);\n    updateElements(chart, state, options, args.mode);\n    state.visibleElements = state.elements.filter(el => !el.skip && el.options.display);\n    updateHooks(chart, state, options);\n  },\n\n  beforeDatasetsDraw(chart, _args, options) {\n    draw(chart, 'beforeDatasetsDraw', options.clip);\n  },\n\n  afterDatasetsDraw(chart, _args, options) {\n    draw(chart, 'afterDatasetsDraw', options.clip);\n  },\n\n  beforeDatasetDraw(chart, _args, options) {\n    draw(chart, _args.index, options.clip);\n  },\n\n  beforeDraw(chart, _args, options) {\n    draw(chart, 'beforeDraw', options.clip);\n  },\n\n  afterDraw(chart, _args, options) {\n    draw(chart, 'afterDraw', options.clip);\n  },\n\n  beforeEvent(chart, args, options) {\n    const state = chartStates.get(chart);\n    if (handleEvent(state, args.event, options)) {\n      args.changed = true;\n    }\n  },\n\n  afterDestroy(chart) {\n    chartStates.delete(chart);\n  },\n\n  getAnnotations(chart) {\n    const state = chartStates.get(chart);\n    return state ? state.elements : [];\n  },\n\n  // only for testing\n  _getAnnotationElementsAtEventForMode(visibleElements, event, options) {\n    return getElements(visibleElements, event, options);\n  },\n\n  defaults: {\n    animations: {\n      numbers: {\n        properties: ['x', 'y', 'x2', 'y2', 'width', 'height', 'centerX', 'centerY', 'pointX', 'pointY', 'radius'],\n        type: 'number'\n      },\n      colors: {\n        properties: ['backgroundColor', 'borderColor'],\n        type: 'color'\n      }\n    },\n    clip: true,\n    interaction: {\n      mode: undefined,\n      axis: undefined,\n      intersect: undefined\n    },\n    common: {\n      drawTime: 'afterDatasetsDraw',\n      init: false,\n      label: {\n      }\n    }\n  },\n\n  descriptors: {\n    _indexable: false,\n    _scriptable: (prop) => !hooks.includes(prop) && prop !== 'init',\n    annotations: {\n      _allKeys: false,\n      _fallback: (prop, opts) => `elements.${annotationTypes[resolveType(opts.type)].id}`\n    },\n    interaction: {\n      _fallback: true\n    },\n    common: {\n      label: {\n        _indexable: isIndexable,\n        _fallback: true\n      },\n      _indexable: isIndexable\n    }\n  },\n\n  additionalOptionScopes: ['']\n};\n\nfunction draw(chart, caller, clip) {\n  const {ctx, chartArea} = chart;\n  const state = chartStates.get(chart);\n\n  if (clip) {\n    clipArea(ctx, chartArea);\n  }\n\n  const drawableElements = getDrawableElements(state.visibleElements, caller).sort((a, b) => a.element.options.z - b.element.options.z);\n  for (const item of drawableElements) {\n    drawElement(ctx, chartArea, state, item);\n  }\n\n  if (clip) {\n    unclipArea(ctx);\n  }\n}\n\nfunction getDrawableElements(elements, caller) {\n  const drawableElements = [];\n  for (const el of elements) {\n    if (el.options.drawTime === caller) {\n      drawableElements.push({element: el, main: true});\n    }\n    if (el.elements && el.elements.length) {\n      for (const sub of el.elements) {\n        if (sub.options.display && sub.options.drawTime === caller) {\n          drawableElements.push({element: sub});\n        }\n      }\n    }\n  }\n  return drawableElements;\n}\n\nfunction drawElement(ctx, chartArea, state, item) {\n  const el = item.element;\n  if (item.main) {\n    invokeHook(state, el, 'beforeDraw');\n    el.draw(ctx, chartArea);\n    invokeHook(state, el, 'afterDraw');\n  } else {\n    el.draw(ctx, chartArea);\n  }\n}\n\nexport { annotation as default };\n","import { Controller } from \"@hotwired/stimulus\"\nimport { Chart, registerables } from \"chart.js\"\nimport annotationPlugin from 'chartjs-plugin-annotation';\n\nChart.register(annotationPlugin, ...registerables);\n\nexport default class extends Controller {\n\n  static targets = [\"canvas\"]\n  static values = {\n    measurements: Array,\n    referenceRange: String,\n    unit: String\n  }\n\n  connect() {\n    const measurements = this.measurementsValue\n    const referenceRange = this.referenceRangeValue\n\n    console.log(measurements)\n\n    const unit = this.unitValue\n\n    const [minRange, maxRange] = this.parseReferenceRange(referenceRange)\n\n    const config = {\n      type: 'line',\n      data: {\n        labels: measurements.map(m => new Date(m.recorded_at).toLocaleDateString()),\n        datasets: [\n          {\n            label: 'Measurements',\n            data: measurements.map(m => parseFloat(m.value)),\n            borderColor: 'rgb(13, 148, 136)',\n            backgroundColor: 'rgba(13, 148, 136, 0.1)',\n            tension: 0.1,\n            pointRadius: 6,\n            pointHoverRadius: 8\n          }\n        ]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        animation: false,\n        plugins: {\n          legend: {\n            display: false\n          },\n          tooltip: {\n            enabled: true,\n            callbacks: {\n              label: (context) => `${context.parsed.y} ${unit}`\n            }\n          },\n          annotation: {\n            annotations: {\n              box1: {\n                type: 'box',\n                yMin: minRange,\n                yMax: maxRange,\n                backgroundColor: 'rgba(163, 230, 53, 0.1)',\n                borderColor: 'rgba(163, 230, 53, 0.3)',\n                borderWidth: 1,\n                label: {\n                  display: true,\n                  content: 'Normal Range',\n                  position: 'start'\n                }\n              }\n            }\n          }\n        },\n        scales: {\n          y: {\n            title: {\n              display: true,\n              text: unit\n            },\n            grid: {\n              drawBorder: false\n            }\n          },\n          x: {\n            type: 'category',\n            grid: {\n              display: false\n            }\n          }\n        }\n      }\n    }\n\n\n   this.chart = new Chart(this.canvasTarget, config)\n  }\n\n  disconnect() {\n    if (this.chart) {\n      this.chart.destroy()\n      this.chart = null\n    }\n  }\n\n  parseReferenceRange(range) {\n    if (range.includes('-')) {\n      return range.split('-').map(v => parseFloat(v))\n    } else if (range.includes('<')) {\n      return [0, parseFloat(range.replace('<', ''))]\n    } else if (range.includes('>')) {\n      return [parseFloat(range.replace('>', '')), Infinity]\n    }\n    return [0, 0]\n  }\n}","// Import and register all your controllers from the importmap via controllers/**/*_controller\nimport { Application } from \"@hotwired/stimulus\"\nimport ChartController from \"./chart_controller.js\"\n\nconst application = Application.start()\n\napplication.register(\"chart\", ChartController)\n\n// Configure Stimulus development experience\napplication.debug = false\nwindow.Stimulus   = application\n\nexport { application }\n"],"file":"assets/application-DnN3Pt1R.js"}